<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>nfs-ganesha: fsal_access.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nfs-ganesha&#160;<span id="projectnumber">1.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>fsal_access.c File Reference</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;rpc/rpc.h&gt;</code><br/>
<code>#include &lt;rpc/xdr.h&gt;</code><br/>
<code>#include &quot;nfs4.h&quot;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="FSAL__PROXY_2fsal__internal_8h_source.html">fsal_internal.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="FSAL_2FSAL__PROXY_2fsal__convert_8h_source.html">fsal_convert.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="FSAL__PROXY_2fsal__common_8h_source.html">fsal_common.h</a>&quot;</code><br/>
<code>#include &quot;nfs_proto_functions.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="fsal__nfsv4__macros_8h_source.html">fsal_nfsv4_macros.h</a>&quot;</code><br/>
</div>
<p><a href="FSAL__PROXY_2fsal__access_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__access_8c.html#aa71383c73c76e42cfed436a45ca7cb5a">FSAL_ACCESS_NB_OP_ACCESS</a>&#160;&#160;&#160;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__access_8c.html#a308f7ccd59e0ceb8899088fc09a034ec">FSAL_ACCESS_IDX_OP_PUTFH</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__access_8c.html#ad2129ab5961ca54885d0e856b2249a9f">FSAL_ACCESS_IDX_OP_ACCESS</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__access_8c.html#a361058a8d4b0c535e87f87e7755c9d1b">FSAL_ACCESS_IDX_OP_GETATTR</a>&#160;&#160;&#160;2</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__access_8c.html#a0f4da8dcc5bed4ab5f5d7e69646e7efe">PROXYFSAL_access</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *object_handle, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *context, <a class="el" href="fsal__types_8h.html#a67f294990c65fb1f373bd9a21b139d67">fsal_accessflags_t</a> access_type, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *object_attributes)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ad2129ab5961ca54885d0e856b2249a9f"></a><!-- doxytag: member="FSAL_PROXY/fsal_access.c::FSAL_ACCESS_IDX_OP_ACCESS" ref="ad2129ab5961ca54885d0e856b2249a9f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_ACCESS_IDX_OP_ACCESS&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a361058a8d4b0c535e87f87e7755c9d1b"></a><!-- doxytag: member="FSAL_PROXY/fsal_access.c::FSAL_ACCESS_IDX_OP_GETATTR" ref="a361058a8d4b0c535e87f87e7755c9d1b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_ACCESS_IDX_OP_GETATTR&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a308f7ccd59e0ceb8899088fc09a034ec"></a><!-- doxytag: member="FSAL_PROXY/fsal_access.c::FSAL_ACCESS_IDX_OP_PUTFH" ref="a308f7ccd59e0ceb8899088fc09a034ec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_ACCESS_IDX_OP_PUTFH&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa71383c73c76e42cfed436a45ca7cb5a"></a><!-- doxytag: member="FSAL_PROXY/fsal_access.c::FSAL_ACCESS_NB_OP_ACCESS" ref="aa71383c73c76e42cfed436a45ca7cb5a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_ACCESS_NB_OP_ACCESS&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a0f4da8dcc5bed4ab5f5d7e69646e7efe"></a><!-- doxytag: member="FSAL_PROXY/fsal_access.c::PROXYFSAL_access" ref="a0f4da8dcc5bed4ab5f5d7e69646e7efe" args="(fsal_handle_t *object_handle, fsal_op_context_t *context, fsal_accessflags_t access_type, fsal_attrib_list_t *object_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> PROXYFSAL_access </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>object_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a67f294990c65fb1f373bd9a21b139d67">fsal_accessflags_t</a>&#160;</td>
          <td class="paramname"><em>access_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>object_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>PROXYFSAL_access : Tests whether the user or entity identified by the p_context structure can access the object identified by object_handle, as indicated by the access_type parameter.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">object_handle</td><td>(input): The handle of the object to test permissions on. </td></tr>
    <tr><td class="paramname">p_context</td><td>(input): Authentication context for the operation (export entry, user,...). </td></tr>
    <tr><td class="paramname">access_type</td><td>(input): Indicates the permissions to be tested. This is an inclusive OR of the permissions to be checked for the user specified by p_context. Permissions constants are :</p>
<ul>
<li>FSAL_R_OK : test for read permission</li>
<li>FSAL_W_OK : test for write permission</li>
<li>FSAL_X_OK : test for exec permission</li>
<li>FSAL_F_OK : test for file existence </li>
</ul>
</td></tr>
    <tr><td class="paramname">object_attributes</td><td>(optional input/output): The post operation attributes for the object. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). Can be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error, asked permission is granted)</li>
<li>ERR_FSAL_ACCESS (object permissions doesn't fit asked access type)</li>
<li>ERR_FSAL_STALE (object_handle does not address an existing object)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes when something anormal occurs. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__PROXY_2fsal__access_8c_source.html#l00074">74</a> of file <a class="el" href="FSAL__PROXY_2fsal__access_8c_source.html">FSAL_PROXY/fsal_access.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Nov 21 2012 for nfs-ganesha by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
