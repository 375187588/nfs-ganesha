<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>nfs-ganesha: fsal_internal.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nfs-ganesha&#160;<span id="projectnumber">1.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>fsal_internal.h File Reference</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;fsal.h&quot;</code><br/>
<code>#include &quot;FSAL/common_functions.h&quot;</code><br/>
<code>#include &lt;libzfswrap.h&gt;</code><br/>
</div>
<p><a href="FSAL__ZFS_2fsal__internal_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsnapshot__t.html">snapshot_t</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a547e7bd4ee32bfdb8a0d05b6256bc8e5">POSIX_SUPPORTED_ATTRIBUTES</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a2ca38b8637e0751ef38dcc6ee67beb6f">fsal_internal_init_global</a> (<a class="el" href="structfsal__init__info____.html">fsal_init_info_t</a> *fsal_info, <a class="el" href="structfs__common__initinfo____.html">fs_common_initinfo_t</a> *fs_common_info, <a class="el" href="structfs__specific__initinfo____.html">fs_specific_initinfo_t</a> *fs_specific_info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a79dcb2ba7f283a1ba5c6010d76fa88f1">fsal_increment_nbcall</a> (int function_index, <a class="el" href="structfsal__status____.html">fsal_status_t</a> status)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a6de88949985cac9da4cd3fb302fb80a7">fsal_internal_getstats</a> (<a class="el" href="structfsal__statistics____.html">fsal_statistics_t</a> *output_stats)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a880a1463c400047bfd0401f0b9c431a7">TakeTokenFSCall</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a3ebf10f203cc6b718170d47f661b101a">ReleaseTokenFSCall</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a16798129103da795f42f16b7f733c969">ZFSFSAL_access</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_object_handle, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="fsal__types_8h.html#a67f294990c65fb1f373bd9a21b139d67">fsal_accessflags_t</a> access_type, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_object_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a565570aeab560b42d12869857b1ba608">ZFSFSAL_getattrs</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_filehandle, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_object_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#af86e8db87fecdbccb63c532529418c65">ZFSFSAL_setattrs</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_filehandle, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_attrib_set, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_object_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FSALCredFunctions.html#ga7de57664f4d6396c1cf6e08b6cb15aec">ZFSFSAL_BuildExportContext</a> (<a class="el" href="structfsal__export__context____.html">fsal_export_context_t</a> *p_export_context, <a class="el" href="structfsal__path____.html">fsal_path_t</a> *p_export_path, char *fs_specific_options)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a01cce9267a3e31a977fc16bbfa93455e">ZFSFSAL_create</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_parent_directory_handle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_filename, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="fsal__types_8h.html#ae8181bd7dedf0606eeaf57e8fb64a7f0">fsal_accessmode_t</a> accessmode, <a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_object_handle, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_object_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a577898b20c4692280ce2afed682ee26f">ZFSFSAL_mkdir</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_parent_directory_handle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_dirname, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="fsal__types_8h.html#ae8181bd7dedf0606eeaf57e8fb64a7f0">fsal_accessmode_t</a> accessmode, <a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_object_handle, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_object_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#aac36128973e65efe242ba5c8c3d404f8">ZFSFSAL_link</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_target_handle, <a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_dir_handle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_link_name, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#aa3c2d52fa71424b6d7c1c01bf6032ea0">ZFSFSAL_mknode</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *parentdir_handle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_node_name, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="fsal__types_8h.html#ae8181bd7dedf0606eeaf57e8fb64a7f0">fsal_accessmode_t</a> accessmode, <a class="el" href="fsal__types_8h.html#ac7b386ef9390188b635598625b481fb1">fsal_nodetype_t</a> nodetype, <a class="el" href="structfsal__dev____.html">fsal_dev_t</a> *dev, <a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_object_handle, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *node_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a8508328f04f02bd48b81cf7a4d28b0f1">ZFSFSAL_opendir</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_dir_handle, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#a22dbc1a67774c8108feeffdf62ab5e1c">fsal_dir_t</a> *p_dir_descriptor, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_dir_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a3349efa19bcd941d7c2493c24f936ce2">ZFSFSAL_readdir</a> (<a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#a22dbc1a67774c8108feeffdf62ab5e1c">fsal_dir_t</a> *p_dir_descriptor, <a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#a900a60a4cff66da8584b2bf9a9270f29">fsal_cookie_t</a> start_position, <a class="el" href="fsal__types_8h.html#a3cf899c676941b1d5f789b2b22af8821">fsal_attrib_mask_t</a> get_attr_mask, <a class="el" href="fsal__types_8h.html#aaefe0a045d834393dcb50969ac6cacff">fsal_mdsize_t</a> buffersize, <a class="el" href="structfsal__dirent____.html">fsal_dirent_t</a> *p_pdirent, <a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#a900a60a4cff66da8584b2bf9a9270f29">fsal_cookie_t</a> *p_end_position, <a class="el" href="fsal__types_8h.html#aa3ae41ff3bda56167bed886f36f362fd">fsal_count_t</a> *p_nb_entries, <a class="el" href="fsal__types_8h.html#a53f0544635d3f80fbee0bde1b3a4fb9b">fsal_boolean_t</a> *p_end_of_dir)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a1f97aa1cf069aefadcfcd3b97f5aaf3d">ZFSFSAL_closedir</a> (<a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#a22dbc1a67774c8108feeffdf62ab5e1c">fsal_dir_t</a> *p_dir_descriptor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a79e65d1c50e2e41f71736a6286bfa908">ZFSFSAL_open_by_name</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *dirhandle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *filename, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="fsal__types_8h.html#a32a4d2db8d51a91baa4adf861fcdd914">fsal_openflags_t</a> openflags, <a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *file_descriptor, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *file_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a96d5728973253cf279710bd59308bb63">ZFSFSAL_open</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_filehandle, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="fsal__types_8h.html#a32a4d2db8d51a91baa4adf861fcdd914">fsal_openflags_t</a> openflags, <a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *p_file_descriptor, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_file_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#ade7303ba7f1dee1e486a372306236606">ZFSFSAL_read</a> (<a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *p_file_descriptor, <a class="el" href="structfsal__seek____.html">fsal_seek_t</a> *p_seek_descriptor, <a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> buffer_size, caddr_t buffer, <a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> *p_read_amount, <a class="el" href="fsal__types_8h.html#a53f0544635d3f80fbee0bde1b3a4fb9b">fsal_boolean_t</a> *p_end_of_file)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a261fb06ccbebbbcefde3b07249faa05d">ZFSFSAL_write</a> (<a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *p_file_descriptor, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="structfsal__seek____.html">fsal_seek_t</a> *p_seek_descriptor, <a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> buffer_size, caddr_t buffer, <a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> *p_write_amount)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a61fcd0017e4dc251c1b260339526bbfb">ZFSFSAL_close</a> (<a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *p_file_descriptor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#afd1cf7534c6ef511960244d02a82477e">ZFSFSAL_dynamic_fsinfo</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_filehandle, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="structfsal__dynamicfsinfo____.html">fsal_dynamicfsinfo_t</a> *p_dynamicinfo)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a890f65948182b6ef41ca6eacb94a3609">ZFSFSAL_Init</a> (<a class="el" href="structfsal__parameter____.html">fsal_parameter_t</a> *init_info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a8e7272864a269a5cf84fc0352d746c19">ZFSFSAL_terminate</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a595059da9c97da0accc984ee81e663bb">ZFSFSAL_test_access</a> (<a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="fsal__types_8h.html#a67f294990c65fb1f373bd9a21b139d67">fsal_accessflags_t</a> access_type, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_object_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#ac960846b9e386d120cc825fbdbaf361d">ZFSFSAL_lookup</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_parent_directory_handle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_filename, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_object_handle, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_object_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#ab80998382465048fddffbb320ee8eaaf">ZFSFSAL_lookupPath</a> (<a class="el" href="structfsal__path____.html">fsal_path_t</a> *p_path, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *object_handle, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_object_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#acf62a6b98f8442631f90c9767d5e17c3">ZFSFSAL_lookupJunction</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_junction_handle, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_fsoot_handle, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_fsroot_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#aab49ae474126ec99017909f6e160450b">ZFSFSAL_rcp</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *filehandle, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="structfsal__path____.html">fsal_path_t</a> *p_local_path, <a class="el" href="fsal__types_8h.html#a34353b690072f95636491d5c6b4db624">fsal_rcpflag_t</a> transfer_opt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a4a706980f52d246035c09de834af4b03">ZFSFSAL_rename</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_old_parentdir_handle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_old_name, <a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_new_parentdir_handle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_new_name, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_src_dir_attributes, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_tgt_dir_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a4cc8bdde763d9359a45bae9bc0e28520">ZFSFSAL_get_stats</a> (<a class="el" href="structfsal__statistics____.html">fsal_statistics_t</a> *<a class="el" href="test__nfs__ip__stats_8c.html#a4d7b4030c58b787ff8bb3b5cdede913f">stats</a>, <a class="el" href="fsal__types_8h.html#a53f0544635d3f80fbee0bde1b3a4fb9b">fsal_boolean_t</a> reset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#aa4207e07de41a31184edfee40d88e256">ZFSFSAL_readlink</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_linkhandle, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="structfsal__path____.html">fsal_path_t</a> *p_link_content, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_link_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a06e5f99b43c1f9001ecf597e2c80fd0e">ZFSFSAL_symlink</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_parent_directory_handle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_linkname, <a class="el" href="structfsal__path____.html">fsal_path_t</a> *p_linkcontent, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="fsal__types_8h.html#ae8181bd7dedf0606eeaf57e8fb64a7f0">fsal_accessmode_t</a> accessmode, <a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_link_handle, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_link_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a5ef8af05775bddc84abbb970b4288b2f">ZFSFSAL_handlecmp</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *handle1, <a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *handle2, <a class="el" href="structfsal__status____.html">fsal_status_t</a> *status)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a9ed7561aa689e84d5adb1ebb00089e24">ZFSFSAL_Handle_to_HashIndex</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_handle, unsigned int cookie, unsigned int alphabet_len, unsigned int index_size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a585f283b2168c88ad546a610d0e52765">ZFSFSAL_Handle_to_RBTIndex</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_handle, unsigned int cookie)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a80aa2042da4e9b0ac910303f5d6e8b98">ZFSFSAL_DigestHandle</a> (<a class="el" href="structfsal__export__context____.html">fsal_export_context_t</a> *exp_context, <a class="el" href="fsal__types_8h.html#a6b861e58fd209b5146465e558f0a547f">fsal_digesttype_t</a> output_type, <a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *in_fsal_handle, struct <a class="el" href="structfsal__handle__desc.html">fsal_handle_desc</a> *fh_desc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a10fe3dc9f29f3d2b6f8d2aad0911e343">ZFSFSAL_ExpandHandle</a> (<a class="el" href="structfsal__export__context____.html">fsal_export_context_t</a> *p_expcontext, <a class="el" href="fsal__types_8h.html#a6b861e58fd209b5146465e558f0a547f">fsal_digesttype_t</a> in_type, struct <a class="el" href="structfsal__handle__desc.html">fsal_handle_desc</a> *fh_desc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#aa22af64c79fd78c8c7b34d9f60f86d80">ZFSFSAL_SetDefault_FS_specific_parameter</a> (<a class="el" href="structfsal__parameter____.html">fsal_parameter_t</a> *out_parameter)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a674ee2eca3b785338ab537205e655b1c">ZFSFSAL_load_FS_specific_parameter_from_conf</a> (<a class="el" href="config__parsing_8h.html#adfea46b92009fb7b8d52287bd2aa1900">config_file_t</a> in_config, <a class="el" href="structfsal__parameter____.html">fsal_parameter_t</a> *out_parameter)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#ade81319a1f43a8bb787d61df9e700b94">ZFSFSAL_truncate</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_filehandle, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> length, <a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *file_descriptor, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_object_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a9c793fa9d61c867590e34e6c9592f42c">ZFSFSAL_unlink</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_parent_directory_handle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_object_name, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_parent_directory_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a70f643641234cad65bb29724615c366f">ZFSFSAL_GetFSName</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#ab7fa6b078f9b94781eace376075f73aa">ZFSFSAL_GetXAttrAttrs</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_objecthandle, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, unsigned int xattr_id, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_attrs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#ad6b7b081762ef76bd3fe75dbd3143a12">ZFSFSAL_ListXAttrs</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_objecthandle, unsigned int cookie, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="structfsal__xattrent____.html">fsal_xattrent_t</a> *xattrs_tab, unsigned int xattrs_tabsize, unsigned int *p_nb_returned, int *end_of_list)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#addc695d4d6e9ce24c7066c694785d915">ZFSFSAL_GetXAttrValueById</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_objecthandle, unsigned int xattr_id, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, caddr_t buffer_addr, size_t buffer_size, size_t *p_output_size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#aa4aaedd7cdeebb9c00f582ed36f21000">ZFSFSAL_GetXAttrIdByName</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_objecthandle, const <a class="el" href="structfsal__name____.html">fsal_name_t</a> *xattr_name, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, unsigned int *pxattr_id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a78f6fbc2aaa732cfa04c15a84b288263">ZFSFSAL_GetXAttrValueByName</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_objecthandle, const <a class="el" href="structfsal__name____.html">fsal_name_t</a> *xattr_name, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, caddr_t buffer_addr, size_t buffer_size, size_t *p_output_size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a6812390ad2996c835a40a7a2c9303950">ZFSFSAL_SetXAttrValue</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_objecthandle, const <a class="el" href="structfsal__name____.html">fsal_name_t</a> *xattr_name, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, caddr_t buffer_addr, size_t buffer_size, int create)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#ad19388b43508d6a988c9d1004f1c0bdf">ZFSFSAL_SetXAttrValueById</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_objecthandle, unsigned int xattr_id, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, caddr_t buffer_addr, size_t buffer_size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#adb66d3d0c3b4c69abe3f7ee806bfa503">ZFSFSAL_RemoveXAttrById</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_objecthandle, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, unsigned int xattr_id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a289873fa0dbd355711e23f2e0b53b2eb">ZFSFSAL_RemoveXAttrByName</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_objecthandle, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, const <a class="el" href="structfsal__name____.html">fsal_name_t</a> *xattr_name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#afd8663536435d7b5fc62436015244230">ZFSFSAL_GetXattrOffsetSetable</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a68a46b54524aa7ab64ff7c8a92b70ddb">ZFSFSAL_GetFileno</a> (<a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *pfile)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a46176f88cea71d4df9974730db4eb8b4">ZFSFSAL_getextattrs</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *p_filehandle, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="structfsal__extattrib__list____.html">fsal_extattrib_list_t</a> *p_object_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a56fcd85311177929395b678dcb13afce">ZFSFSAL_commit</a> (<a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *p_file_descriptor, <a class="el" href="fsal__types_8h.html#a4b363d8dd7f629e250d1fc420685b587">fsal_off_t</a> offset, <a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> size)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">libzfswrap_handle_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a976aafd23ef58c56245a3a027576ada9">p_zhd</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__staticfsinfo__t.html">fsal_staticfsinfo_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a2c43caebcfbbfc95b5d4917b99d70fa1">global_fs_info</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a547e7bd4ee32bfdb8a0d05b6256bc8e5"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::POSIX_SUPPORTED_ATTRIBUTES" ref="a547e7bd4ee32bfdb8a0d05b6256bc8e5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define POSIX_SUPPORTED_ATTRIBUTES</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">(                                       \
          <a class="code" href="fsal__types_8h.html#a70cfe2cc01ad6d6a7a612b535f088231">FSAL_ATTR_SUPPATTR</a> | <a class="code" href="fsal__types_8h.html#aa8043bacec09f83fc424e2cbc638a896">FSAL_ATTR_TYPE</a>     | <a class="code" href="fsal__types_8h.html#a5859dca54adcb7dfed89e82ec0e265b6">FSAL_ATTR_SIZE</a>      | \
          <a class="code" href="fsal__types_8h.html#af10789529b464358c687fcf21cc46ba7">FSAL_ATTR_FSID</a>     |  <a class="code" href="fsal__types_8h.html#a2bccbc89b989f052b1778db8081831f2">FSAL_ATTR_FILEID</a>  | \
          <a class="code" href="fsal__types_8h.html#aa94f1053d0de1f0e5a0706d640cf300e">FSAL_ATTR_MODE</a>     | <a class="code" href="fsal__types_8h.html#adc202dcb83bbb21a80346a73bcdde62a">FSAL_ATTR_NUMLINKS</a> | <a class="code" href="fsal__types_8h.html#ac8af49f265b9c157cf8d27e156086e07">FSAL_ATTR_OWNER</a>     | \
          <a class="code" href="fsal__types_8h.html#a36d30893495819b31377203edbcb91cf">FSAL_ATTR_GROUP</a>    | <a class="code" href="fsal__types_8h.html#aa809a24aeeb4b580487163fea39856a1">FSAL_ATTR_ATIME</a>    | <a class="code" href="fsal__types_8h.html#a40289b986531e7ab8635d1ba52244dee">FSAL_ATTR_RAWDEV</a>    | \
          <a class="code" href="fsal__types_8h.html#a12ba97e931b1f15cd91ff6d1fd88b3c7">FSAL_ATTR_CTIME</a>    | <a class="code" href="fsal__types_8h.html#a9831a00094624d8747ecbf71c1560e8d">FSAL_ATTR_MTIME</a>    | <a class="code" href="fsal__types_8h.html#a00384f412d9747624a5eb9caf5ac38cd">FSAL_ATTR_SPACEUSED</a> | \
          <a class="code" href="fsal__types_8h.html#a9fa6f5c9e02806fe1f7b18ab5c1e6f58">FSAL_ATTR_CHGTIME</a>  )
</pre></div>
<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__internal_8h_source.html#l00028">28</a> of file <a class="el" href="FSAL__ZFS_2fsal__internal_8h_source.html">FSAL_ZFS/fsal_internal.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a79dcb2ba7f283a1ba5c6010d76fa88f1"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::fsal_increment_nbcall" ref="a79dcb2ba7f283a1ba5c6010d76fa88f1" args="(int function_index, fsal_status_t status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsal_increment_nbcall </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>function_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Increments the number of calls for a function.</p>
<p>fsal_increment_nbcall: Updates fonction call statistics.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">function_index</td><td>(input): Index of the function whom number of call is to be incremented. </td></tr>
    <tr><td class="paramname">status</td><td>(input): Status the function returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Nothing. </dd></dl>

<p>Definition at line <a class="el" href="FSAL__CEPH_2fsal__internal_8c_source.html#l00135">135</a> of file <a class="el" href="FSAL__CEPH_2fsal__internal_8c_source.html">FSAL_CEPH/fsal_internal.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6de88949985cac9da4cd3fb302fb80a7"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::fsal_internal_getstats" ref="a6de88949985cac9da4cd3fb302fb80a7" args="(fsal_statistics_t *output_stats)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsal_internal_getstats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__statistics____.html">fsal_statistics_t</a> *&#160;</td>
          <td class="paramname"><em>output_stats</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves current thread statistics.</p>
<p>fsal_internal_getstats: (For internal use in the FSAL). Retrieve call statistics for current thread.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">output_stats</td><td>(output): Pointer to the call statistics structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Nothing. </dd></dl>

<p>Definition at line <a class="el" href="FSAL__CEPH_2fsal__internal_8c_source.html#l00211">211</a> of file <a class="el" href="FSAL__CEPH_2fsal__internal_8c_source.html">FSAL_CEPH/fsal_internal.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2ca38b8637e0751ef38dcc6ee67beb6f"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::fsal_internal_init_global" ref="a2ca38b8637e0751ef38dcc6ee67beb6f" args="(fsal_init_info_t *fsal_info, fs_common_initinfo_t *fs_common_info, fs_specific_initinfo_t *fs_specific_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> fsal_internal_init_global </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__init__info____.html">fsal_init_info_t</a> *&#160;</td>
          <td class="paramname"><em>fsal_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfs__common__initinfo____.html">fs_common_initinfo_t</a> *&#160;</td>
          <td class="paramname"><em>fs_common_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfs__specific__initinfo____.html">fs_specific_initinfo_t</a> *&#160;</td>
          <td class="paramname"><em>fs_specific_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function initializes shared variables of the FSAL. </p>

<p>Definition at line <a class="el" href="FSAL__CEPH_2fsal__internal_8c_source.html#l00490">490</a> of file <a class="el" href="FSAL__CEPH_2fsal__internal_8c_source.html">FSAL_CEPH/fsal_internal.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3ebf10f203cc6b718170d47f661b101a"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ReleaseTokenFSCall" ref="a3ebf10f203cc6b718170d47f661b101a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReleaseTokenFSCall </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FSAL__CEPH_2fsal__internal_8c_source.html#l00269">269</a> of file <a class="el" href="FSAL__CEPH_2fsal__internal_8c_source.html">FSAL_CEPH/fsal_internal.c</a>.</p>

</div>
</div>
<a class="anchor" id="a880a1463c400047bfd0401f0b9c431a7"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::TakeTokenFSCall" ref="a880a1463c400047bfd0401f0b9c431a7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TakeTokenFSCall </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used to limit the number of simultaneous calls to Filesystem. </p>

<p>Definition at line <a class="el" href="FSAL__CEPH_2fsal__internal_8c_source.html#l00258">258</a> of file <a class="el" href="FSAL__CEPH_2fsal__internal_8c_source.html">FSAL_CEPH/fsal_internal.c</a>.</p>

</div>
</div>
<a class="anchor" id="a16798129103da795f42f16b7f733c969"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_access" ref="a16798129103da795f42f16b7f733c969" args="(fsal_handle_t *p_object_handle, fsal_op_context_t *p_context, fsal_accessflags_t access_type, fsal_attrib_list_t *p_object_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_access </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>obj_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a67f294990c65fb1f373bd9a21b139d67">fsal_accessflags_t</a>&#160;</td>
          <td class="paramname"><em>access_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>object_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_access : Tests whether the user or entity identified by the p_context structure can access the object identified by object_handle, as indicated by the access_type parameter.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">object_handle</td><td>(input): The handle of the object to test permissions on. </td></tr>
    <tr><td class="paramname">p_context</td><td>(input): Authentication context for the operation (export entry, user,...). </td></tr>
    <tr><td class="paramname">access_type</td><td>(input): Indicates the permissions to be tested. This is an inclusive OR of the permissions to be checked for the user specified by p_context. Permissions constants are :</p>
<ul>
<li>FSAL_R_OK : test for read permission</li>
<li>FSAL_W_OK : test for write permission</li>
<li>FSAL_X_OK : test for exec permission</li>
<li>FSAL_F_OK : test for file existence </li>
</ul>
</td></tr>
    <tr><td class="paramname">object_attributes</td><td>(optional input/output): The post operation attributes for the object. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). Can be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error, asked permission is granted)</li>
<li>ERR_FSAL_ACCESS (object permissions doesn't fit asked access type)</li>
<li>ERR_FSAL_STALE (object_handle does not address an existing object)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes when something anormal occurs. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__access_8c_source.html#l00057">57</a> of file <a class="el" href="FSAL__ZFS_2fsal__access_8c_source.html">FSAL_ZFS/fsal_access.c</a>.</p>

</div>
</div>
<a class="anchor" id="a61fcd0017e4dc251c1b260339526bbfb"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_close" ref="a61fcd0017e4dc251c1b260339526bbfb" args="(fsal_file_t *p_file_descriptor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *&#160;</td>
          <td class="paramname"><em>file_desc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_close: Free the resources allocated by the FSAL_open call.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">file_descriptor</td><td>(input): The file descriptor returned by FSAL_open.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html#l00393">393</a> of file <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html">FSAL_ZFS/fsal_fileop.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1f97aa1cf069aefadcfcd3b97f5aaf3d"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_closedir" ref="a1f97aa1cf069aefadcfcd3b97f5aaf3d" args="(fsal_dir_t *p_dir_descriptor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_closedir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#a22dbc1a67774c8108feeffdf62ab5e1c">fsal_dir_t</a> *&#160;</td>
          <td class="paramname"><em>dir_desc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_closedir : Free the resources allocated for reading directory entries.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dir_descriptor</td><td>(input): Pointer to a directory descriptor filled by FSAL_opendir.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__dirs_8c_source.html#l00308">308</a> of file <a class="el" href="FSAL__ZFS_2fsal__dirs_8c_source.html">FSAL_ZFS/fsal_dirs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a56fcd85311177929395b678dcb13afce"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_commit" ref="a56fcd85311177929395b678dcb13afce" args="(fsal_file_t *p_file_descriptor, fsal_off_t offset, fsal_size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *&#160;</td>
          <td class="paramname"><em>p_file_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a4b363d8dd7f629e250d1fc420685b587">fsal_off_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_commit: This function is used for processing stable writes and COMMIT requests. Calling this function makes sure the changes to a specific file are written to disk rather than kept in memory.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">file_descriptor</td><td>(input): The file descriptor returned by FSAL_open. </td></tr>
    <tr><td class="paramname">offset,:</td><td>The starting offset for the portion of file to be synced </td></tr>
    <tr><td class="paramname">length,:</td><td>The length for the portion of file to be synced.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR: no error.</li>
<li>Another error code if an error occured during this call. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html#l00454">454</a> of file <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html">FSAL_ZFS/fsal_fileop.c</a>.</p>

</div>
</div>
<a class="anchor" id="a01cce9267a3e31a977fc16bbfa93455e"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_create" ref="a01cce9267a3e31a977fc16bbfa93455e" args="(fsal_handle_t *p_parent_directory_handle, fsal_name_t *p_filename, fsal_op_context_t *p_context, fsal_accessmode_t accessmode, fsal_handle_t *p_object_handle, fsal_attrib_list_t *p_object_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>parent_hdl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#ae8181bd7dedf0606eeaf57e8fb64a7f0">fsal_accessmode_t</a>&#160;</td>
          <td class="paramname"><em>accessmode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>obj_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>object_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_create: Create a regular file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">parent_directory_handle</td><td>(input): Handle of the parent directory where the file is to be created. </td></tr>
    <tr><td class="paramname">p_filename</td><td>(input): Pointer to the name of the file to be created. </td></tr>
    <tr><td class="paramname">cred</td><td>(input): Authentication context for the operation (user, export...). </td></tr>
    <tr><td class="paramname">accessmode</td><td>(input): Mode for the file to be created. (the umask defined into the FSAL configuration file will be applied on it). </td></tr>
    <tr><td class="paramname">object_handle</td><td>(output): Pointer to the handle of the created file. </td></tr>
    <tr><td class="paramname">object_attributes</td><td>(optionnal input/output): The postop attributes of the created file. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). Can be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_STALE (parent_directory_handle does not address an existing object)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_ACCESS, ERR_FSAL_EXIST, ERR_FSAL_IO, ...</li>
</ul>
</dd></dl>
<p>NB: if getting postop attributes failed, the function does not return an error but the FSAL_ATTR_RDATTR_ERR bit is set in the object_attributes-&gt;asked_attributes field. </p>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__create_8c_source.html#l00059">59</a> of file <a class="el" href="FSAL__ZFS_2fsal__create_8c_source.html">FSAL_ZFS/fsal_create.c</a>.</p>

</div>
</div>
<a class="anchor" id="a80aa2042da4e9b0ac910303f5d6e8b98"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_DigestHandle" ref="a80aa2042da4e9b0ac910303f5d6e8b98" args="(fsal_export_context_t *exp_context, fsal_digesttype_t output_type, fsal_handle_t *in_fsal_handle, struct fsal_handle_desc *fh_desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_DigestHandle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__export__context____.html">fsal_export_context_t</a> *&#160;</td>
          <td class="paramname"><em>exp_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a6b861e58fd209b5146465e558f0a547f">fsal_digesttype_t</a>&#160;</td>
          <td class="paramname"><em>output_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>in_fsal_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfsal__handle__desc.html">fsal_handle_desc</a> *&#160;</td>
          <td class="paramname"><em>fh_desc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_DigestHandle : Convert an <a class="el" href="unionzfsfsal__handle__t.html">zfsfsal_handle_t</a> to a buffer to be included into NFS handles, or another digest.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">output_type</td><td>(input): Indicates the type of digest to do. </td></tr>
    <tr><td class="paramname">in_fsal_handle</td><td>(input): The handle to be converted to digest. </td></tr>
    <tr><td class="paramname">out_buff</td><td>(output): The buffer where the digest is to be stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The major code is ERR_FSAL_NO_ERROR is no error occured. Else, it is a non null value. </dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__tools_8c_source.html#l00126">126</a> of file <a class="el" href="FSAL__ZFS_2fsal__tools_8c_source.html">FSAL_ZFS/fsal_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="afd1cf7534c6ef511960244d02a82477e"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_dynamic_fsinfo" ref="afd1cf7534c6ef511960244d02a82477e" args="(fsal_handle_t *p_filehandle, fsal_op_context_t *p_context, fsal_dynamicfsinfo_t *p_dynamicinfo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_dynamic_fsinfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>filehandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__dynamicfsinfo____.html">fsal_dynamicfsinfo_t</a> *&#160;</td>
          <td class="paramname"><em>dynamicinfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_dynamic_fsinfo: Return dynamic filesystem info such as used size, free size, number of objects...</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">filehandle</td><td>(input): Handle of an object in the filesystem whom info is to be retrieved. </td></tr>
    <tr><td class="paramname">p_context</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">dynamicinfo</td><td>(output): Pointer to the static info of the filesystem.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__fsinfo_8c_source.html#l00041">41</a> of file <a class="el" href="FSAL__ZFS_2fsal__fsinfo_8c_source.html">FSAL_ZFS/fsal_fsinfo.c</a>.</p>

</div>
</div>
<a class="anchor" id="a10fe3dc9f29f3d2b6f8d2aad0911e343"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_ExpandHandle" ref="a10fe3dc9f29f3d2b6f8d2aad0911e343" args="(fsal_export_context_t *p_expcontext, fsal_digesttype_t in_type, struct fsal_handle_desc *fh_desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_ExpandHandle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__export__context____.html">fsal_export_context_t</a> *&#160;</td>
          <td class="paramname"><em>pexpcontext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a6b861e58fd209b5146465e558f0a547f">fsal_digesttype_t</a>&#160;</td>
          <td class="paramname"><em>in_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfsal__handle__desc.html">fsal_handle_desc</a> *&#160;</td>
          <td class="paramname"><em>fh_desc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_ExpandHandle : Convert a buffer extracted from NFS handles to an FSAL handle.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">in_type</td><td>(input): Indicates the type of digest to be expanded. </td></tr>
    <tr><td class="paramname">in_buff</td><td>(input): Pointer to the digest to be expanded. </td></tr>
    <tr><td class="paramname">out_fsal_handle</td><td>(output): The handle built from digest.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The major code is ERR_FSAL_NO_ERROR is no error occured. Else, it is a non null value. </dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__tools_8c_source.html#l00203">203</a> of file <a class="el" href="FSAL__ZFS_2fsal__tools_8c_source.html">FSAL_ZFS/fsal_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4cc8bdde763d9359a45bae9bc0e28520"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_get_stats" ref="a4cc8bdde763d9359a45bae9bc0e28520" args="(fsal_statistics_t *stats, fsal_boolean_t reset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ZFSFSAL_get_stats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__statistics____.html">fsal_statistics_t</a> *&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a53f0544635d3f80fbee0bde1b3a4fb9b">fsal_boolean_t</a>&#160;</td>
          <td class="paramname"><em>reset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_get_stats: Retrieve call statistics for current thread.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">stats</td><td>(output): Pointer to the call statistics structure. </td></tr>
    <tr><td class="paramname">reset</td><td>(input): Boolean that indicates if the stats must be reset.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Nothing. </dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__stats_8c_source.html#l00033">33</a> of file <a class="el" href="FSAL__ZFS_2fsal__stats_8c_source.html">FSAL_ZFS/fsal_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a565570aeab560b42d12869857b1ba608"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_getattrs" ref="a565570aeab560b42d12869857b1ba608" args="(fsal_handle_t *p_filehandle, fsal_op_context_t *p_context, fsal_attrib_list_t *p_object_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_getattrs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>fhandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>object_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>ZFSFSAL_getattrs: Get attributes for the object specified by its filehandle.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">filehandle</td><td>(input): The handle of the object to get parameters. </td></tr>
    <tr><td class="paramname">p_context</td><td>(input): Authentication context for the operation (user, export...). </td></tr>
    <tr><td class="paramname">object_attributes</td><td>(mandatory input/output): The retrieved attributes for the object. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_STALE (object_handle does not address an existing object)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Another error code if an error occured. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__attrs_8c_source.html#l00047">47</a> of file <a class="el" href="FSAL__ZFS_2fsal__attrs_8c_source.html">FSAL_ZFS/fsal_attrs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a46176f88cea71d4df9974730db4eb8b4"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_getextattrs" ref="a46176f88cea71d4df9974730db4eb8b4" args="(fsal_handle_t *p_filehandle, fsal_op_context_t *p_context, fsal_extattrib_list_t *p_object_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_getextattrs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_filehandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__extattrib__list____.html">fsal_extattrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>p_object_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_getetxattrs: Get attributes for the object specified by its filehandle.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">filehandle</td><td>(input): The handle of the object to get parameters. </td></tr>
    <tr><td class="paramname">cred</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">object_attributes</td><td>(mandatory input/output): The retrieved attributes for the object. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>Another error code if an error occured. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__attrs_8c_source.html#l00285">285</a> of file <a class="el" href="FSAL__ZFS_2fsal__attrs_8c_source.html">FSAL_ZFS/fsal_attrs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a68a46b54524aa7ab64ff7c8a92b70ddb"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_GetFileno" ref="a68a46b54524aa7ab64ff7c8a92b70ddb" args="(fsal_file_t *pfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ZFSFSAL_GetFileno </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *&#160;</td>
          <td class="paramname"><em>pfile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html#l00432">432</a> of file <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html">FSAL_ZFS/fsal_fileop.c</a>.</p>

</div>
</div>
<a class="anchor" id="a70f643641234cad65bb29724615c366f"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_GetFSName" ref="a70f643641234cad65bb29724615c366f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* ZFSFSAL_GetFSName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__tools_8c_source.html#l00028">28</a> of file <a class="el" href="FSAL__ZFS_2fsal__tools_8c_source.html">FSAL_ZFS/fsal_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab7fa6b078f9b94781eace376075f73aa"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_GetXAttrAttrs" ref="ab7fa6b078f9b94781eace376075f73aa" args="(fsal_handle_t *p_objecthandle, fsal_op_context_t *p_context, unsigned int xattr_id, fsal_attrib_list_t *p_attrs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_GetXAttrAttrs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_objecthandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>xattr_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>p_attrs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the attributes of an extended attribute from its index.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_objecthandle</td><td>Handle of the object you want to get attribute for. </td></tr>
    <tr><td class="paramname">p_context</td><td>pointer to the current security context. </td></tr>
    <tr><td class="paramname">xattr_cookie</td><td>xattr's cookie (as returned by listxattrs). </td></tr>
    <tr><td class="paramname">p_attrs</td><td>xattr's attributes. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_attrs</td><td>IN/OUT xattr attributes (if supported) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html#l00271">271</a> of file <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html">FSAL_ZFS/fsal_xattrs.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa4aaedd7cdeebb9c00f582ed36f21000"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_GetXAttrIdByName" ref="aa4aaedd7cdeebb9c00f582ed36f21000" args="(fsal_handle_t *p_objecthandle, const fsal_name_t *xattr_name, fsal_op_context_t *p_context, unsigned int *pxattr_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_GetXAttrIdByName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>obj_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>xattr_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>pxattr_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the index of an xattr based on its name</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_objecthandle</td><td>Handle of the object you want to get attribute for. </td></tr>
    <tr><td class="paramname">xattr_name</td><td>the name of the attribute to be read. </td></tr>
    <tr><td class="paramname">pxattr_id</td><td>found xattr_id</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ERR_FSAL_NO_ERROR if xattr_name exists, ERR_FSAL_NOENT otherwise </dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html#l00663">663</a> of file <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html">FSAL_ZFS/fsal_xattrs.c</a>.</p>

</div>
</div>
<a class="anchor" id="afd8663536435d7b5fc62436015244230"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_GetXattrOffsetSetable" ref="afd8663536435d7b5fc62436015244230" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZFSFSAL_GetXattrOffsetSetable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html#l00935">935</a> of file <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html">FSAL_ZFS/fsal_xattrs.c</a>.</p>

</div>
</div>
<a class="anchor" id="addc695d4d6e9ce24c7066c694785d915"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_GetXAttrValueById" ref="addc695d4d6e9ce24c7066c694785d915" args="(fsal_handle_t *p_objecthandle, unsigned int xattr_id, fsal_op_context_t *p_context, caddr_t buffer_addr, size_t buffer_size, size_t *p_output_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_GetXAttrValueById </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>obj_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>xattr_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">caddr_t&#160;</td>
          <td class="paramname"><em>buffer_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>p_output_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the value of an extended attribute from its index.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_objecthandle</td><td>Handle of the object you want to get attribute for. </td></tr>
    <tr><td class="paramname">xattr_name</td><td>the name of the attribute to be read. </td></tr>
    <tr><td class="paramname">p_context</td><td>pointer to the current security context. </td></tr>
    <tr><td class="paramname">buffer_addr</td><td>address of the buffer where the xattr value is to be stored. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>size of the buffer where the xattr value is to be stored. </td></tr>
    <tr><td class="paramname">p_output_size</td><td>size of the data actually stored into the buffer. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html#l00573">573</a> of file <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html">FSAL_ZFS/fsal_xattrs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a78f6fbc2aaa732cfa04c15a84b288263"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_GetXAttrValueByName" ref="a78f6fbc2aaa732cfa04c15a84b288263" args="(fsal_handle_t *p_objecthandle, const fsal_name_t *xattr_name, fsal_op_context_t *p_context, caddr_t buffer_addr, size_t buffer_size, size_t *p_output_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_GetXAttrValueByName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>obj_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>xattr_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">caddr_t&#160;</td>
          <td class="paramname"><em>buffer_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>p_output_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the value of an extended attribute from its name.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_objecthandle</td><td>Handle of the object you want to get attribute for. </td></tr>
    <tr><td class="paramname">xattr_name</td><td>the name of the attribute to be read. </td></tr>
    <tr><td class="paramname">p_context</td><td>pointer to the current security context. </td></tr>
    <tr><td class="paramname">buffer_addr</td><td>address of the buffer where the xattr value is to be stored. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>size of the buffer where the xattr value is to be stored. </td></tr>
    <tr><td class="paramname">p_output_size</td><td>size of the data actually stored into the buffer. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html#l00727">727</a> of file <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html">FSAL_ZFS/fsal_xattrs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9ed7561aa689e84d5adb1ebb00089e24"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_Handle_to_HashIndex" ref="a9ed7561aa689e84d5adb1ebb00089e24" args="(fsal_handle_t *p_handle, unsigned int cookie, unsigned int alphabet_len, unsigned int index_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ZFSFSAL_Handle_to_HashIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>alphabet_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>index_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_Handle_to_HashIndex This function is used for hashing a FSAL handle in order to dispatch entries into the hash table array.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_handle</td><td>The handle to be hashed </td></tr>
    <tr><td class="paramname">cookie</td><td>Makes it possible to have different hash value for the same handle, when cookie changes. </td></tr>
    <tr><td class="paramname">alphabet_len</td><td>Parameter for polynomial hashing algorithm </td></tr>
    <tr><td class="paramname">index_size</td><td>The range of hash value will be [0..index_size-1]</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The hash value </dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__tools_8c_source.html#l00078">78</a> of file <a class="el" href="FSAL__ZFS_2fsal__tools_8c_source.html">FSAL_ZFS/fsal_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="a585f283b2168c88ad546a610d0e52765"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_Handle_to_RBTIndex" ref="a585f283b2168c88ad546a610d0e52765" args="(fsal_handle_t *p_handle, unsigned int cookie)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ZFSFSAL_Handle_to_RBTIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>cookie</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__tools_8c_source.html#l00101">101</a> of file <a class="el" href="FSAL__ZFS_2fsal__tools_8c_source.html">FSAL_ZFS/fsal_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5ef8af05775bddc84abbb970b4288b2f"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_handlecmp" ref="a5ef8af05775bddc84abbb970b4288b2f" args="(fsal_handle_t *handle1, fsal_handle_t *handle2, fsal_status_t *status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ZFSFSAL_handlecmp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>handle1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>handle2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__status____.html">fsal_status_t</a> *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_handlecmp: Compare 2 handles.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">handle1</td><td>(input): The first handle to be compared. </td></tr>
    <tr><td class="paramname">handle2</td><td>(input): The second handle to be compared. </td></tr>
    <tr><td class="paramname">status</td><td>(output): The status of the compare operation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- 0 if handles are the same.<ul>
<li>A non null value else.</li>
<li>Segfault if status is a NULL pointer. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__tools_8c_source.html#l00049">49</a> of file <a class="el" href="FSAL__ZFS_2fsal__tools_8c_source.html">FSAL_ZFS/fsal_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="a890f65948182b6ef41ca6eacb94a3609"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_Init" ref="a890f65948182b6ef41ca6eacb94a3609" args="(fsal_parameter_t *init_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__parameter____.html">fsal_parameter_t</a> *&#160;</td>
          <td class="paramname"><em>init_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aac36128973e65efe242ba5c8c3d404f8"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_link" ref="aac36128973e65efe242ba5c8c3d404f8" args="(fsal_handle_t *p_target_handle, fsal_handle_t *p_dir_handle, fsal_name_t *p_link_name, fsal_op_context_t *p_context, fsal_attrib_list_t *p_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_link </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>target_hdl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>dir_hdl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_link_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_link: Create a hardlink.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">target_handle</td><td>(input): Handle of the target object. </td></tr>
    <tr><td class="paramname">dir_handle</td><td>(input): Pointer to the directory handle where the hardlink is to be created. </td></tr>
    <tr><td class="paramname">p_link_name</td><td>(input): Pointer to the name of the hardlink to be created. </td></tr>
    <tr><td class="paramname">cred</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">accessmode</td><td>(input): Mode for the directory to be created. (the umask defined into the FSAL configuration file will be applied on it). </td></tr>
    <tr><td class="paramname">attributes</td><td>(optionnal input/output): The post_operation attributes of the linked object. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_STALE (target_handle or dir_handle does not address an existing object)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_ACCESS, ERR_FSAL_EXIST, ERR_FSAL_IO, ...</li>
</ul>
</dd></dl>
<p>NB: if getting postop attributes failed, the function does not return an error but the FSAL_ATTR_RDATTR_ERR bit is set in the attributes-&gt;asked_attributes field. </p>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__create_8c_source.html#l00273">273</a> of file <a class="el" href="FSAL__ZFS_2fsal__create_8c_source.html">FSAL_ZFS/fsal_create.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad6b7b081762ef76bd3fe75dbd3143a12"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_ListXAttrs" ref="ad6b7b081762ef76bd3fe75dbd3143a12" args="(fsal_handle_t *p_objecthandle, unsigned int cookie, fsal_op_context_t *p_context, fsal_xattrent_t *xattrs_tab, unsigned int xattrs_tabsize, unsigned int *p_nb_returned, int *end_of_list)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_ListXAttrs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>obj_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>argcookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__xattrent____.html">fsal_xattrent_t</a> *&#160;</td>
          <td class="paramname"><em>xattrs_tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>xattrs_tabsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>p_nb_returned</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>end_of_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves the list of extended attributes for an object in the filesystem.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_objecthandle</td><td>Handle of the object we want to get extended attributes. </td></tr>
    <tr><td class="paramname">cookie</td><td>index of the next entry to be returned. </td></tr>
    <tr><td class="paramname">p_context</td><td>pointer to the current security context. </td></tr>
    <tr><td class="paramname">xattrs_tab</td><td>a table for storing extended attributes list to. </td></tr>
    <tr><td class="paramname">xattrs_tabsize</td><td>the maximum number of xattr entries that xattrs_tab can contain. </td></tr>
    <tr><td class="paramname">p_nb_returned</td><td>the number of xattr entries actually stored in xattrs_tab. </td></tr>
    <tr><td class="paramname">end_of_list</td><td>this boolean indicates that the end of xattrs list has been reached. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html#l00333">333</a> of file <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html">FSAL_ZFS/fsal_xattrs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a674ee2eca3b785338ab537205e655b1c"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_load_FS_specific_parameter_from_conf" ref="a674ee2eca3b785338ab537205e655b1c" args="(config_file_t in_config, fsal_parameter_t *out_parameter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_load_FS_specific_parameter_from_conf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="config__parsing_8h.html#adfea46b92009fb7b8d52287bd2aa1900">config_file_t</a>&#160;</td>
          <td class="paramname"><em>in_config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__parameter____.html">fsal_parameter_t</a> *&#160;</td>
          <td class="paramname"><em>out_parameter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_load_FSAL_parameter_from_conf, FSAL_load_FS_common_parameter_from_conf, FSAL_load_FS_specific_parameter_from_conf:</p>
<p>Those functions initialize the FSAL init parameter structure from a configuration structure.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">in_config</td><td>(input): Structure that represents the parsed configuration file. </td></tr>
    <tr><td class="paramname">out_parameter</td><td>(ouput) FSAL initialization structure filled according to the configuration file given as parameter.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ERR_FSAL_NO_ERROR (no error) , ERR_FSAL_NOENT (missing a mandatory stanza in config file), ERR_FSAL_INVAL (invalid parameter), ERR_FSAL_SERVERFAULT (unexpected error) ERR_FSAL_FAULT (null pointer given as parameter), </dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__tools_8c_source.html#l00281">281</a> of file <a class="el" href="FSAL__ZFS_2fsal__tools_8c_source.html">FSAL_ZFS/fsal_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac960846b9e386d120cc825fbdbaf361d"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_lookup" ref="ac960846b9e386d120cc825fbdbaf361d" args="(fsal_handle_t *p_parent_directory_handle, fsal_name_t *p_filename, fsal_op_context_t *p_context, fsal_handle_t *p_object_handle, fsal_attrib_list_t *p_object_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_lookup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>parent_hdl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>obj_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>object_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_lookup : Looks up for an object into a directory.</p>
<p>Note : if parent handle and filename are NULL, this retrieves root's handle.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">parent_directory_handle</td><td>(input) Handle of the parent directory to search the object in. </td></tr>
    <tr><td class="paramname">filename</td><td>(input) The name of the object to find. </td></tr>
    <tr><td class="paramname">p_context</td><td>(input) Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">object_handle</td><td>(output) The handle of the object corresponding to filename. </td></tr>
    <tr><td class="paramname">object_attributes</td><td>(optional input/output) Pointer to the attributes of the object we found. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). It can be NULL (increases performances).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_STALE (parent_directory_handle does not address an existing object)</li>
<li>ERR_FSAL_NOTDIR (parent_directory_handle does not address a directory)</li>
<li>ERR_FSAL_NOENT (the object designated by p_filename does not exist)</li>
<li>ERR_FSAL_XDEV (tried to operate a lookup on a filesystem junction. Use FSAL_lookupJunction instead)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_ACCESS, ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__lookup_8c_source.html#l00062">62</a> of file <a class="el" href="FSAL__ZFS_2fsal__lookup_8c_source.html">FSAL_ZFS/fsal_lookup.c</a>.</p>

</div>
</div>
<a class="anchor" id="acf62a6b98f8442631f90c9767d5e17c3"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_lookupJunction" ref="acf62a6b98f8442631f90c9767d5e17c3" args="(fsal_handle_t *p_junction_handle, fsal_op_context_t *p_context, fsal_handle_t *p_fsoot_handle, fsal_attrib_list_t *p_fsroot_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_lookupJunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_junction_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsoot_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsroot_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_lookupJunction : Get the fileset root for a junction.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_junction_handle</td><td>(input) Handle of the junction to be looked up. </td></tr>
    <tr><td class="paramname">cred</td><td>(input) Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">p_fsroot_handle</td><td>(output) The handle of root directory of the fileset. </td></tr>
    <tr><td class="paramname">p_fsroot_attributes</td><td>(optional input/output) Pointer to the attributes of the root directory for the fileset. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). It can be NULL (increases performances).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_STALE (p_junction_handle does not address an existing object)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_ACCESS, ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__lookup_8c_source.html#l00263">263</a> of file <a class="el" href="FSAL__ZFS_2fsal__lookup_8c_source.html">FSAL_ZFS/fsal_lookup.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab80998382465048fddffbb320ee8eaaf"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_lookupPath" ref="ab80998382465048fddffbb320ee8eaaf" args="(fsal_path_t *p_path, fsal_op_context_t *p_context, fsal_handle_t *object_handle, fsal_attrib_list_t *p_object_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_lookupPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__path____.html">fsal_path_t</a> *&#160;</td>
          <td class="paramname"><em>p_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>object_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>object_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_lookupPath : Looks up for an object into the namespace.</p>
<p>Note : if path equals "/", this retrieves root's handle.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>(input) The path of the object to find. </td></tr>
    <tr><td class="paramname">p_context</td><td>(input) Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">object_handle</td><td>(output) The handle of the object corresponding to filename. </td></tr>
    <tr><td class="paramname">object_attributes</td><td>(optional input/output) Pointer to the attributes of the object we found. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). It can be NULL (increases performances).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>ERR_FSAL_INVAL (the path argument is not absolute)</li>
<li>ERR_FSAL_NOENT (an element in the path does not exist)</li>
<li>ERR_FSAL_NOTDIR (an element in the path is not a directory)</li>
<li>ERR_FSAL_XDEV (tried to cross a filesystem junction, whereas is has not been authorized in the server configuration - FSAL::auth_xdev_export parameter)</li>
<li>Other error codes can be returned : ERR_FSAL_ACCESS, ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__lookup_8c_source.html#l00335">335</a> of file <a class="el" href="FSAL__ZFS_2fsal__lookup_8c_source.html">FSAL_ZFS/fsal_lookup.c</a>.</p>

</div>
</div>
<a class="anchor" id="a577898b20c4692280ce2afed682ee26f"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_mkdir" ref="a577898b20c4692280ce2afed682ee26f" args="(fsal_handle_t *p_parent_directory_handle, fsal_name_t *p_dirname, fsal_op_context_t *p_context, fsal_accessmode_t accessmode, fsal_handle_t *p_object_handle, fsal_attrib_list_t *p_object_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_mkdir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>parent_hdl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_dirname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#ae8181bd7dedf0606eeaf57e8fb64a7f0">fsal_accessmode_t</a>&#160;</td>
          <td class="paramname"><em>accessmode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>obj_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>object_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_mkdir: Create a directory.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">parent_directory_handle</td><td>(input): Handle of the parent directory where the subdirectory is to be created. </td></tr>
    <tr><td class="paramname">p_dirname</td><td>(input): Pointer to the name of the directory to be created. </td></tr>
    <tr><td class="paramname">cred</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">accessmode</td><td>(input): Mode for the directory to be created. (the umask defined into the FSAL configuration file will be applied on it). </td></tr>
    <tr><td class="paramname">object_handle</td><td>(output): Pointer to the handle of the created directory. </td></tr>
    <tr><td class="paramname">object_attributes</td><td>(optionnal input/output): The attributes of the created directory. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_STALE (parent_directory_handle does not address an existing object)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_ACCESS, ERR_FSAL_EXIST, ERR_FSAL_IO, ...</li>
</ul>
</dd></dl>
<p>NB: if getting postop attributes failed, the function does not return an error but the FSAL_ATTR_RDATTR_ERR bit is set in the object_attributes-&gt;asked_attributes field. </p>

<p><p>: skip this =&gt; libzfswrap_mkdir might return attributes </p>
</p>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__create_8c_source.html#l00161">161</a> of file <a class="el" href="FSAL__ZFS_2fsal__create_8c_source.html">FSAL_ZFS/fsal_create.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa3c2d52fa71424b6d7c1c01bf6032ea0"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_mknode" ref="aa3c2d52fa71424b6d7c1c01bf6032ea0" args="(fsal_handle_t *parentdir_handle, fsal_name_t *p_node_name, fsal_op_context_t *p_context, fsal_accessmode_t accessmode, fsal_nodetype_t nodetype, fsal_dev_t *dev, fsal_handle_t *p_object_handle, fsal_attrib_list_t *node_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_mknode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>parentdir_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_node_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#ae8181bd7dedf0606eeaf57e8fb64a7f0">fsal_accessmode_t</a>&#160;</td>
          <td class="paramname"><em>accessmode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#ac7b386ef9390188b635598625b481fb1">fsal_nodetype_t</a>&#160;</td>
          <td class="paramname"><em>nodetype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__dev____.html">fsal_dev_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_object_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>node_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_mknode: Create a special object in the filesystem. Not supported in upper layers in this GANESHA's version.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>ERR_FSAL_NOTSUPP. </dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__create_8c_source.html#l00342">342</a> of file <a class="el" href="FSAL__ZFS_2fsal__create_8c_source.html">FSAL_ZFS/fsal_create.c</a>.</p>

</div>
</div>
<a class="anchor" id="a96d5728973253cf279710bd59308bb63"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_open" ref="a96d5728973253cf279710bd59308bb63" args="(fsal_handle_t *p_filehandle, fsal_op_context_t *p_context, fsal_openflags_t openflags, fsal_file_t *p_file_descriptor, fsal_attrib_list_t *p_file_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>file_hdl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a32a4d2db8d51a91baa4adf861fcdd914">fsal_openflags_t</a>&#160;</td>
          <td class="paramname"><em>openflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *&#160;</td>
          <td class="paramname"><em>file_desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>file_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_open: Open a regular file for reading/writing its data content.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">filehandle</td><td>(input): Handle of the file to be read/modified. </td></tr>
    <tr><td class="paramname">cred</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">openflags</td><td>(input): Flags that indicates behavior for file opening and access. This is an inclusive OR of the following values ( such of them are not compatible) :</p>
<ul>
<li>FSAL_O_RDONLY: opening file for reading only.</li>
<li>FSAL_O_RDWR: opening file for reading and writing.</li>
<li>FSAL_O_WRONLY: opening file for writting only.</li>
<li>FSAL_O_APPEND: always write at the end of the file.</li>
<li>FSAL_O_TRUNC: truncate the file to 0 on opening. </li>
</ul>
</td></tr>
    <tr><td class="paramname">file_descriptor</td><td>(output): The file descriptor to be used for FSAL_read/write operations. </td></tr>
    <tr><td class="paramname">file_attributes</td><td>(optionnal input/output): Post operation attributes. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_ACCESS (user doesn't have the permissions for opening the file)</li>
<li>ERR_FSAL_STALE (filehandle does not address an existing object)</li>
<li>ERR_FSAL_INVAL (filehandle does not address a regular file, or open flags are conflicting)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html#l00058">58</a> of file <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html">FSAL_ZFS/fsal_fileop.c</a>.</p>

</div>
</div>
<a class="anchor" id="a79e65d1c50e2e41f71736a6286bfa908"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_open_by_name" ref="a79e65d1c50e2e41f71736a6286bfa908" args="(fsal_handle_t *dirhandle, fsal_name_t *filename, fsal_op_context_t *p_context, fsal_openflags_t openflags, fsal_file_t *file_descriptor, fsal_attrib_list_t *file_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_open_by_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>dirhandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a32a4d2db8d51a91baa4adf861fcdd914">fsal_openflags_t</a>&#160;</td>
          <td class="paramname"><em>openflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *&#160;</td>
          <td class="paramname"><em>file_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>file_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_open_byname: Open a regular file for reading/writing its data content.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dirhandle</td><td>(input): Handle of the directory that contain the file to be read/modified. </td></tr>
    <tr><td class="paramname">filename</td><td>(input): Name of the file to be read/modified </td></tr>
    <tr><td class="paramname">cred</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">openflags</td><td>(input): Flags that indicates behavior for file opening and access. This is an inclusive OR of the following values ( such of them are not compatible) :</p>
<ul>
<li>FSAL_O_RDONLY: opening file for reading only.</li>
<li>FSAL_O_RDWR: opening file for reading and writing.</li>
<li>FSAL_O_WRONLY: opening file for writting only.</li>
<li>FSAL_O_APPEND: always write at the end of the file.</li>
<li>FSAL_O_TRUNC: truncate the file to 0 on opening. </li>
</ul>
</td></tr>
    <tr><td class="paramname">file_descriptor</td><td>(output): The file descriptor to be used for FSAL_read/write operations. </td></tr>
    <tr><td class="paramname">file_attributes</td><td>(optionnal input/output): Post operation attributes. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_ACCESS (user doesn't have the permissions for opening the file)</li>
<li>ERR_FSAL_STALE (filehandle does not address an existing object)</li>
<li>ERR_FSAL_INVAL (filehandle does not address a regular file, or open flags are conflicting)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html#l00173">173</a> of file <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html">FSAL_ZFS/fsal_fileop.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8508328f04f02bd48b81cf7a4d28b0f1"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_opendir" ref="a8508328f04f02bd48b81cf7a4d28b0f1" args="(fsal_handle_t *p_dir_handle, fsal_op_context_t *p_context, fsal_dir_t *p_dir_descriptor, fsal_attrib_list_t *p_dir_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_opendir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>dir_hdl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#a22dbc1a67774c8108feeffdf62ab5e1c">fsal_dir_t</a> *&#160;</td>
          <td class="paramname"><em>dir_desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>dir_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_opendir : Opens a directory for reading its content.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dir_handle</td><td>(input) the handle of the directory to be opened. </td></tr>
    <tr><td class="paramname">p_context</td><td>(input) Permission context for the operation (user, export context...). </td></tr>
    <tr><td class="paramname">dir_descriptor</td><td>(output) pointer to an allocated structure that will receive directory stream informations, on successfull completion. </td></tr>
    <tr><td class="paramname">dir_attributes</td><td>(optional output) On successfull completion,the structure pointed by dir_attributes receives the new directory attributes. Can be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_ACCESS (user does not have read permission on directory)</li>
<li>ERR_FSAL_STALE (dir_handle does not address an existing object)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__dirs_8c_source.html#l00052">52</a> of file <a class="el" href="FSAL__ZFS_2fsal__dirs_8c_source.html">FSAL_ZFS/fsal_dirs.c</a>.</p>

</div>
</div>
<a class="anchor" id="aab49ae474126ec99017909f6e160450b"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_rcp" ref="aab49ae474126ec99017909f6e160450b" args="(fsal_handle_t *filehandle, fsal_op_context_t *p_context, fsal_path_t *p_local_path, fsal_rcpflag_t transfer_opt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_rcp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>filehandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__path____.html">fsal_path_t</a> *&#160;</td>
          <td class="paramname"><em>p_local_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a34353b690072f95636491d5c6b4db624">fsal_rcpflag_t</a>&#160;</td>
          <td class="paramname"><em>transfer_opt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_rcp: Copy an HPSS file to/from a local filesystem.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">filehandle</td><td>(input): Handle of the HPSS file to be copied. </td></tr>
    <tr><td class="paramname">p_context</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">p_local_path</td><td>(input): Path of the file in the local filesystem. </td></tr>
    <tr><td class="paramname">transfer_opt</td><td>(input): Flags that indicate transfer direction and options. This consists of an inclusive OR between the following values :</p>
<ul>
<li>FSAL_RCP_FS_TO_LOCAL: Copy the file from the filesystem to a local path.</li>
<li>FSAL_RCP_LOCAL_TO_FS: Copy the file from local path to the filesystem.</li>
<li>FSAL_RCP_LOCAL_CREAT: Create the target local file if it doesn't exist.</li>
<li>FSAL_RCP_LOCAL_EXCL: Produce an error if the target local file already exists.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_ACCESS (user doesn't have the permissions for opening the file)</li>
<li>ERR_FSAL_STALE (filehandle does not address an existing object)</li>
<li>ERR_FSAL_INVAL (filehandle does not address a regular file, or tranfert options are conflicting)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ERR_FSAL_NOSPC, ERR_FSAL_DQUOT... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__rcp_8c_source.html#l00061">61</a> of file <a class="el" href="FSAL__ZFS_2fsal__rcp_8c_source.html">FSAL_ZFS/fsal_rcp.c</a>.</p>

</div>
</div>
<a class="anchor" id="ade7303ba7f1dee1e486a372306236606"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_read" ref="ade7303ba7f1dee1e486a372306236606" args="(fsal_file_t *p_file_descriptor, fsal_seek_t *p_seek_descriptor, fsal_size_t buffer_size, caddr_t buffer, fsal_size_t *p_read_amount, fsal_boolean_t *p_end_of_file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *&#160;</td>
          <td class="paramname"><em>file_desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__seek____.html">fsal_seek_t</a> *&#160;</td>
          <td class="paramname"><em>seek_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a>&#160;</td>
          <td class="paramname"><em>buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">caddr_t&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> *&#160;</td>
          <td class="paramname"><em>read_amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a53f0544635d3f80fbee0bde1b3a4fb9b">fsal_boolean_t</a> *&#160;</td>
          <td class="paramname"><em>end_of_file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_read: Perform a read operation on an opened file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">file_descriptor</td><td>(input): The file descriptor returned by FSAL_open. </td></tr>
    <tr><td class="paramname">seek_descriptor</td><td>(optional input): Specifies the position where data is to be read. If not specified, data will be read at the current position. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>(input): Amount (in bytes) of data to be read. </td></tr>
    <tr><td class="paramname">buffer</td><td>(output): Address where the read data is to be stored in memory. </td></tr>
    <tr><td class="paramname">read_amount</td><td>(output): Pointer to the amount of data (in bytes) that have been read during this call. </td></tr>
    <tr><td class="paramname">end_of_file</td><td>(output): Pointer to a boolean that indicates whether the end of file has been reached during this call.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_INVAL (invalid parameter)</li>
<li>ERR_FSAL_NOT_OPENED (tried to read in a non-opened <a class="el" href="structzfsfsal__file__t.html">zfsfsal_file_t</a>)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html#l00221">221</a> of file <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html">FSAL_ZFS/fsal_fileop.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3349efa19bcd941d7c2493c24f936ce2"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_readdir" ref="a3349efa19bcd941d7c2493c24f936ce2" args="(fsal_dir_t *p_dir_descriptor, fsal_cookie_t start_position, fsal_attrib_mask_t get_attr_mask, fsal_mdsize_t buffersize, fsal_dirent_t *p_pdirent, fsal_cookie_t *p_end_position, fsal_count_t *p_nb_entries, fsal_boolean_t *p_end_of_dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_readdir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#a22dbc1a67774c8108feeffdf62ab5e1c">fsal_dir_t</a> *&#160;</td>
          <td class="paramname"><em>dir_desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#a900a60a4cff66da8584b2bf9a9270f29">fsal_cookie_t</a>&#160;</td>
          <td class="paramname"><em>start_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a3cf899c676941b1d5f789b2b22af8821">fsal_attrib_mask_t</a>&#160;</td>
          <td class="paramname"><em>get_attr_mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#aaefe0a045d834393dcb50969ac6cacff">fsal_mdsize_t</a>&#160;</td>
          <td class="paramname"><em>buffersize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__dirent____.html">fsal_dirent_t</a> *&#160;</td>
          <td class="paramname"><em>p_dirent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#a900a60a4cff66da8584b2bf9a9270f29">fsal_cookie_t</a> *&#160;</td>
          <td class="paramname"><em>end_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#aa3ae41ff3bda56167bed886f36f362fd">fsal_count_t</a> *&#160;</td>
          <td class="paramname"><em>nb_entries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a53f0544635d3f80fbee0bde1b3a4fb9b">fsal_boolean_t</a> *&#160;</td>
          <td class="paramname"><em>end_of_dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_readdir : Read the entries of an opened directory.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dir_descriptor</td><td>(input): Pointer to the directory descriptor filled by FSAL_opendir. </td></tr>
    <tr><td class="paramname">start_position</td><td>(input): Cookie that indicates the first object to be read during this readdir operation. This should be :</p>
<ul>
<li>FSAL_READDIR_FROM_BEGINNING for reading the content of the directory from the beginning.</li>
<li>The end_position parameter returned by the previous call to FSAL_readdir. </li>
</ul>
</td></tr>
    <tr><td class="paramname">get_attr_mask</td><td>(input) Specify the set of attributes to be retrieved for directory entries. </td></tr>
    <tr><td class="paramname">buffersize</td><td>(input) The size (in bytes) of the buffer where the direntries are to be stored. </td></tr>
    <tr><td class="paramname">p_dirent</td><td>(output) Adresse of the buffer where the direntries are to be stored. </td></tr>
    <tr><td class="paramname">end_position</td><td>(output) Cookie that indicates the current position in the directory. </td></tr>
    <tr><td class="paramname">nb_entries</td><td>(output) Pointer to the number of entries read during the call. </td></tr>
    <tr><td class="paramname">end_of_dir</td><td>(output) Pointer to a boolean that indicates if the end of dir has been reached during the call.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__dirs_8c_source.html#l00145">145</a> of file <a class="el" href="FSAL__ZFS_2fsal__dirs_8c_source.html">FSAL_ZFS/fsal_dirs.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa4207e07de41a31184edfee40d88e256"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_readlink" ref="aa4207e07de41a31184edfee40d88e256" args="(fsal_handle_t *p_linkhandle, fsal_op_context_t *p_context, fsal_path_t *p_link_content, fsal_attrib_list_t *p_link_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_readlink </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>linkhandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__path____.html">fsal_path_t</a> *&#160;</td>
          <td class="paramname"><em>p_link_content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>link_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_readlink: Read the content of a symbolic link.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">linkhandle</td><td>(input): Handle of the link to be read. </td></tr>
    <tr><td class="paramname">cred</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">p_link_content</td><td>(output): Pointer to an fsal path structure where the link content is to be stored.. </td></tr>
    <tr><td class="paramname">link_attributes</td><td>(optionnal input/output): The post operation attributes of the symlink link. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_STALE (linkhandle does not address an existing object)</li>
<li>ERR_FSAL_INVAL (linkhandle does not address a symbolic link)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_ACCESS, ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__symlinks_8c_source.html#l00051">51</a> of file <a class="el" href="FSAL__ZFS_2fsal__symlinks_8c_source.html">FSAL_ZFS/fsal_symlinks.c</a>.</p>

</div>
</div>
<a class="anchor" id="adb66d3d0c3b4c69abe3f7ee806bfa503"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_RemoveXAttrById" ref="adb66d3d0c3b4c69abe3f7ee806bfa503" args="(fsal_handle_t *p_objecthandle, fsal_op_context_t *p_context, unsigned int xattr_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_RemoveXAttrById </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>obj_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>xattr_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes a xattr by Id</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_objecthandle</td><td>Handle of the object you want to get attribute for. </td></tr>
    <tr><td class="paramname">p_context</td><td>pointer to the current security context. </td></tr>
    <tr><td class="paramname">xattr_id</td><td>xattr's id </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html#l00873">873</a> of file <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html">FSAL_ZFS/fsal_xattrs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a289873fa0dbd355711e23f2e0b53b2eb"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_RemoveXAttrByName" ref="a289873fa0dbd355711e23f2e0b53b2eb" args="(fsal_handle_t *p_objecthandle, fsal_op_context_t *p_context, const fsal_name_t *xattr_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_RemoveXAttrByName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>obj_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>xattr_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes a xattr by Name</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_objecthandle</td><td>Handle of the object you want to get attribute for. </td></tr>
    <tr><td class="paramname">p_context</td><td>pointer to the current security context. </td></tr>
    <tr><td class="paramname">xattr_name</td><td>xattr's name </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html#l00911">911</a> of file <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html">FSAL_ZFS/fsal_xattrs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4a706980f52d246035c09de834af4b03"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_rename" ref="a4a706980f52d246035c09de834af4b03" args="(fsal_handle_t *p_old_parentdir_handle, fsal_name_t *p_old_name, fsal_handle_t *p_new_parentdir_handle, fsal_name_t *p_new_name, fsal_op_context_t *p_context, fsal_attrib_list_t *p_src_dir_attributes, fsal_attrib_list_t *p_tgt_dir_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_rename </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>old_parentdir_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_old_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>new_parentdir_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_new_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>src_dir_attributes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>tgt_dir_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_rename: Change name and/or parent dir of a filesystem object.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">old_parentdir_handle</td><td>(input): Source parent directory of the object is to be moved/renamed. </td></tr>
    <tr><td class="paramname">p_old_name</td><td>(input): Pointer to the current name of the object to be moved/renamed. </td></tr>
    <tr><td class="paramname">new_parentdir_handle</td><td>(input): Target parent directory for the object. </td></tr>
    <tr><td class="paramname">p_new_name</td><td>(input): Pointer to the new name for the object. </td></tr>
    <tr><td class="paramname">p_context</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">src_dir_attributes</td><td>(optionnal input/output): Post operation attributes for the source directory. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL. </td></tr>
    <tr><td class="paramname">tgt_dir_attributes</td><td>(optionnal input/output): Post operation attributes for the target directory. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_STALE (a parent directory handle does not address an existing object)</li>
<li>ERR_FSAL_NOTDIR (a parent directory handle does not address a directory)</li>
<li>ERR_FSAL_NOENT (the object designated by p_old_name does not exist)</li>
<li>ERR_FSAL_NOTEMPTY (the target object is a non empty directory)</li>
<li>ERR_FSAL_XDEV (tried to move an object across different filesystems)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_ACCESS, ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__rename_8c_source.html#l00064">64</a> of file <a class="el" href="FSAL__ZFS_2fsal__rename_8c_source.html">FSAL_ZFS/fsal_rename.c</a>.</p>

</div>
</div>
<a class="anchor" id="af86e8db87fecdbccb63c532529418c65"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_setattrs" ref="af86e8db87fecdbccb63c532529418c65" args="(fsal_handle_t *p_filehandle, fsal_op_context_t *p_context, fsal_attrib_list_t *p_attrib_set, fsal_attrib_list_t *p_object_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_setattrs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>fhandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>attrib_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>object_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_setattrs: Set attributes for the object specified by its filehandle.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">filehandle</td><td>(input): The handle of the object to get parameters. </td></tr>
    <tr><td class="paramname">p_context</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">attrib_set</td><td>(mandatory input): The attributes to be set for the object. It defines the attributes that the caller wants to set and their values. </td></tr>
    <tr><td class="paramname">object_attributes</td><td>(optionnal input/output): The post operation attributes for the object. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_STALE (object_handle does not address an existing object)</li>
<li>ERR_FSAL_INVAL (tried to modify a read-only attribute)</li>
<li>ERR_FSAL_ATTRNOTSUPP (tried to modify a non-supported attribute)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Another error code if an error occured. NB: if getting postop attributes failed, the function does not return an error but the FSAL_ATTR_RDATTR_ERR bit is set in the object_attributes-&gt;asked_attributes field. </li>
</ul>
</dd></dl>

<p><p>: use the new_stat info ! </p>
</p>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__attrs_8c_source.html#l00147">147</a> of file <a class="el" href="FSAL__ZFS_2fsal__attrs_8c_source.html">FSAL_ZFS/fsal_attrs.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa22af64c79fd78c8c7b34d9f60f86d80"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_SetDefault_FS_specific_parameter" ref="aa22af64c79fd78c8c7b34d9f60f86d80" args="(fsal_parameter_t *out_parameter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_SetDefault_FS_specific_parameter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__parameter____.html">fsal_parameter_t</a> *&#160;</td>
          <td class="paramname"><em>out_parameter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Those routines set the default parameters for FSAL init structure. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>ERR_FSAL_NO_ERROR (no error) , ERR_FSAL_FAULT (null pointer given as parameter), ERR_FSAL_SERVERFAULT (unexpected error) </dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__tools_8c_source.html#l00245">245</a> of file <a class="el" href="FSAL__ZFS_2fsal__tools_8c_source.html">FSAL_ZFS/fsal_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6812390ad2996c835a40a7a2c9303950"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_SetXAttrValue" ref="a6812390ad2996c835a40a7a2c9303950" args="(fsal_handle_t *p_objecthandle, const fsal_name_t *xattr_name, fsal_op_context_t *p_context, caddr_t buffer_addr, size_t buffer_size, int create)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_SetXAttrValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_objecthandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>xattr_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">caddr_t&#160;</td>
          <td class="paramname"><em>buffer_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>create</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html#l00801">801</a> of file <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html">FSAL_ZFS/fsal_xattrs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad19388b43508d6a988c9d1004f1c0bdf"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_SetXAttrValueById" ref="ad19388b43508d6a988c9d1004f1c0bdf" args="(fsal_handle_t *p_objecthandle, unsigned int xattr_id, fsal_op_context_t *p_context, caddr_t buffer_addr, size_t buffer_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_SetXAttrValueById </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_objecthandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>xattr_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">caddr_t&#160;</td>
          <td class="paramname"><em>buffer_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html#l00834">834</a> of file <a class="el" href="FSAL__ZFS_2fsal__xattrs_8c_source.html">FSAL_ZFS/fsal_xattrs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a06e5f99b43c1f9001ecf597e2c80fd0e"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_symlink" ref="a06e5f99b43c1f9001ecf597e2c80fd0e" args="(fsal_handle_t *p_parent_directory_handle, fsal_name_t *p_linkname, fsal_path_t *p_linkcontent, fsal_op_context_t *p_context, fsal_accessmode_t accessmode, fsal_handle_t *p_link_handle, fsal_attrib_list_t *p_link_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_symlink </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>parent_directory_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_linkname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__path____.html">fsal_path_t</a> *&#160;</td>
          <td class="paramname"><em>p_linkcontent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#ae8181bd7dedf0606eeaf57e8fb64a7f0">fsal_accessmode_t</a>&#160;</td>
          <td class="paramname"><em>accessmode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>link_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>link_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_symlink: Create a symbolic link.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">parent_directory_handle</td><td>(input): Handle of the parent directory where the link is to be created. </td></tr>
    <tr><td class="paramname">p_linkname</td><td>(input): Name of the link to be created. </td></tr>
    <tr><td class="paramname">p_linkcontent</td><td>(input): Content of the link to be created. </td></tr>
    <tr><td class="paramname">cred</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">accessmode</td><td>(ignored input): Mode of the link to be created. It has no sense in HPSS nor UNIX filesystems. </td></tr>
    <tr><td class="paramname">link_handle</td><td>(output): Pointer to the handle of the created symlink. </td></tr>
    <tr><td class="paramname">link_attributes</td><td>(optionnal input/output): Attributes of the newly created symlink. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_STALE (parent_directory_handle does not address an existing object)</li>
<li>ERR_FSAL_NOTDIR (parent_directory_handle does not address a directory)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_ACCESS, ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__symlinks_8c_source.html#l00148">148</a> of file <a class="el" href="FSAL__ZFS_2fsal__symlinks_8c_source.html">FSAL_ZFS/fsal_symlinks.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8e7272864a269a5cf84fc0352d746c19"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_terminate" ref="a8e7272864a269a5cf84fc0352d746c19" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_terminate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__init_8c_source.html#l00173">173</a> of file <a class="el" href="FSAL__ZFS_2fsal__init_8c_source.html">FSAL_ZFS/fsal_init.c</a>.</p>

</div>
</div>
<a class="anchor" id="a595059da9c97da0accc984ee81e663bb"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_test_access" ref="a595059da9c97da0accc984ee81e663bb" args="(fsal_op_context_t *p_context, fsal_accessflags_t access_type, fsal_attrib_list_t *p_object_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_test_access </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a67f294990c65fb1f373bd9a21b139d67">fsal_accessflags_t</a>&#160;</td>
          <td class="paramname"><em>access_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>object_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_test_access : Tests whether the user identified by the p_context structure can access the object as indicated by the access_type parameter. This function tests access rights using cached attributes given as parameter (no calls to filesystem). Thus, it cannot test FSAL_F_OK flag, and asking such a flag will result in a ERR_FSAL_INVAL error.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_context</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">access_type</td><td>(input): Indicates the permissions to test. This is an inclusive OR of the permissions to be checked for the user identified by cred. Permissions constants are :</p>
<ul>
<li>FSAL_R_OK : test for read permission</li>
<li>FSAL_W_OK : test for write permission</li>
<li>FSAL_X_OK : test for exec permission</li>
<li>FSAL_F_OK : test for file existence </li>
</ul>
</td></tr>
    <tr><td class="paramname">object_attributes</td><td>(mandatory input): The cached attributes for the object to test rights on. The following attributes MUST be filled : owner, group, mode, ACLs.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error, permission granted)</li>
<li>ERR_FSAL_ACCESS (object permissions doesn't fit asked access type)</li>
<li>ERR_FSAL_INVAL (FSAL_test_access is not able to test such a permission)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Another error code if an error occured. </li>
</ul>
</dd></dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000065">Todo:</a></b></dt><dd>: ACLs. </dd></dl>
</p>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__local__op_8c_source.html#l00078">78</a> of file <a class="el" href="FSAL__ZFS_2fsal__local__op_8c_source.html">FSAL_ZFS/fsal_local_op.c</a>.</p>

</div>
</div>
<a class="anchor" id="ade81319a1f43a8bb787d61df9e700b94"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_truncate" ref="ade81319a1f43a8bb787d61df9e700b94" args="(fsal_handle_t *p_filehandle, fsal_op_context_t *p_context, fsal_size_t length, fsal_file_t *file_descriptor, fsal_attrib_list_t *p_object_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_truncate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>filehandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a>&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *&#160;</td>
          <td class="paramname"><em>file_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>object_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_truncate: Modify the data length of a regular file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">filehandle</td><td>(input): Handle of the file is to be truncated. </td></tr>
    <tr><td class="paramname">cred</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">length</td><td>(input): The new data length for the file. </td></tr>
    <tr><td class="paramname">object_attributes</td><td>(optionnal input/output): The post operation attributes of the file. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_STALE (filehandle does not address an existing object)</li>
<li>ERR_FSAL_INVAL (filehandle does not address a regular file)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_ACCESS, ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__truncate_8c_source.html#l00049">49</a> of file <a class="el" href="FSAL__ZFS_2fsal__truncate_8c_source.html">FSAL_ZFS/fsal_truncate.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9c793fa9d61c867590e34e6c9592f42c"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_unlink" ref="a9c793fa9d61c867590e34e6c9592f42c" args="(fsal_handle_t *p_parent_directory_handle, fsal_name_t *p_object_name, fsal_op_context_t *p_context, fsal_attrib_list_t *p_parent_directory_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_unlink </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>parentdir_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_object_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>parentdir_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_unlink: Remove a filesystem object .</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">parentdir_handle</td><td>(input): Handle of the parent directory of the object to be deleted. </td></tr>
    <tr><td class="paramname">p_object_name</td><td>(input): Name of the object to be removed. </td></tr>
    <tr><td class="paramname">p_context</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">parentdir_attributes</td><td>(optionnal input/output): Post operation attributes of the parent directory. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_STALE (parentdir_handle does not address an existing object)</li>
<li>ERR_FSAL_NOTDIR (parentdir_handle does not address a directory)</li>
<li>ERR_FSAL_NOENT (the object designated by p_object_name does not exist)</li>
<li>ERR_FSAL_NOTEMPTY (tried to remove a non empty directory)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_ACCESS, ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__unlink_8c_source.html#l00051">51</a> of file <a class="el" href="FSAL__ZFS_2fsal__unlink_8c_source.html">FSAL_ZFS/fsal_unlink.c</a>.</p>

</div>
</div>
<a class="anchor" id="a261fb06ccbebbbcefde3b07249faa05d"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::ZFSFSAL_write" ref="a261fb06ccbebbbcefde3b07249faa05d" args="(fsal_file_t *p_file_descriptor, fsal_op_context_t *p_context, fsal_seek_t *p_seek_descriptor, fsal_size_t buffer_size, caddr_t buffer, fsal_size_t *p_write_amount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *&#160;</td>
          <td class="paramname"><em>file_desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__seek____.html">fsal_seek_t</a> *&#160;</td>
          <td class="paramname"><em>seek_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a>&#160;</td>
          <td class="paramname"><em>buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">caddr_t&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> *&#160;</td>
          <td class="paramname"><em>write_amount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_write: Perform a write operation on an opened file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">file_descriptor</td><td>(input): The file descriptor returned by FSAL_open. </td></tr>
    <tr><td class="paramname">p_context</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">seek_descriptor</td><td>(optional input): Specifies the position where data is to be written. If not specified, data will be written at the current position. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>(input): Amount (in bytes) of data to be written. </td></tr>
    <tr><td class="paramname">buffer</td><td>(input): Address in memory of the data to write to file. </td></tr>
    <tr><td class="paramname">write_amount</td><td>(output): Pointer to the amount of data (in bytes) that have been written during this call.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_INVAL (invalid parameter)</li>
<li>ERR_FSAL_NOT_OPENED (tried to write in a non-opened <a class="el" href="structzfsfsal__file__t.html">zfsfsal_file_t</a>)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ERR_FSAL_NOSPC, ERR_FSAL_DQUOT... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html#l00311">311</a> of file <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html">FSAL_ZFS/fsal_fileop.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a2c43caebcfbbfc95b5d4917b99d70fa1"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::global_fs_info" ref="a2c43caebcfbbfc95b5d4917b99d70fa1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__staticfsinfo__t.html">fsal_staticfsinfo_t</a> <a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a2c43caebcfbbfc95b5d4917b99d70fa1">global_fs_info</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FSAL__CEPH_2fsal__internal_8c_source.html#l00052">52</a> of file <a class="el" href="FSAL__CEPH_2fsal__internal_8c_source.html">FSAL_CEPH/fsal_internal.c</a>.</p>

</div>
</div>
<a class="anchor" id="a976aafd23ef58c56245a3a027576ada9"></a><!-- doxytag: member="FSAL_ZFS/fsal_internal.h::p_zhd" ref="a976aafd23ef58c56245a3a027576ada9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">libzfswrap_handle_t* <a class="el" href="FSAL__ZFS_2fsal__internal_8h.html#a976aafd23ef58c56245a3a027576ada9">p_zhd</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__internal_8c_source.html#l00033">33</a> of file <a class="el" href="FSAL__ZFS_2fsal__internal_8c_source.html">FSAL_ZFS/fsal_internal.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Nov 21 2012 for nfs-ganesha by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
