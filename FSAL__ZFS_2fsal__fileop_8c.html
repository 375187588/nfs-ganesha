<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>nfs-ganesha: fsal_fileop.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nfs-ganesha&#160;<span id="projectnumber">1.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>fsal_fileop.c File Reference</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;fsal.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="FSAL__ZFS_2fsal__common_8h_source.html">fsal_common.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="FSAL__ZFS_2fsal__internal_8h_source.html">fsal_internal.h</a>&quot;</code><br/>
<code>#include &quot;fsal_convert.h&quot;</code><br/>
</div>
<p><a href="FSAL__ZFS_2fsal__fileop_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__fileop_8c.html#aa003dfaa8e323895b819a64144364169">ZFSFSAL_open</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *file_hdl, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="fsal__types_8h.html#a32a4d2db8d51a91baa4adf861fcdd914">fsal_openflags_t</a> openflags, <a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *file_desc, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *file_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__fileop_8c.html#a79e65d1c50e2e41f71736a6286bfa908">ZFSFSAL_open_by_name</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *dirhandle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *filename, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="fsal__types_8h.html#a32a4d2db8d51a91baa4adf861fcdd914">fsal_openflags_t</a> openflags, <a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *file_descriptor, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *file_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__fileop_8c.html#a2076fbd499e8a0ca5b0741cc7bc6d4a4">ZFSFSAL_read</a> (<a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *file_desc, <a class="el" href="structfsal__seek____.html">fsal_seek_t</a> *seek_descriptor, <a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> buffer_size, caddr_t buffer, <a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> *read_amount, <a class="el" href="fsal__types_8h.html#a53f0544635d3f80fbee0bde1b3a4fb9b">fsal_boolean_t</a> *end_of_file)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__fileop_8c.html#a377ce786f05e781e99468c2ea671cfc5">ZFSFSAL_write</a> (<a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *file_desc, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="structfsal__seek____.html">fsal_seek_t</a> *seek_descriptor, <a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> buffer_size, caddr_t buffer, <a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> *write_amount)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__fileop_8c.html#ace3e3e45d6113f27e2feb8fcf8915b37">ZFSFSAL_close</a> (<a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *file_desc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__fileop_8c.html#a68a46b54524aa7ab64ff7c8a92b70ddb">ZFSFSAL_GetFileno</a> (<a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *pfile)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__fileop_8c.html#a55c2b17516f76b29e77fd71c330efa00">ZFSFSAL_commit</a> (<a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *p_file_descriptor, <a class="el" href="fsal__types_8h.html#a4b363d8dd7f629e250d1fc420685b587">fsal_off_t</a> offset, <a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> length)</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ace3e3e45d6113f27e2feb8fcf8915b37"></a><!-- doxytag: member="FSAL_ZFS/fsal_fileop.c::ZFSFSAL_close" ref="ace3e3e45d6113f27e2feb8fcf8915b37" args="(fsal_file_t *file_desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *&#160;</td>
          <td class="paramname"><em>file_desc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_close: Free the resources allocated by the FSAL_open call.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">file_descriptor</td><td>(input): The file descriptor returned by FSAL_open.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html#l00393">393</a> of file <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html">FSAL_ZFS/fsal_fileop.c</a>.</p>

</div>
</div>
<a class="anchor" id="a55c2b17516f76b29e77fd71c330efa00"></a><!-- doxytag: member="FSAL_ZFS/fsal_fileop.c::ZFSFSAL_commit" ref="a55c2b17516f76b29e77fd71c330efa00" args="(fsal_file_t *p_file_descriptor, fsal_off_t offset, fsal_size_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *&#160;</td>
          <td class="paramname"><em>p_file_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a4b363d8dd7f629e250d1fc420685b587">fsal_off_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_commit: This function is used for processing stable writes and COMMIT requests. Calling this function makes sure the changes to a specific file are written to disk rather than kept in memory.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">file_descriptor</td><td>(input): The file descriptor returned by FSAL_open. </td></tr>
    <tr><td class="paramname">offset,:</td><td>The starting offset for the portion of file to be synced </td></tr>
    <tr><td class="paramname">length,:</td><td>The length for the portion of file to be synced.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR: no error.</li>
<li>Another error code if an error occured during this call. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html#l00454">454</a> of file <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html">FSAL_ZFS/fsal_fileop.c</a>.</p>

</div>
</div>
<a class="anchor" id="a68a46b54524aa7ab64ff7c8a92b70ddb"></a><!-- doxytag: member="FSAL_ZFS/fsal_fileop.c::ZFSFSAL_GetFileno" ref="a68a46b54524aa7ab64ff7c8a92b70ddb" args="(fsal_file_t *pfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ZFSFSAL_GetFileno </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *&#160;</td>
          <td class="paramname"><em>pfile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html#l00432">432</a> of file <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html">FSAL_ZFS/fsal_fileop.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa003dfaa8e323895b819a64144364169"></a><!-- doxytag: member="FSAL_ZFS/fsal_fileop.c::ZFSFSAL_open" ref="aa003dfaa8e323895b819a64144364169" args="(fsal_handle_t *file_hdl, fsal_op_context_t *p_context, fsal_openflags_t openflags, fsal_file_t *file_desc, fsal_attrib_list_t *file_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>file_hdl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a32a4d2db8d51a91baa4adf861fcdd914">fsal_openflags_t</a>&#160;</td>
          <td class="paramname"><em>openflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *&#160;</td>
          <td class="paramname"><em>file_desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>file_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_open: Open a regular file for reading/writing its data content.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">filehandle</td><td>(input): Handle of the file to be read/modified. </td></tr>
    <tr><td class="paramname">cred</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">openflags</td><td>(input): Flags that indicates behavior for file opening and access. This is an inclusive OR of the following values ( such of them are not compatible) :</p>
<ul>
<li>FSAL_O_RDONLY: opening file for reading only.</li>
<li>FSAL_O_RDWR: opening file for reading and writing.</li>
<li>FSAL_O_WRONLY: opening file for writting only.</li>
<li>FSAL_O_APPEND: always write at the end of the file.</li>
<li>FSAL_O_TRUNC: truncate the file to 0 on opening. </li>
</ul>
</td></tr>
    <tr><td class="paramname">file_descriptor</td><td>(output): The file descriptor to be used for FSAL_read/write operations. </td></tr>
    <tr><td class="paramname">file_attributes</td><td>(optionnal input/output): Post operation attributes. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_ACCESS (user doesn't have the permissions for opening the file)</li>
<li>ERR_FSAL_STALE (filehandle does not address an existing object)</li>
<li>ERR_FSAL_INVAL (filehandle does not address a regular file, or open flags are conflicting)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html#l00058">58</a> of file <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html">FSAL_ZFS/fsal_fileop.c</a>.</p>

</div>
</div>
<a class="anchor" id="a79e65d1c50e2e41f71736a6286bfa908"></a><!-- doxytag: member="FSAL_ZFS/fsal_fileop.c::ZFSFSAL_open_by_name" ref="a79e65d1c50e2e41f71736a6286bfa908" args="(fsal_handle_t *dirhandle, fsal_name_t *filename, fsal_op_context_t *p_context, fsal_openflags_t openflags, fsal_file_t *file_descriptor, fsal_attrib_list_t *file_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_open_by_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>dirhandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a32a4d2db8d51a91baa4adf861fcdd914">fsal_openflags_t</a>&#160;</td>
          <td class="paramname"><em>openflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *&#160;</td>
          <td class="paramname"><em>file_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>file_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_open_byname: Open a regular file for reading/writing its data content.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dirhandle</td><td>(input): Handle of the directory that contain the file to be read/modified. </td></tr>
    <tr><td class="paramname">filename</td><td>(input): Name of the file to be read/modified </td></tr>
    <tr><td class="paramname">cred</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">openflags</td><td>(input): Flags that indicates behavior for file opening and access. This is an inclusive OR of the following values ( such of them are not compatible) :</p>
<ul>
<li>FSAL_O_RDONLY: opening file for reading only.</li>
<li>FSAL_O_RDWR: opening file for reading and writing.</li>
<li>FSAL_O_WRONLY: opening file for writting only.</li>
<li>FSAL_O_APPEND: always write at the end of the file.</li>
<li>FSAL_O_TRUNC: truncate the file to 0 on opening. </li>
</ul>
</td></tr>
    <tr><td class="paramname">file_descriptor</td><td>(output): The file descriptor to be used for FSAL_read/write operations. </td></tr>
    <tr><td class="paramname">file_attributes</td><td>(optionnal input/output): Post operation attributes. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_ACCESS (user doesn't have the permissions for opening the file)</li>
<li>ERR_FSAL_STALE (filehandle does not address an existing object)</li>
<li>ERR_FSAL_INVAL (filehandle does not address a regular file, or open flags are conflicting)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html#l00173">173</a> of file <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html">FSAL_ZFS/fsal_fileop.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2076fbd499e8a0ca5b0741cc7bc6d4a4"></a><!-- doxytag: member="FSAL_ZFS/fsal_fileop.c::ZFSFSAL_read" ref="a2076fbd499e8a0ca5b0741cc7bc6d4a4" args="(fsal_file_t *file_desc, fsal_seek_t *seek_descriptor, fsal_size_t buffer_size, caddr_t buffer, fsal_size_t *read_amount, fsal_boolean_t *end_of_file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *&#160;</td>
          <td class="paramname"><em>file_desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__seek____.html">fsal_seek_t</a> *&#160;</td>
          <td class="paramname"><em>seek_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a>&#160;</td>
          <td class="paramname"><em>buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">caddr_t&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> *&#160;</td>
          <td class="paramname"><em>read_amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a53f0544635d3f80fbee0bde1b3a4fb9b">fsal_boolean_t</a> *&#160;</td>
          <td class="paramname"><em>end_of_file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_read: Perform a read operation on an opened file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">file_descriptor</td><td>(input): The file descriptor returned by FSAL_open. </td></tr>
    <tr><td class="paramname">seek_descriptor</td><td>(optional input): Specifies the position where data is to be read. If not specified, data will be read at the current position. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>(input): Amount (in bytes) of data to be read. </td></tr>
    <tr><td class="paramname">buffer</td><td>(output): Address where the read data is to be stored in memory. </td></tr>
    <tr><td class="paramname">read_amount</td><td>(output): Pointer to the amount of data (in bytes) that have been read during this call. </td></tr>
    <tr><td class="paramname">end_of_file</td><td>(output): Pointer to a boolean that indicates whether the end of file has been reached during this call.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_INVAL (invalid parameter)</li>
<li>ERR_FSAL_NOT_OPENED (tried to read in a non-opened <a class="el" href="structzfsfsal__file__t.html">zfsfsal_file_t</a>)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html#l00221">221</a> of file <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html">FSAL_ZFS/fsal_fileop.c</a>.</p>

</div>
</div>
<a class="anchor" id="a377ce786f05e781e99468c2ea671cfc5"></a><!-- doxytag: member="FSAL_ZFS/fsal_fileop.c::ZFSFSAL_write" ref="a377ce786f05e781e99468c2ea671cfc5" args="(fsal_file_t *file_desc, fsal_op_context_t *p_context, fsal_seek_t *seek_descriptor, fsal_size_t buffer_size, caddr_t buffer, fsal_size_t *write_amount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *&#160;</td>
          <td class="paramname"><em>file_desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__seek____.html">fsal_seek_t</a> *&#160;</td>
          <td class="paramname"><em>seek_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a>&#160;</td>
          <td class="paramname"><em>buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">caddr_t&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> *&#160;</td>
          <td class="paramname"><em>write_amount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_write: Perform a write operation on an opened file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">file_descriptor</td><td>(input): The file descriptor returned by FSAL_open. </td></tr>
    <tr><td class="paramname">p_context</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">seek_descriptor</td><td>(optional input): Specifies the position where data is to be written. If not specified, data will be written at the current position. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>(input): Amount (in bytes) of data to be written. </td></tr>
    <tr><td class="paramname">buffer</td><td>(input): Address in memory of the data to write to file. </td></tr>
    <tr><td class="paramname">write_amount</td><td>(output): Pointer to the amount of data (in bytes) that have been written during this call.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_INVAL (invalid parameter)</li>
<li>ERR_FSAL_NOT_OPENED (tried to write in a non-opened <a class="el" href="structzfsfsal__file__t.html">zfsfsal_file_t</a>)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ERR_FSAL_NOSPC, ERR_FSAL_DQUOT... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html#l00311">311</a> of file <a class="el" href="FSAL__ZFS_2fsal__fileop_8c_source.html">FSAL_ZFS/fsal_fileop.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Nov 21 2012 for nfs-ganesha by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
