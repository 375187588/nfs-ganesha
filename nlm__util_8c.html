<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>nfs-ganesha: nlm_util.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nfs-ganesha&#160;<span id="projectnumber">1.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>nlm_util.c File Reference</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;pthread.h&gt;</code><br/>
<code>#include &quot;log.h&quot;</code><br/>
<code>#include &quot;ganesha_rpc.h&quot;</code><br/>
<code>#include &quot;nlm4.h&quot;</code><br/>
<code>#include &quot;sal_functions.h&quot;</code><br/>
<code>#include &quot;nlm_util.h&quot;</code><br/>
<code>#include &quot;nsm.h&quot;</code><br/>
<code>#include &quot;nlm_async.h&quot;</code><br/>
<code>#include &quot;nfs_core.h&quot;</code><br/>
<code>#include &quot;nfs_tcb.h&quot;</code><br/>
</div>
<p><a href="nlm__util_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgranted__cookie__t.html">granted_cookie_t</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#a8d4855ea07319a18c0216f5bac390bcb">NLM4_GRACE_PERIOD</a>&#160;&#160;&#160;10</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#ac6d460361e89876cfc4d31ffdac8fad2">NLM4_CLIENT_GRACE_PERIOD</a>&#160;&#160;&#160;3</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structgranted__cookie__t.html">granted_cookie_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#a717b5e5e0888bca2be154515bcdf0c85">granted_cookie_t</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#ae0a6a46e50b757e573ef896c086e84ca">next_granted_cookie</a> (<a class="el" href="structgranted__cookie__t.html">granted_cookie_t</a> *cookie)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#a14cf4eae911b299c6acf0344248e16fd">lock_result_str</a> (int rc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="extended__types_8h.html#ad27ed092432b64ff558d2254c278720f">uint64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#a60b7d2de12c53886bcb1ccdde38de77e">lock_end</a> (<a class="el" href="extended__types_8h.html#ad27ed092432b64ff558d2254c278720f">uint64_t</a> start, <a class="el" href="extended__types_8h.html#ad27ed092432b64ff558d2254c278720f">uint64_t</a> len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#a972c633e46423f4574e9ce5eee272fde">fill_netobj</a> (netobj *dst, char *data, int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">netobj *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#aa068a5d0b5653358d77d3f9d3929ecb1">copy_netobj</a> (netobj *dst, netobj *src)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#af4395c3f38c138b7a7a8ace0d5f4487e">netobj_free</a> (netobj *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#a2a37ae5a8f8501d12c0abad1456fefee">netobj_to_string</a> (netobj *obj, char *buffer, int maxlen)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#a83e0ed0f5d94799ddde971f674adaf60">nlm_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#a6761d182b82fb7f4278a5992b66413ee">free_grant_arg</a> (<a class="el" href="sal__data_8h.html#abf159a29a191e59f176897b998c40b7e">state_async_queue_t</a> *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#a6d173531998cf252ecc406db40a7fb54">nlm_process_parameters</a> (struct svc_req *preq, bool_t exclusive, <a class="el" href="structnlm4__lock.html">nlm4_lock</a> *alock, <a class="el" href="structfsal__lock__param__t.html">fsal_lock_param_t</a> *plock, <a class="el" href="structcache__entry__t.html">cache_entry_t</a> **ppentry, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *pcontext, care_t care, state_nsm_client_t **ppnsm_client, state_nlm_client_t **ppnlm_client, <a class="el" href="structstate__owner__t.html">state_owner_t</a> **ppowner, <a class="el" href="sal__data_8h.html#a3035370b7b027cc7c897284b50c5fc12">state_block_data_t</a> **ppblock_data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#acd1fa8ec7b808dd78dbc24f48bae0a00">nlm_process_share_parms</a> (struct svc_req *preq, <a class="el" href="structnlm4__share.html">nlm4_share</a> *share, <a class="el" href="structcache__entry__t.html">cache_entry_t</a> **ppentry, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *pcontext, care_t care, state_nsm_client_t **ppnsm_client, state_nlm_client_t **ppnlm_client, <a class="el" href="structstate__owner__t.html">state_owner_t</a> **ppowner)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#a6fb8d1c40183667f67925e31b179c621">nlm_process_conflict</a> (<a class="el" href="structnlm4__holder.html">nlm4_holder</a> *nlm_holder, <a class="el" href="structstate__owner__t.html">state_owner_t</a> *holder, <a class="el" href="structfsal__lock__param__t.html">fsal_lock_param_t</a> *conflict)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="nlm4_8h.html#aea86e167169c487eb17132a711d770d0">nlm4_stats</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#a89168dbcb2f177818efe71e6c309390a">nlm_convert_state_error</a> (<a class="el" href="sal__data_8h.html#abaefb535451d8c22b6d4074d63effd5b">state_status_t</a> status)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#a2b937321c15f535f6ab0e077b532995e">nlm_block_data_to_fsal_context</a> (<a class="el" href="sal__data_8h.html#a3035370b7b027cc7c897284b50c5fc12">state_block_data_t</a> *block_data, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *<a class="el" href="nfs__file__content__flush__thread_8c.html#a60c0876d3df3d3a3aed3dab74d0f99c8">fsal_context</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="sal__data_8h.html#abaefb535451d8c22b6d4074d63effd5b">state_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#ab89e708c088abb9173e22894883ab6b7">nlm_granted_callback</a> (<a class="el" href="structcache__entry__t.html">cache_entry_t</a> *pentry, <a class="el" href="structstate__lock__entry__t.html">state_lock_entry_t</a> *lock_entry, <a class="el" href="sal__data_8h.html#abaefb535451d8c22b6d4074d63effd5b">state_status_t</a> *pstatus)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgranted__cookie__t.html">granted_cookie_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#ad9742fa8da3e948ced530b0260b38d35">granted_cookie</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nlm__util_8c.html#a61ab39979e720b6d50143e36853d5dac">granted_mutex</a> = PTHREAD_MUTEX_INITIALIZER</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ac6d460361e89876cfc4d31ffdac8fad2"></a><!-- doxytag: member="nlm_util.c::NLM4_CLIENT_GRACE_PERIOD" ref="ac6d460361e89876cfc4d31ffdac8fad2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NLM4_CLIENT_GRACE_PERIOD&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nlm__util_8c_source.html#l00052">52</a> of file <a class="el" href="nlm__util_8c_source.html">nlm_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8d4855ea07319a18c0216f5bac390bcb"></a><!-- doxytag: member="nlm_util.c::NLM4_GRACE_PERIOD" ref="a8d4855ea07319a18c0216f5bac390bcb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NLM4_GRACE_PERIOD&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nlm__util_8c_source.html#l00047">47</a> of file <a class="el" href="nlm__util_8c_source.html">nlm_util.c</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a717b5e5e0888bca2be154515bcdf0c85"></a><!-- doxytag: member="nlm_util.c::granted_cookie_t" ref="a717b5e5e0888bca2be154515bcdf0c85" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structgranted__cookie__t.html">granted_cookie_t</a>  <a class="el" href="structgranted__cookie__t.html">granted_cookie_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aa068a5d0b5653358d77d3f9d3929ecb1"></a><!-- doxytag: member="nlm_util.c::copy_netobj" ref="aa068a5d0b5653358d77d3f9d3929ecb1" args="(netobj *dst, netobj *src)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">netobj* copy_netobj </td>
          <td>(</td>
          <td class="paramtype">netobj *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">netobj *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nlm__util_8c_source.html#l00119">119</a> of file <a class="el" href="nlm__util_8c_source.html">nlm_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="a972c633e46423f4574e9ce5eee272fde"></a><!-- doxytag: member="nlm_util.c::fill_netobj" ref="a972c633e46423f4574e9ce5eee272fde" args="(netobj *dst, char *data, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t fill_netobj </td>
          <td>(</td>
          <td class="paramtype">netobj *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nlm__util_8c_source.html#l00101">101</a> of file <a class="el" href="nlm__util_8c_source.html">nlm_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6761d182b82fb7f4278a5992b66413ee"></a><!-- doxytag: member="nlm_util.c::free_grant_arg" ref="a6761d182b82fb7f4278a5992b66413ee" args="(state_async_queue_t *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_grant_arg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sal__data_8h.html#abf159a29a191e59f176897b998c40b7e">state_async_queue_t</a> *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nlm__util_8c_source.html#l00164">164</a> of file <a class="el" href="nlm__util_8c_source.html">nlm_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="a60b7d2de12c53886bcb1ccdde38de77e"></a><!-- doxytag: member="nlm_util.c::lock_end" ref="a60b7d2de12c53886bcb1ccdde38de77e" args="(uint64_t start, uint64_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="extended__types_8h.html#ad27ed092432b64ff558d2254c278720f">uint64_t</a> lock_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="extended__types_8h.html#ad27ed092432b64ff558d2254c278720f">uint64_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="extended__types_8h.html#ad27ed092432b64ff558d2254c278720f">uint64_t</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nlm__util_8c_source.html#l00093">93</a> of file <a class="el" href="nlm__util_8c_source.html">nlm_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="a14cf4eae911b299c6acf0344248e16fd"></a><!-- doxytag: member="nlm_util.c::lock_result_str" ref="a14cf4eae911b299c6acf0344248e16fd" args="(int rc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* lock_result_str </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nlm__util_8c_source.html#l00075">75</a> of file <a class="el" href="nlm__util_8c_source.html">nlm_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="af4395c3f38c138b7a7a8ace0d5f4487e"></a><!-- doxytag: member="nlm_util.c::netobj_free" ref="af4395c3f38c138b7a7a8ace0d5f4487e" args="(netobj *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void netobj_free </td>
          <td>(</td>
          <td class="paramtype">netobj *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nlm__util_8c_source.html#l00138">138</a> of file <a class="el" href="nlm__util_8c_source.html">nlm_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2a37ae5a8f8501d12c0abad1456fefee"></a><!-- doxytag: member="nlm_util.c::netobj_to_string" ref="a2a37ae5a8f8501d12c0abad1456fefee" args="(netobj *obj, char *buffer, int maxlen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void netobj_to_string </td>
          <td>(</td>
          <td class="paramtype">netobj *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nlm__util_8c_source.html#l00144">144</a> of file <a class="el" href="nlm__util_8c_source.html">nlm_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae0a6a46e50b757e573ef896c086e84ca"></a><!-- doxytag: member="nlm_util.c::next_granted_cookie" ref="ae0a6a46e50b757e573ef896c086e84ca" args="(granted_cookie_t *cookie)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void next_granted_cookie </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgranted__cookie__t.html">granted_cookie_t</a> *&#160;</td>
          <td class="paramname"><em>cookie</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nlm__util_8c_source.html#l00067">67</a> of file <a class="el" href="nlm__util_8c_source.html">nlm_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2b937321c15f535f6ab0e077b532995e"></a><!-- doxytag: member="nlm_util.c::nlm_block_data_to_fsal_context" ref="a2b937321c15f535f6ab0e077b532995e" args="(state_block_data_t *block_data, fsal_op_context_t *fsal_context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t nlm_block_data_to_fsal_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sal__data_8h.html#a3035370b7b027cc7c897284b50c5fc12">state_block_data_t</a> *&#160;</td>
          <td class="paramname"><em>block_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>fsal_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nlm__util_8c_source.html#l00587">587</a> of file <a class="el" href="nlm__util_8c_source.html">nlm_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="a89168dbcb2f177818efe71e6c309390a"></a><!-- doxytag: member="nlm_util.c::nlm_convert_state_error" ref="a89168dbcb2f177818efe71e6c309390a" args="(state_status_t status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="nlm4_8h.html#aea86e167169c487eb17132a711d770d0">nlm4_stats</a> nlm_convert_state_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sal__data_8h.html#abaefb535451d8c22b6d4074d63effd5b">state_status_t</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nlm__util_8c_source.html#l00568">568</a> of file <a class="el" href="nlm__util_8c_source.html">nlm_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab89e708c088abb9173e22894883ab6b7"></a><!-- doxytag: member="nlm_util.c::nlm_granted_callback" ref="ab89e708c088abb9173e22894883ab6b7" args="(cache_entry_t *pentry, state_lock_entry_t *lock_entry, state_status_t *pstatus)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sal__data_8h.html#abaefb535451d8c22b6d4074d63effd5b">state_status_t</a> nlm_granted_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcache__entry__t.html">cache_entry_t</a> *&#160;</td>
          <td class="paramname"><em>pentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstate__lock__entry__t.html">state_lock_entry_t</a> *&#160;</td>
          <td class="paramname"><em>lock_entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sal__data_8h.html#abaefb535451d8c22b6d4074d63effd5b">state_status_t</a> *&#160;</td>
          <td class="paramname"><em>pstatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nlm__util_8c_source.html#l00656">656</a> of file <a class="el" href="nlm__util_8c_source.html">nlm_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="a83e0ed0f5d94799ddde971f674adaf60"></a><!-- doxytag: member="nlm_util.c::nlm_init" ref="a83e0ed0f5d94799ddde971f674adaf60" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nlm_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nlm__util_8c_source.html#l00153">153</a> of file <a class="el" href="nlm__util_8c_source.html">nlm_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6fb8d1c40183667f67925e31b179c621"></a><!-- doxytag: member="nlm_util.c::nlm_process_conflict" ref="a6fb8d1c40183667f67925e31b179c621" args="(nlm4_holder *nlm_holder, state_owner_t *holder, fsal_lock_param_t *conflict)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nlm_process_conflict </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnlm4__holder.html">nlm4_holder</a> *&#160;</td>
          <td class="paramname"><em>nlm_holder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstate__owner__t.html">state_owner_t</a> *&#160;</td>
          <td class="paramname"><em>holder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__lock__param__t.html">fsal_lock_param_t</a> *&#160;</td>
          <td class="paramname"><em>conflict</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nlm__util_8c_source.html#l00523">523</a> of file <a class="el" href="nlm__util_8c_source.html">nlm_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6d173531998cf252ecc406db40a7fb54"></a><!-- doxytag: member="nlm_util.c::nlm_process_parameters" ref="a6d173531998cf252ecc406db40a7fb54" args="(struct svc_req *preq, bool_t exclusive, nlm4_lock *alock, fsal_lock_param_t *plock, cache_entry_t **ppentry, fsal_op_context_t *pcontext, care_t care, state_nsm_client_t **ppnsm_client, state_nlm_client_t **ppnlm_client, state_owner_t **ppowner, state_block_data_t **ppblock_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nlm_process_parameters </td>
          <td>(</td>
          <td class="paramtype">struct svc_req *&#160;</td>
          <td class="paramname"><em>preq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool_t&#160;</td>
          <td class="paramname"><em>exclusive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnlm4__lock.html">nlm4_lock</a> *&#160;</td>
          <td class="paramname"><em>alock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__lock__param__t.html">fsal_lock_param_t</a> *&#160;</td>
          <td class="paramname"><em>plock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcache__entry__t.html">cache_entry_t</a> **&#160;</td>
          <td class="paramname"><em>ppentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>pcontext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">care_t&#160;</td>
          <td class="paramname"><em>care</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">state_nsm_client_t **&#160;</td>
          <td class="paramname"><em>ppnsm_client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">state_nlm_client_t **&#160;</td>
          <td class="paramname"><em>ppnlm_client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstate__owner__t.html">state_owner_t</a> **&#160;</td>
          <td class="paramname"><em>ppowner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sal__data_8h.html#a3035370b7b027cc7c897284b50c5fc12">state_block_data_t</a> **&#160;</td>
          <td class="paramname"><em>ppblock_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>process_nlm_parameters: Process NLM parameters</p>
<p>Returns -1 for a request that needs processing, otherwise returns an NLM status</p>
<p>preq: passed in so interface doesn't need to change when NLM Client uses IP address exclusive: TRUE if lock is a write lock alock: <a class="el" href="structnlm4__lock.html">nlm4_lock</a> request structure plock: cache_lock_desc_t to fill in from alock ppentry: cache inode entry pointer to fill in pcontext: FSAL op context pclient: cache inode client care: TRUE if this caller cares if an owner is found (otherwise return NLM4_GRANTED because the caller will have nothing to do) ppnlm_client: NLM Client to fill in, returns a reference to the client ppowner: NLM Owner to fill in, returns a reference to the owner ppblock_data: Data required to make a call back to the client to grant a blocked lock </p>

<p>Definition at line <a class="el" href="nlm__util_8c_source.html#l00262">262</a> of file <a class="el" href="nlm__util_8c_source.html">nlm_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="acd1fa8ec7b808dd78dbc24f48bae0a00"></a><!-- doxytag: member="nlm_util.c::nlm_process_share_parms" ref="acd1fa8ec7b808dd78dbc24f48bae0a00" args="(struct svc_req *preq, nlm4_share *share, cache_entry_t **ppentry, fsal_op_context_t *pcontext, care_t care, state_nsm_client_t **ppnsm_client, state_nlm_client_t **ppnlm_client, state_owner_t **ppowner)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nlm_process_share_parms </td>
          <td>(</td>
          <td class="paramtype">struct svc_req *&#160;</td>
          <td class="paramname"><em>preq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnlm4__share.html">nlm4_share</a> *&#160;</td>
          <td class="paramname"><em>share</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcache__entry__t.html">cache_entry_t</a> **&#160;</td>
          <td class="paramname"><em>ppentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>pcontext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">care_t&#160;</td>
          <td class="paramname"><em>care</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">state_nsm_client_t **&#160;</td>
          <td class="paramname"><em>ppnsm_client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">state_nlm_client_t **&#160;</td>
          <td class="paramname"><em>ppnlm_client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstate__owner__t.html">state_owner_t</a> **&#160;</td>
          <td class="paramname"><em>ppowner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nlm__util_8c_source.html#l00415">415</a> of file <a class="el" href="nlm__util_8c_source.html">nlm_util.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ad9742fa8da3e948ced530b0260b38d35"></a><!-- doxytag: member="nlm_util.c::granted_cookie" ref="ad9742fa8da3e948ced530b0260b38d35" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgranted__cookie__t.html">granted_cookie_t</a> <a class="el" href="nlm__util_8c.html#ad9742fa8da3e948ced530b0260b38d35">granted_cookie</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nlm__util_8c_source.html#l00064">64</a> of file <a class="el" href="nlm__util_8c_source.html">nlm_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="a61ab39979e720b6d50143e36853d5dac"></a><!-- doxytag: member="nlm_util.c::granted_mutex" ref="a61ab39979e720b6d50143e36853d5dac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t <a class="el" href="nlm__util_8c.html#a61ab39979e720b6d50143e36853d5dac">granted_mutex</a> = PTHREAD_MUTEX_INITIALIZER</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nlm__util_8c_source.html#l00065">65</a> of file <a class="el" href="nlm__util_8c_source.html">nlm_util.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Nov 21 2012 for nfs-ganesha by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
