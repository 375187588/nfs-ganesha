<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>nfs-ganesha: 9p.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nfs-ganesha&#160;<span id="projectnumber">1.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>9p.h</h1>  </div>
</div>
<div class="contents">
<a href="9p_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * vim:expandtab:shiftwidth=8:tabstop=8:</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * Copyright CEA/DAM/DIF  (2011)</span>
<a name="l00005"></a>00005 <span class="comment"> * contributeur : Philippe DENIEL   philippe.deniel@cea.fr</span>
<a name="l00006"></a>00006 <span class="comment"> *</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> * This program is free software; you can redistribute it and/or</span>
<a name="l00009"></a>00009 <span class="comment"> * modify it under the terms of the GNU Lesser General Public</span>
<a name="l00010"></a>00010 <span class="comment"> * License as published by the Free Software Foundation; either</span>
<a name="l00011"></a>00011 <span class="comment"> * version 3 of the License, or (at your option) any later version.</span>
<a name="l00012"></a>00012 <span class="comment"> *</span>
<a name="l00013"></a>00013 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
<a name="l00014"></a>00014 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00015"></a>00015 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00016"></a>00016 <span class="comment"> * Lesser General Public License for more details.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * You should have received a copy of the GNU Lesser General Public</span>
<a name="l00019"></a>00019 <span class="comment"> * License along with this library; if not, write to the Free Software</span>
<a name="l00020"></a>00020 <span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA</span>
<a name="l00021"></a>00021 <span class="comment"> *</span>
<a name="l00022"></a>00022 <span class="comment"> * ---------------------------------------</span>
<a name="l00023"></a>00023 <span class="comment"> */</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="comment">/* </span>
<a name="l00026"></a>00026 <span class="comment"> * Copied from 2.6.38-rc2 kernel, taken from diod sources (code.google.com/p/diod/) then adapted to ganesha</span>
<a name="l00027"></a>00027 <span class="comment"> */</span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="preprocessor">#ifndef _9P_H</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span><span class="preprocessor">#define _9P_H</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span><span class="preprocessor">#include &lt;sys/types.h&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;sys/stat.h&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;unistd.h&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;sys/select.h&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="fsal_8h.html" title="File System Abstraction Layer interface.">fsal.h</a>&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;<a class="code" href="cache__inode_8h.html" title="Management of the cached inode layer.">cache_inode.h</a>&quot;</span>
<a name="l00037"></a>00037 
<a name="l00038"></a><a class="code" href="9p_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">00038</a> <span class="keyword">typedef</span> uint8_t   <a class="code" href="9p_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a>;
<a name="l00039"></a><a class="code" href="9p_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">00039</a> <span class="keyword">typedef</span> uint16_t <a class="code" href="9p_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a>;
<a name="l00040"></a><a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">00040</a> <span class="keyword">typedef</span> <a class="code" href="extended__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>;
<a name="l00041"></a><a class="code" href="9p_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">00041</a> <span class="keyword">typedef</span> <a class="code" href="extended__types_8h.html#ad27ed092432b64ff558d2254c278720f">uint64_t</a> <a class="code" href="9p_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>;
<a name="l00042"></a>00042 
<a name="l00043"></a><a class="code" href="9p_8h.html#a15b60fe0eab25de11830c970581236ce">00043</a> <span class="preprocessor">#define NB_PREALLOC_HASH_9P 100</span>
<a name="l00044"></a><a class="code" href="9p_8h.html#ab3e500d4b149781e175dd13959a6aa5b">00044</a> <span class="preprocessor"></span><span class="preprocessor">#define NB_PREALLOC_FID_9P  100</span>
<a name="l00045"></a><a class="code" href="9p_8h.html#a12c4f71508ecd8f2243951dba9306d75">00045</a> <span class="preprocessor"></span><span class="preprocessor">#define PRIME_9P 17 </span>
<a name="l00046"></a>00046 <span class="preprocessor"></span>
<a name="l00047"></a><a class="code" href="9p_8h.html#af59cc2692ab25c878d4c44fde6a0d78e">00047</a> <span class="preprocessor">#define _9P_PORT 564</span>
<a name="l00048"></a><a class="code" href="9p_8h.html#a070d93532631ab0a440f0af8c6adbb51">00048</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_SEND_BUFFER_SIZE 131072</span>
<a name="l00049"></a><a class="code" href="9p_8h.html#a621d2d5439031bb3ad8a22551a27fd87">00049</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_RECV_BUFFER_SIZE 131072</span>
<a name="l00050"></a><a class="code" href="9p_8h.html#a40dfc9be0d10226c85d3eb35263871b8">00050</a> <span class="preprocessor"></span><span class="preprocessor">#define _9p_READ_BUFFER_SIZE _9P_SEND_BUFFER_SIZE</span>
<a name="l00051"></a><a class="code" href="9p_8h.html#a316f0cc2026555d00be8f4118e2cebaa">00051</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_MAXDIRCOUNT 2000 </span><span class="comment">/* Must be bigger than _9P_SEND_BUFFER_SIZE / 40 */</span>
<a name="l00052"></a><a class="code" href="9p_8h.html#a9c82deeb48f5bcef600558fe2c03b0e8">00052</a> <span class="preprocessor">#define _9P_LOCK_CLIENT_LEN 64</span>
<a name="l00053"></a><a class="code" href="9p_8h.html#a697a73eed94be099667d9b433d029fb4">00053</a> <span class="preprocessor"></span><span class="preprocessor">#define CONF_LABEL_9P &quot;_9P&quot;</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span>
<a name="l00055"></a><a class="code" href="9p_8h.html#ae14a8b9f9ace5750b019c0571f0bb9dd">00055</a> <span class="preprocessor">#define _9P_MSG_SIZE 70000 </span>
<a name="l00056"></a><a class="code" href="9p_8h.html#af7d8a29b1c13454a9f22364525f29cf6">00056</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_HDR_SIZE  4</span>
<a name="l00057"></a><a class="code" href="9p_8h.html#a98f73aa930702d43ad16b2a185124bf1">00057</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_TYPE_SIZE 1</span>
<a name="l00058"></a><a class="code" href="9p_8h.html#a698eadf59d1f86b320958aa6e2764cbf">00058</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_TAG_SIZE  2</span>
<a name="l00059"></a><a class="code" href="9p_8h.html#a771e6da164026137c05447e8abdfec65">00059</a> <span class="preprocessor"></span><span class="preprocessor">#define _9p_BLK_SIZE 4096</span>
<a name="l00060"></a>00060 <span class="preprocessor"></span>
<a name="l00115"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506">00115</a> <span class="keyword">enum</span> <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506">_9p_msg_t</a> {
<a name="l00116"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506add32e4012b60a94709c93b1d20991318">00116</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506add32e4012b60a94709c93b1d20991318">_9P_TLERROR</a> = 6,
<a name="l00117"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506afa53856a0e40f9aba7acbe508564ff67">00117</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506afa53856a0e40f9aba7acbe508564ff67">_9P_RLERROR</a>,
<a name="l00118"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a20b8e00180c21efd89056e795c493d66">00118</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a20b8e00180c21efd89056e795c493d66">_9P_TSTATFS</a> = 8,
<a name="l00119"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a35f03eab98d2f86d1f885641e409a405">00119</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a35f03eab98d2f86d1f885641e409a405">_9P_RSTATFS</a>,
<a name="l00120"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a99334d86661957561186573619d31912">00120</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a99334d86661957561186573619d31912">_9P_TLOPEN</a> = 12,
<a name="l00121"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ae6172e566131166ac46f7975f79ed53b">00121</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ae6172e566131166ac46f7975f79ed53b">_9P_RLOPEN</a>,
<a name="l00122"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506adf178f9c71616335d353e3c2efdeff67">00122</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506adf178f9c71616335d353e3c2efdeff67">_9P_TLCREATE</a> = 14,
<a name="l00123"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506aa58b045044cf10c3051a12e9413323d3">00123</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506aa58b045044cf10c3051a12e9413323d3">_9P_RLCREATE</a>,
<a name="l00124"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ac64a3560f5ffe21b668521c21f31ed97">00124</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ac64a3560f5ffe21b668521c21f31ed97">_9P_TSYMLINK</a> = 16,
<a name="l00125"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a5a6848191c5f5fdd9d2ec1112ce73197">00125</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a5a6848191c5f5fdd9d2ec1112ce73197">_9P_RSYMLINK</a>,
<a name="l00126"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506aa835ab1fc6a25bd08c7ab03bb85552ad">00126</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506aa835ab1fc6a25bd08c7ab03bb85552ad">_9P_TMKNOD</a> = 18,
<a name="l00127"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a7a50b57476ae2dc4201ce93ffc7777d5">00127</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a7a50b57476ae2dc4201ce93ffc7777d5">_9P_RMKNOD</a>,
<a name="l00128"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ae4a1d260033450fb644946ff22152a13">00128</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ae4a1d260033450fb644946ff22152a13">_9P_TRENAME</a> = 20,
<a name="l00129"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a1b87aa2b99c23b52960fd4c8da4a2a7b">00129</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a1b87aa2b99c23b52960fd4c8da4a2a7b">_9P_RRENAME</a>,
<a name="l00130"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a05d7a98d6b72a14addd419831992e31e">00130</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a05d7a98d6b72a14addd419831992e31e">_9P_TREADLINK</a> = 22,
<a name="l00131"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506adb7a249ab0b366e209a501f0e7dd1abe">00131</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506adb7a249ab0b366e209a501f0e7dd1abe">_9P_RREADLINK</a>,
<a name="l00132"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a831468f8fed3bc04eb7df1936bdda673">00132</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a831468f8fed3bc04eb7df1936bdda673">_9P_TGETATTR</a> = 24,
<a name="l00133"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a898811e1293084df0c2f13854bf0d593">00133</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a898811e1293084df0c2f13854bf0d593">_9P_RGETATTR</a>,
<a name="l00134"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ab78bde25ae53df0cd001ab3be60a6121">00134</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ab78bde25ae53df0cd001ab3be60a6121">_9P_TSETATTR</a> = 26,
<a name="l00135"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506af1ff48d230c938e901a3b9d36af09d96">00135</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506af1ff48d230c938e901a3b9d36af09d96">_9P_RSETATTR</a>,
<a name="l00136"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a15055b2b7695ad58543130c96d866cb4">00136</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a15055b2b7695ad58543130c96d866cb4">_9P_TXATTRWALK</a> = 30,
<a name="l00137"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a9ac5b52e825d568f6a7e04019d1cf971">00137</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a9ac5b52e825d568f6a7e04019d1cf971">_9P_RXATTRWALK</a>,
<a name="l00138"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a2f7f77df21b076f8d559f404ed786f30">00138</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a2f7f77df21b076f8d559f404ed786f30">_9P_TXATTRCREATE</a> = 32,
<a name="l00139"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a7268f4c9fa742e1af0864294ef7388bc">00139</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a7268f4c9fa742e1af0864294ef7388bc">_9P_RXATTRCREATE</a>,
<a name="l00140"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a57b6856bbf3660de6a9d0d4a724860c8">00140</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a57b6856bbf3660de6a9d0d4a724860c8">_9P_TREADDIR</a> = 40,
<a name="l00141"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a2a70ca3a5bc1aba87ff179042a3b73d2">00141</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a2a70ca3a5bc1aba87ff179042a3b73d2">_9P_RREADDIR</a>,
<a name="l00142"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ae7dbca01f98e923c2ca9c20c37ce71f0">00142</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ae7dbca01f98e923c2ca9c20c37ce71f0">_9P_TFSYNC</a> = 50,
<a name="l00143"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506aa2756df2abeb7399b2af8382d8a7df08">00143</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506aa2756df2abeb7399b2af8382d8a7df08">_9P_RFSYNC</a>,
<a name="l00144"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a0c83efadea0a99e96b7a1aa59c4568ec">00144</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a0c83efadea0a99e96b7a1aa59c4568ec">_9P_TLOCK</a> = 52,
<a name="l00145"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a04050bb9c850844df90a01542912b510">00145</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a04050bb9c850844df90a01542912b510">_9P_RLOCK</a>,
<a name="l00146"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a6500f5bac421697007d5237bc72a46b6">00146</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a6500f5bac421697007d5237bc72a46b6">_9P_TGETLOCK</a> = 54,
<a name="l00147"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ab60eb92454847250500205ebcde8f238">00147</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ab60eb92454847250500205ebcde8f238">_9P_RGETLOCK</a>,
<a name="l00148"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a97622c0fa90dc4dff96b5a66e7e04784">00148</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a97622c0fa90dc4dff96b5a66e7e04784">_9P_TLINK</a> = 70,
<a name="l00149"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a725a4e070d9fe7ffa4fea05bbcf7f9a8">00149</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a725a4e070d9fe7ffa4fea05bbcf7f9a8">_9P_RLINK</a>,
<a name="l00150"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506abb33c571a12ce85c8476b6706035ffeb">00150</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506abb33c571a12ce85c8476b6706035ffeb">_9P_TMKDIR</a> = 72,
<a name="l00151"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a235b75731e7d04ae680c1ab0d62eaf56">00151</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a235b75731e7d04ae680c1ab0d62eaf56">_9P_RMKDIR</a>,
<a name="l00152"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506aaa45b8f0e234f8fa75458a7d418b7328">00152</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506aaa45b8f0e234f8fa75458a7d418b7328">_9P_TRENAMEAT</a> = 74,
<a name="l00153"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a9d217696b04974cf2c07385e13f5cf7f">00153</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a9d217696b04974cf2c07385e13f5cf7f">_9P_RRENAMEAT</a>,
<a name="l00154"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506af82ff9f482b678d4342e5589c9d4765a">00154</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506af82ff9f482b678d4342e5589c9d4765a">_9P_TUNLINKAT</a> = 76,
<a name="l00155"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a02d89ff32dd092284af50929063d4d3f">00155</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a02d89ff32dd092284af50929063d4d3f">_9P_RUNLINKAT</a>,
<a name="l00156"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a04c4fee1f833f117881ccee7e96d7e13">00156</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a04c4fee1f833f117881ccee7e96d7e13">_9P_TVERSION</a> = 100,
<a name="l00157"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a1e781fe5bfe2929a5b1b6721e0671ca1">00157</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a1e781fe5bfe2929a5b1b6721e0671ca1">_9P_RVERSION</a>,
<a name="l00158"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506afac1a6fe4797b54671eb5c26e78bd37a">00158</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506afac1a6fe4797b54671eb5c26e78bd37a">_9P_TAUTH</a> = 102,
<a name="l00159"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506acccd7a9c7c12a0cc4f31396ac247263d">00159</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506acccd7a9c7c12a0cc4f31396ac247263d">_9P_RAUTH</a>,
<a name="l00160"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a2179983cc7bc8850274fc0a7372a668c">00160</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a2179983cc7bc8850274fc0a7372a668c">_9P_TATTACH</a> = 104,
<a name="l00161"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506abbd9f965137ec4bbc48b3a0669ba3153">00161</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506abbd9f965137ec4bbc48b3a0669ba3153">_9P_RATTACH</a>,
<a name="l00162"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a87335dcea611471d39d2f5b742f130d0">00162</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a87335dcea611471d39d2f5b742f130d0">_9P_TERROR</a> = 106,
<a name="l00163"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a399d903917cf8658ef04728b0166b4dd">00163</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a399d903917cf8658ef04728b0166b4dd">_9P_RERROR</a>,
<a name="l00164"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a82b74611b36967e5d3f1a7bb5deddd17">00164</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a82b74611b36967e5d3f1a7bb5deddd17">_9P_TFLUSH</a> = 108,
<a name="l00165"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ada282afb9ba1fb9fd33d9ed2651b6363">00165</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ada282afb9ba1fb9fd33d9ed2651b6363">_9P_RFLUSH</a>,
<a name="l00166"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a1659e754c3bbab5f40f787ca946da9dc">00166</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a1659e754c3bbab5f40f787ca946da9dc">_9P_TWALK</a> = 110,
<a name="l00167"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506abbecd693cdd3d425c1a228117d0052e9">00167</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506abbecd693cdd3d425c1a228117d0052e9">_9P_RWALK</a>,
<a name="l00168"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a14d0429b2cc20f8f706133bdd1d5f566">00168</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a14d0429b2cc20f8f706133bdd1d5f566">_9P_TOPEN</a> = 112,
<a name="l00169"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a596b84c367e6a37fb0543d714810418c">00169</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a596b84c367e6a37fb0543d714810418c">_9P_ROPEN</a>,
<a name="l00170"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ab027a7c2b64d34911afce25a51a6899b">00170</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ab027a7c2b64d34911afce25a51a6899b">_9P_TCREATE</a> = 114,
<a name="l00171"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a7ef8e2edd65be7edf7663325f24372ed">00171</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a7ef8e2edd65be7edf7663325f24372ed">_9P_RCREATE</a>,
<a name="l00172"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506acb5592e54dcd7046c67d6f0811efe363">00172</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506acb5592e54dcd7046c67d6f0811efe363">_9P_TREAD</a> = 116,
<a name="l00173"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a6092738b1f25cded31894fb6545493b9">00173</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a6092738b1f25cded31894fb6545493b9">_9P_RREAD</a>,
<a name="l00174"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506aff4c5693e94c6532afe0d5a8a937b7e1">00174</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506aff4c5693e94c6532afe0d5a8a937b7e1">_9P_TWRITE</a> = 118,
<a name="l00175"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a1d1ea9e612f844c2363b3c8dc04673a9">00175</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a1d1ea9e612f844c2363b3c8dc04673a9">_9P_RWRITE</a>,
<a name="l00176"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ad4f8993bf6d9867dec8165439553ebfc">00176</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ad4f8993bf6d9867dec8165439553ebfc">_9P_TCLUNK</a> = 120,
<a name="l00177"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a8c0f19a88722ff3b8a6bef2132ed7a33">00177</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a8c0f19a88722ff3b8a6bef2132ed7a33">_9P_RCLUNK</a>,
<a name="l00178"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ac4dbfb637066fd3c1e6c619f3b2c4639">00178</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ac4dbfb637066fd3c1e6c619f3b2c4639">_9P_TREMOVE</a> = 122,
<a name="l00179"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a7bc66f91ff1d1b592fc8c31bad2f8836">00179</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a7bc66f91ff1d1b592fc8c31bad2f8836">_9P_RREMOVE</a>,
<a name="l00180"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a2c983249d21b12d03a3203b55f8b692e">00180</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a2c983249d21b12d03a3203b55f8b692e">_9P_TSTAT</a> = 124,
<a name="l00181"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ab3941d4efd28f2bc098c1dbc11430b8f">00181</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506ab3941d4efd28f2bc098c1dbc11430b8f">_9P_RSTAT</a>,
<a name="l00182"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506afa15694ced4c8ab52d594aee13fc54ff">00182</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506afa15694ced4c8ab52d594aee13fc54ff">_9P_TWSTAT</a> = 126,
<a name="l00183"></a><a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a3c0ba93caf4fbac51bad71604b662e81">00183</a>         <a class="code" href="9p_8h.html#a58a3f27dfda4268fdb4c0344b75dd506a3c0ba93caf4fbac51bad71604b662e81">_9P_RWSTAT</a>,
<a name="l00184"></a>00184 };
<a name="l00185"></a>00185 
<a name="l00205"></a><a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15">00205</a> <span class="keyword">enum</span> <a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15">_9p_qid_t</a> {
<a name="l00206"></a><a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15a1416e2ed04c6a47ddb8c47322674707f">00206</a>         <a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15a1416e2ed04c6a47ddb8c47322674707f">_9P_QTDIR</a> = 0x80,
<a name="l00207"></a><a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15a892e1f402a110cbde845173402657bb9">00207</a>         <a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15a892e1f402a110cbde845173402657bb9">_9P_QTAPPEND</a> = 0x40,
<a name="l00208"></a><a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15a998d98ec7426147beec93d4db6ec202f">00208</a>         <a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15a998d98ec7426147beec93d4db6ec202f">_9P_QTEXCL</a> = 0x20,
<a name="l00209"></a><a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15a66796247b5e40760c4d5d47a960c208b">00209</a>         <a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15a66796247b5e40760c4d5d47a960c208b">_9P_QTMOUNT</a> = 0x10,
<a name="l00210"></a><a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15a6de8d85c29e6e2534b4d4cf35943a593">00210</a>         <a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15a6de8d85c29e6e2534b4d4cf35943a593">_9P_QTAUTH</a> = 0x08,
<a name="l00211"></a><a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15af50962752779af124c0844751e2e51d0">00211</a>         <a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15af50962752779af124c0844751e2e51d0">_9P_QTTMP</a> = 0x04,
<a name="l00212"></a><a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15a55e04c83bd8ec93ef93dad8b79bfbcf6">00212</a>         <a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15a55e04c83bd8ec93ef93dad8b79bfbcf6">_9P_QTSYMLINK</a> = 0x02,
<a name="l00213"></a><a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15afd735e241ac9b7c5c818465e0e22bfe9">00213</a>         <a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15afd735e241ac9b7c5c818465e0e22bfe9">_9P_QTLINK</a> = 0x01,
<a name="l00214"></a><a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15ab9d1c8555117c0029112688ea6acaa21">00214</a>         <a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15ab9d1c8555117c0029112688ea6acaa21">_9P_QTFILE</a> = 0x00,
<a name="l00215"></a>00215 };
<a name="l00216"></a>00216 
<a name="l00217"></a>00217 <span class="comment">/* 9P Magic Numbers */</span>
<a name="l00218"></a><a class="code" href="9p_8h.html#ac46b405633b9c5a908caf1d8d2d55048">00218</a> <span class="preprocessor">#define _9P_NOTAG       (u16)(~0)</span>
<a name="l00219"></a><a class="code" href="9p_8h.html#a86e9d21cb7180bdd09c57804fbb65137">00219</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_NOFID       (u32)(~0)</span>
<a name="l00220"></a><a class="code" href="9p_8h.html#a5ae3c18fd44c815e4973f1dbb1470ef3">00220</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_NONUNAME    (u32)(~0)</span>
<a name="l00221"></a><a class="code" href="9p_8h.html#a477837c0356609fc72ff3f6928963451">00221</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_MAXWELEM    16</span>
<a name="l00222"></a>00222 <span class="preprocessor"></span>
<a name="l00223"></a>00223 <span class="comment">/* ample room for _9P_TWRITE/_9P_RREAD header */</span>
<a name="l00224"></a><a class="code" href="9p_8h.html#abd819d70993ccbef119c5fb10b6353ce">00224</a> <span class="preprocessor">#define _9P_IOHDRSZ     24</span>
<a name="l00225"></a>00225 <span class="preprocessor"></span>
<a name="l00226"></a>00226 <span class="comment">/* Room for readdir header */</span>
<a name="l00227"></a><a class="code" href="9p_8h.html#a25fb7ac7b33858ea1efd5574c73c20ae">00227</a> <span class="preprocessor">#define _9P_READDIRHDRSZ        24</span>
<a name="l00228"></a><a class="code" href="9p_8h.html#aeea5f2fbb18c38047af6af3f220605d4">00228</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_FID_PER_CONN        32</span>
<a name="l00229"></a>00229 <span class="preprocessor"></span>
<a name="l00240"></a><a class="code" href="struct__9p__str.html">00240</a> <span class="keyword">struct </span><a class="code" href="struct__9p__str.html">_9p_str</a> {
<a name="l00241"></a><a class="code" href="struct__9p__str.html#afb801704137e1713909f1026f55bb6e0">00241</a>         <a class="code" href="9p_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a>  <a class="code" href="struct__9p__str.html#afb801704137e1713909f1026f55bb6e0">len</a>   ;
<a name="l00242"></a><a class="code" href="struct__9p__str.html#abaf9c0119388a5630395b3b8e119da63">00242</a>         <span class="keywordtype">char</span> *<a class="code" href="struct__9p__str.html#abaf9c0119388a5630395b3b8e119da63">str</a> ;
<a name="l00243"></a>00243 };
<a name="l00244"></a>00244 
<a name="l00265"></a><a class="code" href="struct__9p__qid.html">00265</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__9p__qid.html">_9p_qid</a> {
<a name="l00266"></a><a class="code" href="struct__9p__qid.html#aaa60c4e20e36edfa264869d835d835ab">00266</a>         <a class="code" href="9p_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> <a class="code" href="struct__9p__qid.html#aaa60c4e20e36edfa264869d835d835ab">type</a>;
<a name="l00267"></a><a class="code" href="struct__9p__qid.html#ac50f57375af483a195af8a60cf7d1673">00267</a>         <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> <a class="code" href="struct__9p__qid.html#ac50f57375af483a195af8a60cf7d1673">version</a>;
<a name="l00268"></a><a class="code" href="struct__9p__qid.html#afcc69d5df116f089757b02521779dbfb">00268</a>         <a class="code" href="9p_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> <a class="code" href="struct__9p__qid.html#afcc69d5df116f089757b02521779dbfb">path</a>;
<a name="l00269"></a>00269 } <a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15">_9p_qid_t</a>;
<a name="l00270"></a>00270 
<a name="l00271"></a><a class="code" href="struct__9p__param____.html">00271</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__9p__param____.html">_9p_param__</a>
<a name="l00272"></a>00272 {
<a name="l00273"></a><a class="code" href="struct__9p__param____.html#a535ae1c4f94d81d79f8a936e8bd8a006">00273</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="struct__9p__param____.html#a535ae1c4f94d81d79f8a936e8bd8a006">_9p_port</a> ;
<a name="l00274"></a>00274 } <a class="code" href="9p_8h.html#a1f57760457d47fe0e1981ada27c93d85">_9p_parameter_t</a> ;
<a name="l00275"></a>00275 
<a name="l00276"></a><a class="code" href="struct__9p__fid____.html">00276</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__9p__fid____.html">_9p_fid__</a>
<a name="l00277"></a>00277 {
<a name="l00278"></a><a class="code" href="struct__9p__fid____.html#a172a2cd4cde3f3cde30fc27cc893e08f">00278</a>   <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>                  <a class="code" href="struct__9p__fid____.html#a172a2cd4cde3f3cde30fc27cc893e08f">fid</a> ;
<a name="l00279"></a><a class="code" href="struct__9p__fid____.html#a8fbdf010f149eaca1e0a295d6eb68d48">00279</a>   <a class="code" href="structfsal__op__context____.html">fsal_op_context_t</a>    <a class="code" href="struct__9p__fid____.html#a8fbdf010f149eaca1e0a295d6eb68d48">fsal_op_context</a> ;
<a name="l00280"></a><a class="code" href="struct__9p__fid____.html#a61989a6dda1526e25c3ae21e10e2d155">00280</a>   <a class="code" href="structexportlist____.html">exportlist_t</a>       * <a class="code" href="struct__9p__fid____.html#a61989a6dda1526e25c3ae21e10e2d155">pexport</a> ;
<a name="l00281"></a><a class="code" href="struct__9p__fid____.html#a9ecdb463d44c9b7dd53c9a23174198bd">00281</a>   <a class="code" href="structcache__entry__t.html" title="Represents a cached inode.">cache_entry_t</a>      * <a class="code" href="struct__9p__fid____.html#a9ecdb463d44c9b7dd53c9a23174198bd">pentry</a> ;
<a name="l00282"></a><a class="code" href="struct__9p__fid____.html#ab167d21a22750d8b3d874576dde0f505">00282</a>   <a class="code" href="9p_8h.html#a2ca2f76203dd99a5891310fd4dfa5f15">_9p_qid_t</a>            <a class="code" href="struct__9p__fid____.html#ab167d21a22750d8b3d874576dde0f505">qid</a> ;
<a name="l00283"></a>00283   <span class="keyword">union </span>
<a name="l00284"></a>00284     { 
<a name="l00285"></a><a class="code" href="struct__9p__fid____.html#a63716906d2abbfa3ecc7d14a233682e3">00285</a>        <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>      <a class="code" href="struct__9p__fid____.html#a63716906d2abbfa3ecc7d14a233682e3">iounit</a> ;
<a name="l00286"></a>00286        <span class="keyword">struct </span>_9p_xattr_desc 
<a name="l00287"></a>00287         {  
<a name="l00288"></a><a class="code" href="struct__9p__fid____.html#a041bebc666d12f8a64367ff1b895959c">00288</a>           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct__9p__fid____.html#a041bebc666d12f8a64367ff1b895959c">xattr_id</a> ;
<a name="l00289"></a><a class="code" href="struct__9p__fid____.html#a9da56aba319e352332d95ad45f965e9b">00289</a>           caddr_t      <a class="code" href="struct__9p__fid____.html#a9da56aba319e352332d95ad45f965e9b">xattr_content</a> ;
<a name="l00290"></a>00290         } <a class="code" href="struct__9p__fid____.html#a915975abb44cf87364baa38bb5b073c7">xattr</a> ;
<a name="l00291"></a>00291     } <a class="code" href="struct__9p__fid____.html#a5ed18716c6419bf789287a2b9fd802ca">specdata</a> ;
<a name="l00292"></a>00292 } <a class="code" href="9p_8h.html#a2bc3be51aae36bf8346e196fa70a8c5c">_9p_fid_t</a> ;
<a name="l00293"></a>00293 
<a name="l00294"></a>00294 
<a name="l00295"></a><a class="code" href="struct__9p__conn____.html">00295</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__9p__conn____.html">_9p_conn__</a>
<a name="l00296"></a>00296 {
<a name="l00297"></a><a class="code" href="struct__9p__conn____.html#aa089e78aadbc74a1acd7aaffa5d7f79b">00297</a>   <span class="keywordtype">long</span> <span class="keywordtype">int</span>        <a class="code" href="struct__9p__conn____.html#aa089e78aadbc74a1acd7aaffa5d7f79b">sockfd</a> ;
<a name="l00298"></a><a class="code" href="struct__9p__conn____.html#afcdd027d59a2b726387aafe3c076fba5">00298</a>   <span class="keyword">struct </span>timeval  <a class="code" href="struct__9p__conn____.html#afcdd027d59a2b726387aafe3c076fba5">birth</a>;  <span class="comment">/* This is useful if same sockfd is reused on socket&#39;s close/open  */</span>
<a name="l00299"></a><a class="code" href="struct__9p__conn____.html#abbd1ceb476196b125fe7c3b55e8d08dd">00299</a>   <a class="code" href="struct__9p__fid____.html">_9p_fid_t</a>       <a class="code" href="struct__9p__conn____.html#abbd1ceb476196b125fe7c3b55e8d08dd">fids</a>[<a class="code" href="9p_8h.html#aeea5f2fbb18c38047af6af3f220605d4">_9P_FID_PER_CONN</a>] ;
<a name="l00300"></a>00300 } <a class="code" href="9p_8h.html#abb3847e8058ae0d2f21dbc8c66a6a097">_9p_conn_t</a> ;
<a name="l00301"></a>00301 
<a name="l00302"></a><a class="code" href="struct__9p__request__data____.html">00302</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__9p__request__data____.html">_9p_request_data__</a>
<a name="l00303"></a>00303 {
<a name="l00304"></a><a class="code" href="struct__9p__request__data____.html#a5855d02eb81c7ef5b2f1481f7ffc3ab9">00304</a>   <span class="keywordtype">char</span>         <a class="code" href="struct__9p__request__data____.html#a5855d02eb81c7ef5b2f1481f7ffc3ab9">_9pmsg</a>[<a class="code" href="9p_8h.html#ae14a8b9f9ace5750b019c0571f0bb9dd">_9P_MSG_SIZE</a>] ;
<a name="l00305"></a><a class="code" href="struct__9p__request__data____.html#a754add789ed17d698ad3805edbfbd738">00305</a>   <a class="code" href="struct__9p__conn____.html">_9p_conn_t</a>  *  <a class="code" href="struct__9p__request__data____.html#a754add789ed17d698ad3805edbfbd738">pconn</a> ; 
<a name="l00306"></a>00306 } <a class="code" href="9p_8h.html#acc2dff52d5df515744866716ffb5a3de">_9p_request_data_t</a> ;
<a name="l00307"></a>00307 
<a name="l00308"></a><a class="code" href="9p_8h.html#ac17847f4feb7ff653376d697efbbcc87">00308</a> <span class="keyword">typedef</span> int (*<a class="code" href="9p_8h.html#ac17847f4feb7ff653376d697efbbcc87">_9p_function_t</a>) (<a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00309"></a>00309                                <span class="keywordtype">void</span> * pworker_data,
<a name="l00310"></a>00310                                <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, <span class="keywordtype">char</span> * preply) ;
<a name="l00311"></a>00311 
<a name="l00312"></a><a class="code" href="struct__9p__function__desc____.html">00312</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__9p__function__desc____.html">_9p_function_desc__</a>
<a name="l00313"></a>00313 {
<a name="l00314"></a><a class="code" href="struct__9p__function__desc____.html#af654955a2c8d2b6c8de258a544574a54">00314</a>   <a class="code" href="9p_8h.html#ac17847f4feb7ff653376d697efbbcc87">_9p_function_t</a> <a class="code" href="struct__9p__function__desc____.html#af654955a2c8d2b6c8de258a544574a54">service_function</a>;
<a name="l00315"></a><a class="code" href="struct__9p__function__desc____.html#a519590230090677fd3c498ea8321d6b6">00315</a>   <span class="keywordtype">char</span> *<a class="code" href="struct__9p__function__desc____.html#a519590230090677fd3c498ea8321d6b6">funcname</a>;
<a name="l00316"></a>00316 } <a class="code" href="9p_8h.html#a452ad861c4424db6549d6045bdd60be5">_9p_function_desc_t</a>;
<a name="l00317"></a>00317 
<a name="l00318"></a>00318 
<a name="l00319"></a><a class="code" href="9p_8h.html#aa65b304750af9c1bdccc4bba3fe73769">00319</a> <span class="preprocessor">#define _9p_getptr( __cursor, __pvar, __type ) \</span>
<a name="l00320"></a>00320 <span class="preprocessor">do                                             \</span>
<a name="l00321"></a>00321 <span class="preprocessor">{                                              \</span>
<a name="l00322"></a>00322 <span class="preprocessor">  __pvar=(__type *)__cursor ;                  \</span>
<a name="l00323"></a>00323 <span class="preprocessor">  __cursor += sizeof( __type ) ;               \</span>
<a name="l00324"></a>00324 <span class="preprocessor">} while( 0 ) </span>
<a name="l00325"></a>00325 <span class="preprocessor"></span>
<a name="l00326"></a><a class="code" href="9p_8h.html#adb60f66db9d49266245ca9170ed358ec">00326</a> <span class="preprocessor">#define _9p_getstr( __cursor, __len, __str ) \</span>
<a name="l00327"></a>00327 <span class="preprocessor">do                                           \</span>
<a name="l00328"></a>00328 <span class="preprocessor">{                                            \</span>
<a name="l00329"></a>00329 <span class="preprocessor">  __len = (u16 *)__cursor ;                  \</span>
<a name="l00330"></a>00330 <span class="preprocessor">  __cursor += sizeof( u16 ) ;                \</span>
<a name="l00331"></a>00331 <span class="preprocessor">  __str = __cursor ;                         \</span>
<a name="l00332"></a>00332 <span class="preprocessor">  __cursor += *__len ;                       \</span>
<a name="l00333"></a>00333 <span class="preprocessor">} while( 0 )                           </span>
<a name="l00334"></a>00334 <span class="preprocessor"></span>
<a name="l00335"></a><a class="code" href="9p_8h.html#a441a25abc50f77c6a648b3573e5d4564">00335</a> <span class="preprocessor">#define _9p_setptr( __cursor, __pvar, __type ) \</span>
<a name="l00336"></a>00336 <span class="preprocessor">do                                             \</span>
<a name="l00337"></a>00337 <span class="preprocessor">{                                              \</span>
<a name="l00338"></a>00338 <span class="preprocessor">  *((__type *)__cursor) = *__pvar ;              \</span>
<a name="l00339"></a>00339 <span class="preprocessor">  __cursor += sizeof( __type ) ;               \</span>
<a name="l00340"></a>00340 <span class="preprocessor">} while( 0 ) </span>
<a name="l00341"></a>00341 <span class="preprocessor"></span>
<a name="l00342"></a><a class="code" href="9p_8h.html#a9711027a6fe1186f5a5a289454f9b81e">00342</a> <span class="preprocessor">#define _9p_setvalue( __cursor, __var, __type ) \</span>
<a name="l00343"></a>00343 <span class="preprocessor">do                                             \</span>
<a name="l00344"></a>00344 <span class="preprocessor">{                                              \</span>
<a name="l00345"></a>00345 <span class="preprocessor">  *((__type *)__cursor) = __var ;              \</span>
<a name="l00346"></a>00346 <span class="preprocessor">  __cursor += sizeof( __type ) ;               \</span>
<a name="l00347"></a>00347 <span class="preprocessor">} while( 0 ) </span>
<a name="l00348"></a>00348 <span class="preprocessor"></span>
<a name="l00349"></a><a class="code" href="9p_8h.html#a9f235c158e9df29528e8335f26874d49">00349</a> <span class="preprocessor">#define _9p_savepos( __cursor, __savedpos, __type ) \</span>
<a name="l00350"></a>00350 <span class="preprocessor">do                                                  \</span>
<a name="l00351"></a>00351 <span class="preprocessor">{                                                   \</span>
<a name="l00352"></a>00352 <span class="preprocessor">  __savedpos = __cursor ;                           \</span>
<a name="l00353"></a>00353 <span class="preprocessor">  __cursor += sizeof( __type ) ;                    \</span>
<a name="l00354"></a>00354 <span class="preprocessor">} while ( 0 ) </span>
<a name="l00355"></a>00355 <span class="preprocessor"></span>
<a name="l00356"></a>00356 <span class="comment">/* Insert a qid */</span>
<a name="l00357"></a><a class="code" href="9p_8h.html#a6ce74e826c21ca5dd96b1b3b06b3dca4">00357</a> <span class="preprocessor">#define _9p_setqid( __cursor, __qid )  \</span>
<a name="l00358"></a>00358 <span class="preprocessor">do                                     \</span>
<a name="l00359"></a>00359 <span class="preprocessor">{                                      \</span>
<a name="l00360"></a>00360 <span class="preprocessor">  *((u8 *)__cursor) = __qid.type ;     \</span>
<a name="l00361"></a>00361 <span class="preprocessor">  __cursor += sizeof( u8 ) ;           \</span>
<a name="l00362"></a>00362 <span class="preprocessor">  *((u32 *)__cursor) = __qid.version ; \</span>
<a name="l00363"></a>00363 <span class="preprocessor">  __cursor += sizeof( u32 ) ;          \</span>
<a name="l00364"></a>00364 <span class="preprocessor">  *((u64 *)__cursor) = __qid.path ;    \</span>
<a name="l00365"></a>00365 <span class="preprocessor">  __cursor += sizeof( u64 ) ;          \</span>
<a name="l00366"></a>00366 <span class="preprocessor">} while( 0 ) </span>
<a name="l00367"></a>00367 <span class="preprocessor"></span>
<a name="l00368"></a>00368 <span class="comment">/* Insert a non-null terminated string */</span>
<a name="l00369"></a><a class="code" href="9p_8h.html#a9f39e9c7fc4558ecf4ae1bb705b1881c">00369</a> <span class="preprocessor">#define _9p_setstr( __cursor, __len, __str ) \</span>
<a name="l00370"></a>00370 <span class="preprocessor">do                                           \</span>
<a name="l00371"></a>00371 <span class="preprocessor">{                                            \</span>
<a name="l00372"></a>00372 <span class="preprocessor">  *((u16 *)__cursor) = __len ;               \</span>
<a name="l00373"></a>00373 <span class="preprocessor">  __cursor += sizeof( u16 ) ;                \</span>
<a name="l00374"></a>00374 <span class="preprocessor">  memcpy( __cursor, __str, __len ) ;         \</span>
<a name="l00375"></a>00375 <span class="preprocessor">  __cursor += __len ;                        \</span>
<a name="l00376"></a>00376 <span class="preprocessor">} while( 0 )</span>
<a name="l00377"></a>00377 <span class="preprocessor"></span>
<a name="l00378"></a><a class="code" href="9p_8h.html#a8cec71024cacf23c027ceb741061bc3c">00378</a> <span class="preprocessor">#define _9p_setbuffer( __cursor, __len, __buffer ) \</span>
<a name="l00379"></a>00379 <span class="preprocessor">do                                           \</span>
<a name="l00380"></a>00380 <span class="preprocessor">{                                            \</span>
<a name="l00381"></a>00381 <span class="preprocessor">  *((u32 *)__cursor) = __len ;               \</span>
<a name="l00382"></a>00382 <span class="preprocessor">  __cursor += sizeof( u32 ) ;                \</span>
<a name="l00383"></a>00383 <span class="preprocessor">  memcpy( __cursor, __buffer, __len ) ;         \</span>
<a name="l00384"></a>00384 <span class="preprocessor">  __cursor += __len ;                        \</span>
<a name="l00385"></a>00385 <span class="preprocessor">} while( 0 )</span>
<a name="l00386"></a>00386 <span class="preprocessor"></span>
<a name="l00387"></a><a class="code" href="9p_8h.html#a23f9ba8192e0aa556967d7bf98889190">00387</a> <span class="preprocessor">#define _9p_setinitptr( __cursor, __start, __reqtype ) \</span>
<a name="l00388"></a>00388 <span class="preprocessor">do                                                     \</span>
<a name="l00389"></a>00389 <span class="preprocessor">{                                                      \</span>
<a name="l00390"></a>00390 <span class="preprocessor">  __cursor = __start + _9P_HDR_SIZE;                   \</span>
<a name="l00391"></a>00391 <span class="preprocessor">  *((u8 *)__cursor) = __reqtype ;                      \</span>
<a name="l00392"></a>00392 <span class="preprocessor">  __cursor += sizeof( u8 ) ;                           \</span>
<a name="l00393"></a>00393 <span class="preprocessor">} while( 0 ) </span>
<a name="l00394"></a>00394 <span class="preprocessor"></span>
<a name="l00395"></a><a class="code" href="9p_8h.html#a96a91c2e1918091f4977a392bd650e97">00395</a> <span class="preprocessor">#define _9p_setendptr( __cursor, __start )         \</span>
<a name="l00396"></a>00396 <span class="preprocessor">do                                                 \</span>
<a name="l00397"></a>00397 <span class="preprocessor">{                                                  \</span>
<a name="l00398"></a>00398 <span class="preprocessor">  *((u32 *)__start) =  (u32)(__cursor - __start) ; \</span>
<a name="l00399"></a>00399 <span class="preprocessor">} while( 0 ) </span>
<a name="l00400"></a>00400 <span class="preprocessor"></span>
<a name="l00401"></a><a class="code" href="9p_8h.html#afcae21967eb5d21c05de02e417c160e1">00401</a> <span class="preprocessor">#define _9p_checkbound( __cursor, __start, __maxlen ) \</span>
<a name="l00402"></a>00402 <span class="preprocessor">do                                                    \</span>
<a name="l00403"></a>00403 <span class="preprocessor">{                                                     \</span>
<a name="l00404"></a>00404 <span class="preprocessor">if( (u32)( __cursor - __start ) &gt; *__maxlen )         \</span>
<a name="l00405"></a>00405 <span class="preprocessor">  return -1 ;                                         \</span>
<a name="l00406"></a>00406 <span class="preprocessor">else                                                  \</span>
<a name="l00407"></a>00407 <span class="preprocessor">   *__maxlen = (u32)( __cursor - __start )  ;         \</span>
<a name="l00408"></a>00408 <span class="preprocessor">} while( 0 ) </span>
<a name="l00409"></a>00409 <span class="preprocessor"></span>
<a name="l00410"></a>00410 <span class="comment">/* Bit values for getattr valid field.</span>
<a name="l00411"></a>00411 <span class="comment"> */</span>
<a name="l00412"></a><a class="code" href="9p_8h.html#acbeae158bbe8d3272c06ac38fec9ebc4">00412</a> <span class="preprocessor">#define _9P_GETATTR_MODE        0x00000001ULL</span>
<a name="l00413"></a><a class="code" href="9p_8h.html#a59670fe6321f25d63f3cf4515c100722">00413</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_GETATTR_NLINK       0x00000002ULL</span>
<a name="l00414"></a><a class="code" href="9p_8h.html#a93024efc29433f736335cd94b05d10b1">00414</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_GETATTR_UID         0x00000004ULL</span>
<a name="l00415"></a><a class="code" href="9p_8h.html#a01f95febba13c558dcc1da0002432573">00415</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_GETATTR_GID         0x00000008ULL</span>
<a name="l00416"></a><a class="code" href="9p_8h.html#a6a5147a0bd9bbcd8d4ebd3b79c7cb4ab">00416</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_GETATTR_RDEV        0x00000010ULL</span>
<a name="l00417"></a><a class="code" href="9p_8h.html#ae5983a7e1b163b8aab0f4c447cc3b96b">00417</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_GETATTR_ATIME       0x00000020ULL</span>
<a name="l00418"></a><a class="code" href="9p_8h.html#a08b10db818706267d3b1a474f6eb7daa">00418</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_GETATTR_MTIME       0x00000040ULL</span>
<a name="l00419"></a><a class="code" href="9p_8h.html#ab2aa7e257fe89e5a44135649ffe4aca6">00419</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_GETATTR_CTIME       0x00000080ULL</span>
<a name="l00420"></a><a class="code" href="9p_8h.html#ab670abff4a0f6c994794ec3f862b18fc">00420</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_GETATTR_INO         0x00000100ULL</span>
<a name="l00421"></a><a class="code" href="9p_8h.html#a45a178ab981f6b7e09af2c33ccfc118e">00421</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_GETATTR_SIZE        0x00000200ULL</span>
<a name="l00422"></a><a class="code" href="9p_8h.html#a25ac73d4b510bc0425d91a1d56c12e20">00422</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_GETATTR_BLOCKS      0x00000400ULL</span>
<a name="l00423"></a>00423 <span class="preprocessor"></span>
<a name="l00424"></a><a class="code" href="9p_8h.html#a489a11564ed4cf0cfc07523ea45a2868">00424</a> <span class="preprocessor">#define _9P_GETATTR_BTIME       0x00000800ULL</span>
<a name="l00425"></a><a class="code" href="9p_8h.html#ab9f4d415d1011eb57f2ffc7c151b89ec">00425</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_GETATTR_GEN         0x00001000ULL</span>
<a name="l00426"></a><a class="code" href="9p_8h.html#a0eef8213e8626b5e5b61eb3c474a5e43">00426</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_GETATTR_DATA_VERSION        0x00002000ULL</span>
<a name="l00427"></a>00427 <span class="preprocessor"></span>
<a name="l00428"></a><a class="code" href="9p_8h.html#ae8b00730cd758193bb06ebce67895d95">00428</a> <span class="preprocessor">#define _9P_GETATTR_BASIC       0x000007ffULL </span><span class="comment">/* Mask for fields up to BLOCKS */</span>
<a name="l00429"></a><a class="code" href="9p_8h.html#a54c1237781af07f74413787fbbc54de5">00429</a> <span class="preprocessor">#define _9P_GETATTR_ALL         0x00003fffULL </span><span class="comment">/* Mask for All fields above */</span>
<a name="l00430"></a>00430 
<a name="l00431"></a>00431 <span class="comment">/* Bit values for setattr valid field from &lt;linux/fs.h&gt;.</span>
<a name="l00432"></a>00432 <span class="comment"> */</span>
<a name="l00433"></a><a class="code" href="9p_8h.html#acefdbe2e06dc1ecb5d1f896bc8ffb1fb">00433</a> <span class="preprocessor">#define _9P_SETATTR_MODE        0x00000001UL</span>
<a name="l00434"></a><a class="code" href="9p_8h.html#a415a71163c605f5b76822fd55e9e7bb9">00434</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_SETATTR_UID         0x00000002UL</span>
<a name="l00435"></a><a class="code" href="9p_8h.html#abbfb95414d848edec1f5f92dcfd8220f">00435</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_SETATTR_GID         0x00000004UL</span>
<a name="l00436"></a><a class="code" href="9p_8h.html#abb0a92b3bc904995dcab061478e33821">00436</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_SETATTR_SIZE        0x00000008UL</span>
<a name="l00437"></a><a class="code" href="9p_8h.html#af4c4944241a4ada1bc2b2af56eebb96b">00437</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_SETATTR_ATIME       0x00000010UL</span>
<a name="l00438"></a><a class="code" href="9p_8h.html#a0df9c5f7b153e0f05005548d3716f32e">00438</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_SETATTR_MTIME       0x00000020UL</span>
<a name="l00439"></a><a class="code" href="9p_8h.html#a902479beac0eb69a0cc0428fc5b9f70c">00439</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_SETATTR_CTIME       0x00000040UL</span>
<a name="l00440"></a><a class="code" href="9p_8h.html#aa22d7e1fc68fffc7245c0823654819b6">00440</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_SETATTR_ATIME_SET   0x00000080UL</span>
<a name="l00441"></a><a class="code" href="9p_8h.html#aba3de2b18fa587f9a9fb3411a005cff7">00441</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_SETATTR_MTIME_SET   0x00000100UL</span>
<a name="l00442"></a>00442 <span class="preprocessor"></span>
<a name="l00443"></a>00443 <span class="comment">/* Bit values for lock type.</span>
<a name="l00444"></a>00444 <span class="comment"> */</span>
<a name="l00445"></a><a class="code" href="9p_8h.html#a6b02168be62bf97d42076e3f71424c1e">00445</a> <span class="preprocessor">#define _9P_LOCK_TYPE_RDLCK 0</span>
<a name="l00446"></a><a class="code" href="9p_8h.html#a7b2b14aa923d49b0fc7d009b9dd1529a">00446</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_LOCK_TYPE_WRLCK 1</span>
<a name="l00447"></a><a class="code" href="9p_8h.html#a1a1ede5cb93a530c2e904b502915c204">00447</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_LOCK_TYPE_UNLCK 2</span>
<a name="l00448"></a>00448 <span class="preprocessor"></span>
<a name="l00449"></a>00449 <span class="comment">/* Bit values for lock status.</span>
<a name="l00450"></a>00450 <span class="comment"> */</span>
<a name="l00451"></a><a class="code" href="9p_8h.html#a174ecff79772981591f39a0e7dc42d10">00451</a> <span class="preprocessor">#define _9P_LOCK_SUCCESS 0</span>
<a name="l00452"></a><a class="code" href="9p_8h.html#a816f7df3787ae1a91ea343387a5eb585">00452</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_LOCK_BLOCKED 1</span>
<a name="l00453"></a><a class="code" href="9p_8h.html#aa4db2391c98cd8656c27e7ed6f9328dc">00453</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_LOCK_ERROR 2</span>
<a name="l00454"></a><a class="code" href="9p_8h.html#a9b810db51976c15454bc303f5247701a">00454</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_LOCK_GRACE 3</span>
<a name="l00455"></a>00455 <span class="preprocessor"></span>
<a name="l00456"></a>00456 <span class="comment">/* Bit values for lock flags.</span>
<a name="l00457"></a>00457 <span class="comment"> */</span>
<a name="l00458"></a><a class="code" href="9p_8h.html#a3b0d83437abecf25181b0358642333af">00458</a> <span class="preprocessor">#define _9P_LOCK_FLAGS_BLOCK 1</span>
<a name="l00459"></a><a class="code" href="9p_8h.html#a3c552fa6e26ae65099825117b7801fa6">00459</a> <span class="preprocessor"></span><span class="preprocessor">#define _9P_LOCK_FLAGS_RECLAIM 2</span>
<a name="l00460"></a>00460 <span class="preprocessor"></span>
<a name="l00461"></a>00461 <span class="comment">/* service functions */</span>
<a name="l00462"></a>00462 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#acf6b895d6d56162bb2dcb716a4ebff67">_9p_read_conf</a>( <a class="code" href="config__parsing_8h.html#adfea46b92009fb7b8d52287bd2aa1900">config_file_t</a>   in_config,
<a name="l00463"></a>00463                    <a class="code" href="struct__9p__param____.html">_9p_parameter_t</a> *pparam ) ;
<a name="l00464"></a>00464 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#ae3216881cff0207498d3693ad47007f9">_9p_init</a>( <a class="code" href="struct__9p__param____.html">_9p_parameter_t</a> * pparam ) ;
<a name="l00465"></a>00465 
<a name="l00466"></a>00466 <span class="comment">/* Tools functions */</span>
<a name="l00467"></a>00467 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#ad5b3546b6fe44f1f09d5be7b24463e2b">_9p_tools_get_fsal_op_context_by_uid</a>( <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> uid, <a class="code" href="struct__9p__fid____.html">_9p_fid_t</a> * pfid ) ;
<a name="l00468"></a>00468 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a8c5f3fbfc93e3215dd13d75d96c6502b">_9p_tools_get_fsal_op_context_by_name</a>( <span class="keywordtype">int</span> uname_len, <span class="keywordtype">char</span> * uname_str, <a class="code" href="struct__9p__fid____.html">_9p_fid_t</a> * pfid ) ;
<a name="l00469"></a>00469 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#ad4f9d0c8c882510f519768cffed6ae58">_9p_tools_errno</a>( <a class="code" href="cache__inode_8h.html#aa6929668cedf7463f35a22998b8e08d2">cache_inode_status_t</a> cache_status ) ;
<a name="l00470"></a>00470 <span class="keywordtype">void</span> <a class="code" href="9p_8h.html#a764b8796e1d8daae406e20db64e953bf">_9p_tools_fsal_attr2stat</a>( <a class="code" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> * pfsalattr, <span class="keyword">struct</span> stat * pstat ) ;
<a name="l00471"></a>00471 <span class="keywordtype">void</span> <a class="code" href="9p_8h.html#a45d7db8de0a297c9edc20a98686a78a7">_9p_tools_acess2fsal</a>( <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * paccessin, <a class="code" href="fsal__types_8h.html#a67f294990c65fb1f373bd9a21b139d67">fsal_accessflags_t</a> * pfsalaccess ) ;
<a name="l00472"></a>00472 <span class="keywordtype">void</span> <a class="code" href="9p_8h.html#a7c7edf188b866d1b0aa5a1b6b0666434">_9p_openflags2FSAL</a>( <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * inflags, <a class="code" href="fsal__types_8h.html#a32a4d2db8d51a91baa4adf861fcdd914">fsal_openflags_t</a> * outflags ) ;
<a name="l00473"></a>00473 <span class="keywordtype">void</span> <a class="code" href="9p_8h.html#aea51c7d8daf22024481fb8e5796a7562">_9p_chomp_attr_value</a>(<span class="keywordtype">char</span> *str, <span class="keywordtype">size_t</span> size) ;
<a name="l00474"></a>00474 
<a name="l00475"></a>00475 <span class="comment">/* Protocol functions */</span>
<a name="l00476"></a>00476 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a214c298b6c9dbe45355e1abedf2c9060">_9p_not_2000L</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00477"></a>00477                    <span class="keywordtype">void</span> * pworker_data,
<a name="l00478"></a>00478                    <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00479"></a>00479                    <span class="keywordtype">char</span> * preply) ;
<a name="l00480"></a>00480 
<a name="l00481"></a>00481 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a77804982918f079ad01fbd592d96d5a8">_9p_clunk</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00482"></a>00482                <span class="keywordtype">void</span> * pworker_data,
<a name="l00483"></a>00483                <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout,
<a name="l00484"></a>00484                <span class="keywordtype">char</span> * preply) ;
<a name="l00485"></a>00485 
<a name="l00486"></a>00486 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#adf43a12ea3a425e2375de854e0c654ad">_9p_attach</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00487"></a>00487                 <span class="keywordtype">void</span> * pworker_data,
<a name="l00488"></a>00488                 <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00489"></a>00489                 <span class="keywordtype">char</span> * preply) ;
<a name="l00490"></a>00490 
<a name="l00491"></a>00491 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a2e2da86502c89bd34380f79c94ba9011">_9p_auth</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00492"></a>00492               <span class="keywordtype">void</span> * pworker_data,
<a name="l00493"></a>00493               <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00494"></a>00494               <span class="keywordtype">char</span> * preply) ;
<a name="l00495"></a>00495 
<a name="l00496"></a>00496 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a5777efb7f1618c1833f8adad9b407657">_9p_lcreate</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00497"></a>00497                  <span class="keywordtype">void</span> * pworker_data,
<a name="l00498"></a>00498                  <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00499"></a>00499                  <span class="keywordtype">char</span> * preply) ;
<a name="l00500"></a>00500 
<a name="l00501"></a>00501 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a886605db90b47256384482074c4e35f5">_9p_flush</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00502"></a>00502                <span class="keywordtype">void</span> * pworker_data,
<a name="l00503"></a>00503                <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00504"></a>00504                <span class="keywordtype">char</span> * preply) ;
<a name="l00505"></a>00505 
<a name="l00506"></a>00506 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a2358be71a89471a11d91eaad314f566e">_9p_getattr</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00507"></a>00507                  <span class="keywordtype">void</span> * pworker_data,
<a name="l00508"></a>00508                  <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00509"></a>00509                  <span class="keywordtype">char</span> * preply) ;
<a name="l00510"></a>00510 
<a name="l00511"></a>00511 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#ad00055a615b1f5faf52d11d613e0e11c">_9p_getlock</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00512"></a>00512                  <span class="keywordtype">void</span> * pworker_data,
<a name="l00513"></a>00513                  <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00514"></a>00514                  <span class="keywordtype">char</span> * preply) ;
<a name="l00515"></a>00515 
<a name="l00516"></a>00516 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#ab84911a7451bf81dc6b82f81f2a3e847">_9p_link</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00517"></a>00517               <span class="keywordtype">void</span> * pworker_data,
<a name="l00518"></a>00518               <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00519"></a>00519               <span class="keywordtype">char</span> * preply) ;
<a name="l00520"></a>00520 
<a name="l00521"></a>00521 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a06516018bcdac2f785e50078343b233b">_9p_lock</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00522"></a>00522               <span class="keywordtype">void</span> * pworker_data,
<a name="l00523"></a>00523               <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00524"></a>00524               <span class="keywordtype">char</span> * preply) ;
<a name="l00525"></a>00525 
<a name="l00526"></a>00526 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a559c4852b8bb782da51d0024d908c676">_9p_lopen</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00527"></a>00527                <span class="keywordtype">void</span> * pworker_data,
<a name="l00528"></a>00528                <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00529"></a>00529                <span class="keywordtype">char</span> * preply) ;
<a name="l00530"></a>00530 
<a name="l00531"></a>00531 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#aee33200e77070bffc3aa16c9b9d82135">_9p_mkdir</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00532"></a>00532                <span class="keywordtype">void</span> * pworker_data,
<a name="l00533"></a>00533                <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00534"></a>00534                <span class="keywordtype">char</span> * preply) ;
<a name="l00535"></a>00535 
<a name="l00536"></a>00536 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a6c4bd4cd8b1f89b19711b6b59d66b8d5">_9p_mknod</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00537"></a>00537                <span class="keywordtype">void</span> * pworker_data,
<a name="l00538"></a>00538                <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00539"></a>00539                <span class="keywordtype">char</span> * preply) ;
<a name="l00540"></a>00540 
<a name="l00541"></a>00541 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a1479bc4313eb882db8e03a7a82b77cbf">_9p_read</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00542"></a>00542               <span class="keywordtype">void</span> * pworker_data,
<a name="l00543"></a>00543               <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00544"></a>00544               <span class="keywordtype">char</span> * preply) ;
<a name="l00545"></a>00545 
<a name="l00546"></a>00546 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a5b6b63d819c44df97cfb0769c369fa70">_9p_readdir</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00547"></a>00547                  <span class="keywordtype">void</span> * pworker_data,
<a name="l00548"></a>00548                  <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00549"></a>00549                  <span class="keywordtype">char</span> * preply) ;
<a name="l00550"></a>00550 
<a name="l00551"></a>00551 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a95dcae1b0f17bee821816083549166e5">_9p_readlink</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00552"></a>00552                   <span class="keywordtype">void</span> * pworker_data,
<a name="l00553"></a>00553                   <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00554"></a>00554                   <span class="keywordtype">char</span> * preply) ;
<a name="l00555"></a>00555 
<a name="l00556"></a>00556 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#afccd7eeaa85af35e31222b11a4f2c4cf">_9p_setattr</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00557"></a>00557                  <span class="keywordtype">void</span> * pworker_data,
<a name="l00558"></a>00558                  <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00559"></a>00559                  <span class="keywordtype">char</span> * preply) ;
<a name="l00560"></a>00560 
<a name="l00561"></a>00561 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#abe5b3c2481d22a8332283bb1f39819a3">_9p_symlink</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00562"></a>00562                  <span class="keywordtype">void</span> * pworker_data,
<a name="l00563"></a>00563                  <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00564"></a>00564                  <span class="keywordtype">char</span> * preply) ;
<a name="l00565"></a>00565 
<a name="l00566"></a>00566 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#aeb2e51e11b16943037db5e0142b50f68">_9p_remove</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00567"></a>00567                 <span class="keywordtype">void</span> * pworker_data,
<a name="l00568"></a>00568                 <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00569"></a>00569                 <span class="keywordtype">char</span> * preply) ;
<a name="l00570"></a>00570 
<a name="l00571"></a>00571 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a4f2dac36e5e971a1e9f3f876711b87d2">_9p_rename</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00572"></a>00572                 <span class="keywordtype">void</span> * pworker_data,
<a name="l00573"></a>00573                 <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00574"></a>00574                 <span class="keywordtype">char</span> * preply) ;
<a name="l00575"></a>00575 
<a name="l00576"></a>00576 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a9d255387067ce1e544407589b2145275">_9p_renameat</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00577"></a>00577                   <span class="keywordtype">void</span> * pworker_data,
<a name="l00578"></a>00578                   <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00579"></a>00579                   <span class="keywordtype">char</span> * preply) ;
<a name="l00580"></a>00580 
<a name="l00581"></a>00581 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a313030ec6a43d874dadf5c9aa95cb7f9">_9p_statfs</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00582"></a>00582                 <span class="keywordtype">void</span> * pworker_data,
<a name="l00583"></a>00583                 <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00584"></a>00584                 <span class="keywordtype">char</span> * preply) ;
<a name="l00585"></a>00585 
<a name="l00586"></a>00586 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a58fa86a8fd8cb11e1808b59cf634efd3">_9p_fsync</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00587"></a>00587                <span class="keywordtype">void</span>  * pworker_data,
<a name="l00588"></a>00588                <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00589"></a>00589                <span class="keywordtype">char</span> * preply) ;
<a name="l00590"></a>00590 
<a name="l00591"></a>00591 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#ad68797ae7532d1f4f2652f8f68b80a0e">_9p_unlinkat</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00592"></a>00592                   <span class="keywordtype">void</span> * pworker_data,
<a name="l00593"></a>00593                   <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00594"></a>00594                   <span class="keywordtype">char</span> * preply) ;
<a name="l00595"></a>00595 
<a name="l00596"></a>00596 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a037d0c7c1e226aa398c4a52b9b536f06">_9p_version</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00597"></a>00597                  <span class="keywordtype">void</span> * pworker_data,
<a name="l00598"></a>00598                  <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout,
<a name="l00599"></a>00599                  <span class="keywordtype">char</span> * preply) ;
<a name="l00600"></a>00600 
<a name="l00601"></a>00601 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a8b869eea4cc87f3cff39741a42526299">_9p_walk</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00602"></a>00602               <span class="keywordtype">void</span> * pworker_data,
<a name="l00603"></a>00603               <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout,
<a name="l00604"></a>00604               <span class="keywordtype">char</span> * preply) ;
<a name="l00605"></a>00605 
<a name="l00606"></a>00606 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a8402199fa5474dfda5425ce8ff1a1fc4">_9p_write</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00607"></a>00607                <span class="keywordtype">void</span> * pworker_data,
<a name="l00608"></a>00608                <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout,
<a name="l00609"></a>00609                <span class="keywordtype">char</span> * preply) ;
<a name="l00610"></a>00610 
<a name="l00611"></a>00611 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a076462bb24a80eb5552bfa0619911b94">_9p_xattrcreate</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00612"></a>00612                      <span class="keywordtype">void</span> * pworker_data,
<a name="l00613"></a>00613                      <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout,
<a name="l00614"></a>00614                      <span class="keywordtype">char</span> * preply) ;
<a name="l00615"></a>00615 
<a name="l00616"></a>00616 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a98a43931fa4b3c2f65dea1511f31d84f">_9p_xattrwalk</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p, 
<a name="l00617"></a>00617                    <span class="keywordtype">void</span> * pworker_data,
<a name="l00618"></a>00618                    <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout,
<a name="l00619"></a>00619                    <span class="keywordtype">char</span> * preply) ;
<a name="l00620"></a>00620 
<a name="l00621"></a>00621 <span class="keywordtype">int</span> <a class="code" href="9p_8h.html#a1ef046ae52066fe04ed54c9246f017fb">_9p_rerror</a>( <a class="code" href="struct__9p__request__data____.html">_9p_request_data_t</a> * preq9p,
<a name="l00622"></a>00622                 <a class="code" href="9p_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a> * msgtag,
<a name="l00623"></a>00623                 <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>   err, 
<a name="l00624"></a>00624                 <a class="code" href="9p_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> * plenout, 
<a name="l00625"></a>00625                 <span class="keywordtype">char</span> * preply) ;
<a name="l00626"></a>00626 
<a name="l00627"></a>00627 <span class="preprocessor">#endif </span><span class="comment">/* _9P_H */</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Nov 21 2012 for nfs-ganesha by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
