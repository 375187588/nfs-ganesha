<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>nfs-ganesha: fsal_attrs.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nfs-ganesha&#160;<span id="projectnumber">1.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>fsal_attrs.c File Reference</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;rpc/rpc.h&gt;</code><br/>
<code>#include &lt;rpc/xdr.h&gt;</code><br/>
<code>#include &quot;nfs4.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="FSAL__PROXY_2fsal__internal_8h_source.html">fsal_internal.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="FSAL_2FSAL__PROXY_2fsal__convert_8h_source.html">fsal_convert.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="FSAL__PROXY_2fsal__common_8h_source.html">fsal_common.h</a>&quot;</code><br/>
<code>#include &quot;nfs_proto_functions.h&quot;</code><br/>
<code>#include &quot;nfs_proto_tools.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="fsal__nfsv4__macros_8h_source.html">fsal_nfsv4_macros.h</a>&quot;</code><br/>
</div>
<p><a href="FSAL__PROXY_2fsal__attrs_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__attrs_8c.html#ad28f9bd6999316a242cceb59e285cbb0">FSAL_GETATTR_NB_OP_ALLOC</a>&#160;&#160;&#160;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__attrs_8c.html#a1555917c2b0e5c0e7ab666e1b6c27f56">FSAL_GETATTR_IDX_OP_PUTFH</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__attrs_8c.html#a028c296814133106c9ff81cea9d6e313">FSAL_GETATTR_IDX_OP_GETATTR</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__attrs_8c.html#a446f9eaa08b812fd5147e5c101e3bf13">FSAL_SETATTR_NB_OP_ALLOC</a>&#160;&#160;&#160;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__attrs_8c.html#a6da5b9730cc6096161f59adf9bdf7ffe">FSAL_SETATTR_VAL_BUFFER</a>&#160;&#160;&#160;1024</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__attrs_8c.html#ad90fbb354f38cc3fe74e5fffb3fad569">FSAL_SETATTR_IDX_OP_PUTFH</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__attrs_8c.html#abc414e06d9cbdd8aae6826eabc67fb17">FSAL_SETATTR_IDX_OP_SETATTR</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__attrs_8c.html#aafd59e17c7a95a229e50b76cd66a2269">FSAL_SETATTR_IDX_OP_GETATTR</a>&#160;&#160;&#160;2</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__attrs_8c.html#aed2ba998a62245d4bde1f323f3965eb1">PROXYFSAL_getattrs</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *filehandle, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *context, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *object_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__attrs_8c.html#addee9fba2999fb8a8968e5a24062bfae">PROXYFSAL_setattrs</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *filehandle, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *context, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *attrib_set, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *object_attributes)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__staticfsinfo__t.html">fsal_staticfsinfo_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__attrs_8c.html#a8fb48676b124a805b5a670e580b85f0f">default_proxy_info</a></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a028c296814133106c9ff81cea9d6e313"></a><!-- doxytag: member="FSAL_PROXY/fsal_attrs.c::FSAL_GETATTR_IDX_OP_GETATTR" ref="a028c296814133106c9ff81cea9d6e313" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_GETATTR_IDX_OP_GETATTR&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1555917c2b0e5c0e7ab666e1b6c27f56"></a><!-- doxytag: member="FSAL_PROXY/fsal_attrs.c::FSAL_GETATTR_IDX_OP_PUTFH" ref="a1555917c2b0e5c0e7ab666e1b6c27f56" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_GETATTR_IDX_OP_PUTFH&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad28f9bd6999316a242cceb59e285cbb0"></a><!-- doxytag: member="FSAL_PROXY/fsal_attrs.c::FSAL_GETATTR_NB_OP_ALLOC" ref="ad28f9bd6999316a242cceb59e285cbb0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_GETATTR_NB_OP_ALLOC&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aafd59e17c7a95a229e50b76cd66a2269"></a><!-- doxytag: member="FSAL_PROXY/fsal_attrs.c::FSAL_SETATTR_IDX_OP_GETATTR" ref="aafd59e17c7a95a229e50b76cd66a2269" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_SETATTR_IDX_OP_GETATTR&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad90fbb354f38cc3fe74e5fffb3fad569"></a><!-- doxytag: member="FSAL_PROXY/fsal_attrs.c::FSAL_SETATTR_IDX_OP_PUTFH" ref="ad90fbb354f38cc3fe74e5fffb3fad569" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_SETATTR_IDX_OP_PUTFH&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abc414e06d9cbdd8aae6826eabc67fb17"></a><!-- doxytag: member="FSAL_PROXY/fsal_attrs.c::FSAL_SETATTR_IDX_OP_SETATTR" ref="abc414e06d9cbdd8aae6826eabc67fb17" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_SETATTR_IDX_OP_SETATTR&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a446f9eaa08b812fd5147e5c101e3bf13"></a><!-- doxytag: member="FSAL_PROXY/fsal_attrs.c::FSAL_SETATTR_NB_OP_ALLOC" ref="a446f9eaa08b812fd5147e5c101e3bf13" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_SETATTR_NB_OP_ALLOC&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a6da5b9730cc6096161f59adf9bdf7ffe"></a><!-- doxytag: member="FSAL_PROXY/fsal_attrs.c::FSAL_SETATTR_VAL_BUFFER" ref="a6da5b9730cc6096161f59adf9bdf7ffe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_SETATTR_VAL_BUFFER&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aed2ba998a62245d4bde1f323f3965eb1"></a><!-- doxytag: member="FSAL_PROXY/fsal_attrs.c::PROXYFSAL_getattrs" ref="aed2ba998a62245d4bde1f323f3965eb1" args="(fsal_handle_t *filehandle, fsal_op_context_t *context, fsal_attrib_list_t *object_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> PROXYFSAL_getattrs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>filehandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>object_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>PROXYFSAL_getattrs: Get attributes for the object specified by its filehandle.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">filehandle</td><td>(input): The handle of the object to get parameters. </td></tr>
    <tr><td class="paramname">p_context</td><td>(input): Authentication context for the operation (user, export...). </td></tr>
    <tr><td class="paramname">object_attributes</td><td>(mandatory input/output): The retrieved attributes for the object. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_STALE (object_handle does not address an existing object)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Another error code if an error occured. </li>
</ul>
</dd></dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000045">Todo:</a></b></dt><dd>BUGAZOMEU Cleaner supported_attributes to be put here </dd></dl>
</p>

<p>Definition at line <a class="el" href="FSAL__PROXY_2fsal__attrs_8c_source.html#l00063">63</a> of file <a class="el" href="FSAL__PROXY_2fsal__attrs_8c_source.html">FSAL_PROXY/fsal_attrs.c</a>.</p>

</div>
</div>
<a class="anchor" id="addee9fba2999fb8a8968e5a24062bfae"></a><!-- doxytag: member="FSAL_PROXY/fsal_attrs.c::PROXYFSAL_setattrs" ref="addee9fba2999fb8a8968e5a24062bfae" args="(fsal_handle_t *filehandle, fsal_op_context_t *context, fsal_attrib_list_t *attrib_set, fsal_attrib_list_t *object_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> PROXYFSAL_setattrs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>filehandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>attrib_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>object_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>PROXYFSAL_setattrs: Set attributes for the object specified by its filehandle.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">filehandle</td><td>(input): The handle of the object to get parameters. </td></tr>
    <tr><td class="paramname">p_context</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">attrib_set</td><td>(mandatory input): The attributes to be set for the object. It defines the attributes that the caller wants to set and their values. </td></tr>
    <tr><td class="paramname">object_attributes</td><td>(optionnal input/output): The post operation attributes for the object. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_STALE (object_handle does not address an existing object)</li>
<li>ERR_FSAL_INVAL (tried to modify a read-only attribute)</li>
<li>ERR_FSAL_ATTRNOTSUPP (tried to modify a non-supported attribute)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Another error code if an error occured. NB: if getting postop attributes failed, the function does not return an error but the FSAL_ATTR_RDATTR_ERR bit is set in the object_attributes-&gt;asked_attributes field. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__PROXY_2fsal__attrs_8c_source.html#l00196">196</a> of file <a class="el" href="FSAL__PROXY_2fsal__attrs_8c_source.html">FSAL_PROXY/fsal_attrs.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a8fb48676b124a805b5a670e580b85f0f"></a><!-- doxytag: member="FSAL_PROXY/fsal_attrs.c::default_proxy_info" ref="a8fb48676b124a805b5a670e580b85f0f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__staticfsinfo__t.html">fsal_staticfsinfo_t</a> <a class="el" href="FSAL__PROXY_2fsal__internal_8c.html#a8fb48676b124a805b5a670e580b85f0f">default_proxy_info</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FSAL__PROXY_2fsal__internal_8c_source.html#l00061">61</a> of file <a class="el" href="FSAL__PROXY_2fsal__internal_8c_source.html">FSAL_PROXY/fsal_internal.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Nov 21 2012 for nfs-ganesha by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
