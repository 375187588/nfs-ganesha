<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>nfs-ganesha: fsal_convert.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nfs-ganesha&#160;<span id="projectnumber">1.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>fsal_convert.c File Reference</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="FSAL_2FSAL__HPSS_2fsal__convert_8h_source.html">fsal_convert.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="FSAL__HPSS_2fsal__internal_8h_source.html">fsal_internal.h</a>&quot;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &lt;hpss_errno.h&gt;</code><br/>
</div>
<p><a href="FSAL__HPSS_2fsal__convert_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__convert_8c.html#a29bc465820d0719bc24cb339e75806d0">MAX_2</a>(<a class="el" href="test__sem2_8c.html#a92295bebcf1a51803d749ab9dbad4e1c">x</a>, y)&#160;&#160;&#160;( (<a class="el" href="test__sem2_8c.html#a92295bebcf1a51803d749ab9dbad4e1c">x</a>) &gt; (y) ? (<a class="el" href="test__sem2_8c.html#a92295bebcf1a51803d749ab9dbad4e1c">x</a>) : (y) )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__convert_8c.html#ae28623bae2af7d233caa8038601aa853">MAX_3</a>(<a class="el" href="test__sem2_8c.html#a92295bebcf1a51803d749ab9dbad4e1c">x</a>, y, z)&#160;&#160;&#160;( (<a class="el" href="test__sem2_8c.html#a92295bebcf1a51803d749ab9dbad4e1c">x</a>) &gt; (y) ? MAX_2((<a class="el" href="test__sem2_8c.html#a92295bebcf1a51803d749ab9dbad4e1c">x</a>),(z)) : MAX_2((y),(z)) )</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__convert_8c.html#a6348179c6dd9f68021108a1e7b1b53bc">hpss2fsal_error</a> (int hpss_errorcode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__convert_8c.html#aa85a0a90dbf019ac770cbdc2c4b59ca2">fsal2hpss_testperm</a> (<a class="el" href="fsal__types_8h.html#a67f294990c65fb1f373bd9a21b139d67">fsal_accessflags_t</a> testperm)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__convert_8c.html#a835aedeac0e6677dcef16b69e42e2cde">fsal2hpss_openflags</a> (<a class="el" href="fsal__types_8h.html#a32a4d2db8d51a91baa4adf861fcdd914">fsal_openflags_t</a> fsal_flags, int *p_hpss_flags)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="fsal__types_8h.html#ac7b386ef9390188b635598625b481fb1">fsal_nodetype_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__convert_8c.html#a111704e087414214b69f8876316c5ca9">hpss2fsal_type</a> (unsigned32 hpss_type_in)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__time____.html">fsal_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__convert_8c.html#a300abfc1218fa0f2814a0d6ab513a71c">hpss2fsal_time</a> (timestamp_sec_t tsec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="fsal__types_8h.html#aca8266de94cd982fd416d8576d9507e7">fsal_u64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__convert_8c.html#a1720b0c9b09fd3abc1b5384937d9c7f1">hpss2fsal_64</a> (u_signed64 hpss_size_in)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">u_signed64&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__convert_8c.html#a3be6f72cf25b694659cd9bd268ba2eee">fsal2hpss_64</a> (<a class="el" href="fsal__types_8h.html#aca8266de94cd982fd416d8576d9507e7">fsal_u64_t</a> fsal_size_in)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__fsid____.html">fsal_fsid_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__convert_8c.html#ac54c0723f79f51a9516feb8d7ccfc0d8">hpss2fsal_fsid</a> (u_signed64 hpss_fsid_in)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="fsal__types_8h.html#ae8181bd7dedf0606eeaf57e8fb64a7f0">fsal_accessmode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__convert_8c.html#adcccec129d19a0f7a97aeb76420caf4e">hpss2fsal_mode</a> (unsigned32 uid_bit, unsigned32 gid_bit, unsigned32 sticky_bit, unsigned32 user_perms, unsigned32 group_perms, unsigned32 other_perms)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__convert_8c.html#a11565e39b6627a2e811d25b168eb7658">fsal2hpss_mode</a> (<a class="el" href="fsal__types_8h.html#ae8181bd7dedf0606eeaf57e8fb64a7f0">fsal_accessmode_t</a> fsal_mode, unsigned32 *uid_bit, unsigned32 *gid_bit, unsigned32 *sticky_bit, unsigned32 *user_perms, unsigned32 *group_perms, unsigned32 *other_perms)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__convert_8c.html#aa38d336547d49c8dc635f4a0b473fbe5">hpss2fsal_attributes</a> (ns_ObjHandle_t *p_hpss_handle_in, hpss_Attrs_t *p_hpss_attr_in, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_fsalattr_out)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__convert_8c.html#af1b20dd7b00c695d3da12699a8ab4a93">hpssHandle2fsalAttributes</a> (ns_ObjHandle_t *p_hpsshandle_in, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_fsalattr_out)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__convert_8c.html#afbbd36d1e250d2ce9728eb6694ce408e">fsal2hpss_attribset</a> (<a class="el" href="unionhpssfsal__handle__t.html">hpssfsal_handle_t</a> *p_fsal_handle, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *p_attrib_set, hpss_fileattrbits_t *p_hpss_attrmask, hpss_Attrs_t *p_hpss_attrs)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a29bc465820d0719bc24cb339e75806d0"></a><!-- doxytag: member="FSAL_HPSS/fsal_convert.c::MAX_2" ref="a29bc465820d0719bc24cb339e75806d0" args="(x, y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_2</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="test__sem2_8c.html#a92295bebcf1a51803d749ab9dbad4e1c">x</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;( (<a class="el" href="test__sem2_8c.html#a92295bebcf1a51803d749ab9dbad4e1c">x</a>) &gt; (y) ? (<a class="el" href="test__sem2_8c.html#a92295bebcf1a51803d749ab9dbad4e1c">x</a>) : (y) )</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html#l00024">24</a> of file <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html">FSAL_HPSS/fsal_convert.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae28623bae2af7d233caa8038601aa853"></a><!-- doxytag: member="FSAL_HPSS/fsal_convert.c::MAX_3" ref="ae28623bae2af7d233caa8038601aa853" args="(x, y, z)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_3</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="test__sem2_8c.html#a92295bebcf1a51803d749ab9dbad4e1c">x</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">y, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">z&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;( (<a class="el" href="test__sem2_8c.html#a92295bebcf1a51803d749ab9dbad4e1c">x</a>) &gt; (y) ? MAX_2((<a class="el" href="test__sem2_8c.html#a92295bebcf1a51803d749ab9dbad4e1c">x</a>),(z)) : MAX_2((y),(z)) )</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html#l00025">25</a> of file <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html">FSAL_HPSS/fsal_convert.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a3be6f72cf25b694659cd9bd268ba2eee"></a><!-- doxytag: member="FSAL_HPSS/fsal_convert.c::fsal2hpss_64" ref="a3be6f72cf25b694659cd9bd268ba2eee" args="(fsal_u64_t fsal_size_in)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u_signed64 fsal2hpss_64 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#aca8266de94cd982fd416d8576d9507e7">fsal_u64_t</a>&#160;</td>
          <td class="paramname"><em>fsal_size_in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fsal2hpss_64: Convert fsal_u64_t type to HPSS u_signed64 type.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fsal_size_in</td><td>(input): The FSAL 64 bits number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- The HPSS 64 bits number. </dd></dl>

<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html#l00389">389</a> of file <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html">FSAL_HPSS/fsal_convert.c</a>.</p>

</div>
</div>
<a class="anchor" id="afbbd36d1e250d2ce9728eb6694ce408e"></a><!-- doxytag: member="FSAL_HPSS/fsal_convert.c::fsal2hpss_attribset" ref="afbbd36d1e250d2ce9728eb6694ce408e" args="(hpssfsal_handle_t *p_fsal_handle, fsal_attrib_list_t *p_attrib_set, hpss_fileattrbits_t *p_hpss_attrmask, hpss_Attrs_t *p_hpss_attrs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> fsal2hpss_attribset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unionhpssfsal__handle__t.html">hpssfsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsal_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>p_attrib_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hpss_fileattrbits_t *&#160;</td>
          <td class="paramname"><em>p_hpss_attrmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hpss_Attrs_t *&#160;</td>
          <td class="paramname"><em>p_hpss_attrs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fsal2hpss_attribset: Converts an fsal attrib list to a hpss attrib list and values to be used in Setattr.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_fsal_handle</td><td>(input): Pointer to the FSAL object handle. </td></tr>
    <tr><td class="paramname">p_attrib_set</td><td>(input): Pointer to the FSAL attributes to be set. </td></tr>
    <tr><td class="paramname">p_hpss_attrmask</td><td>(output): Pointer to the HPSS attribute list associated to the FSAL asked_attributes. </td></tr>
    <tr><td class="paramname">p_hpss_attrs</td><td>(output): Pointer to the HPSS attribute values associated to input attributes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR: no error.</li>
<li>ERR_FSAL_FAULT: NULL pointer passed as parameter.</li>
<li>ERR_FSAL_ATTRNOTSUPP: Some of the asked attributes are not supported.</li>
<li>ERR_FSAL_INVAL: Some of the asked attributes are read-only.</li>
<li>ERR_FSAL_SERVERFAULT: Unexpected error. </li>
</ul>
</dd></dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000021">Todo:</a></b></dt><dd>: Define some constants for settable and supported attributes. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000022">Todo:</a></b></dt><dd>ACL management </dd></dl>
</p>

<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html#l00883">883</a> of file <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html">FSAL_HPSS/fsal_convert.c</a>.</p>

</div>
</div>
<a class="anchor" id="a11565e39b6627a2e811d25b168eb7658"></a><!-- doxytag: member="FSAL_HPSS/fsal_convert.c::fsal2hpss_mode" ref="a11565e39b6627a2e811d25b168eb7658" args="(fsal_accessmode_t fsal_mode, unsigned32 *uid_bit, unsigned32 *gid_bit, unsigned32 *sticky_bit, unsigned32 *user_perms, unsigned32 *group_perms, unsigned32 *other_perms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsal2hpss_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#ae8181bd7dedf0606eeaf57e8fb64a7f0">fsal_accessmode_t</a>&#160;</td>
          <td class="paramname"><em>fsal_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned32 *&#160;</td>
          <td class="paramname"><em>uid_bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned32 *&#160;</td>
          <td class="paramname"><em>gid_bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned32 *&#160;</td>
          <td class="paramname"><em>sticky_bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned32 *&#160;</td>
          <td class="paramname"><em>user_perms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned32 *&#160;</td>
          <td class="paramname"><em>group_perms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned32 *&#160;</td>
          <td class="paramname"><em>other_perms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fsal2hpss_mode: converts FSAL mode to HPSS mode.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fsal_mode</td><td>(input): The fsal mode to be translated. </td></tr>
    <tr><td class="paramname">uid_bit</td><td>(output): The uid_bit field to be set in HPSS object attributes. </td></tr>
    <tr><td class="paramname">gid_bit</td><td>(output): The gid_bit field to be set in HPSS object attributes. </td></tr>
    <tr><td class="paramname">sticky_bit</td><td>(output): The sticky_bit field to be set in HPSS object attributes. </td></tr>
    <tr><td class="paramname">user_perms</td><td>(output): The user_perms field to be set in HPSS object attributes. </td></tr>
    <tr><td class="paramname">group_perms</td><td>(output): The group_perms field to be set in HPSS object attributes. </td></tr>
    <tr><td class="paramname">other_perms</td><td>(output): The other_perms field to be set in HPSS object attributes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Nothing. </dd></dl>

<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html#l00505">505</a> of file <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html">FSAL_HPSS/fsal_convert.c</a>.</p>

</div>
</div>
<a class="anchor" id="a835aedeac0e6677dcef16b69e42e2cde"></a><!-- doxytag: member="FSAL_HPSS/fsal_convert.c::fsal2hpss_openflags" ref="a835aedeac0e6677dcef16b69e42e2cde" args="(fsal_openflags_t fsal_flags, int *p_hpss_flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fsal2hpss_openflags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a32a4d2db8d51a91baa4adf861fcdd914">fsal_openflags_t</a>&#160;</td>
          <td class="paramname"><em>fsal_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>p_hpss_flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fsal2hpss_openflags: Convert FSAL open flags to (HPSS) Posix open flags.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fsal_flags</td><td>(input): The FSAL open flags to be translated. </td></tr>
    <tr><td class="paramname">p_hpss_flags</td><td>(output): Pointer to the HPSS open flags.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- ERR_FSAL_NO_ERROR (no error).<ul>
<li>ERR_FSAL_FAULT (p_hpss_flags is a NULL pointer).</li>
<li>ERR_FSAL_INVAL (invalid or incompatible input flags). </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html#l00252">252</a> of file <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html">FSAL_HPSS/fsal_convert.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa85a0a90dbf019ac770cbdc2c4b59ca2"></a><!-- doxytag: member="FSAL_HPSS/fsal_convert.c::fsal2hpss_testperm" ref="aa85a0a90dbf019ac770cbdc2c4b59ca2" args="(fsal_accessflags_t testperm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fsal2hpss_testperm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a67f294990c65fb1f373bd9a21b139d67">fsal_accessflags_t</a>&#160;</td>
          <td class="paramname"><em>testperm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fsal2hpss_testperm: Convert FSAL permission flags to (HPSS) Posix permission flags.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">testperm</td><td>(input): The FSAL permission flags to be tested.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The HPSS permission flags to be tested. </dd></dl>

<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html#l00221">221</a> of file <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html">FSAL_HPSS/fsal_convert.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1720b0c9b09fd3abc1b5384937d9c7f1"></a><!-- doxytag: member="FSAL_HPSS/fsal_convert.c::hpss2fsal_64" ref="a1720b0c9b09fd3abc1b5384937d9c7f1" args="(u_signed64 hpss_size_in)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fsal__types_8h.html#aca8266de94cd982fd416d8576d9507e7">fsal_u64_t</a> hpss2fsal_64 </td>
          <td>(</td>
          <td class="paramtype">u_signed64&#160;</td>
          <td class="paramname"><em>hpss_size_in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>hpss2fsal_64: Convert HPSS u_signed64 type to fsal_u64_t type.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">hpss_size_in</td><td>(input): The HPSS 64 bits number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- The FSAL 64 bits number. </dd></dl>

<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html#l00371">371</a> of file <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html">FSAL_HPSS/fsal_convert.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa38d336547d49c8dc635f4a0b473fbe5"></a><!-- doxytag: member="FSAL_HPSS/fsal_convert.c::hpss2fsal_attributes" ref="aa38d336547d49c8dc635f4a0b473fbe5" args="(ns_ObjHandle_t *p_hpss_handle_in, hpss_Attrs_t *p_hpss_attr_in, fsal_attrib_list_t *p_fsalattr_out)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> hpss2fsal_attributes </td>
          <td>(</td>
          <td class="paramtype">ns_ObjHandle_t *&#160;</td>
          <td class="paramname"><em>p_hpss_handle_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hpss_Attrs_t *&#160;</td>
          <td class="paramname"><em>p_hpss_attr_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsalattr_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>hpss2fsal_attributes: Fills an FSAL attributes structure with the info provided by the hpss handle and the hpss attributes of an object.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_hpss_handle_in</td><td>(input): Pointer to the HPSS NS object handle. </td></tr>
    <tr><td class="paramname">p_hpss_attr_in</td><td>(input): Pointer to the HPSS attributes. </td></tr>
    <tr><td class="paramname">p_fsalattr_out</td><td>(input/output): Pointer to the FSAL attributes. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). </td></tr>
    <tr><td class="paramname">p_cred</td><td>(input) HPSS Credential.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR: no error.</li>
<li>ERR_FSAL_FAULT: NULL pointer passed as input parameter.</li>
<li>ERR_FSAL_ATTRNOTSUPP: One of the asked attributes is not supported.</li>
<li>ERR_FSAL_SERVERFAULT: Unexpected error. </li>
</ul>
</dd></dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000020">Todo:</a></b></dt><dd>: This doesn't convert ACLs for the moment. </dd></dl>
</p>

<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html#l00602">602</a> of file <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html">FSAL_HPSS/fsal_convert.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6348179c6dd9f68021108a1e7b1b53bc"></a><!-- doxytag: member="FSAL_HPSS/fsal_convert.c::hpss2fsal_error" ref="a6348179c6dd9f68021108a1e7b1b53bc" args="(int hpss_errorcode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hpss2fsal_error </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hpss_errorcode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>hpss2fsal_error : Convert HPSS error codes to FSAL error codes.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">hpss_errorcode</td><td>(input): The error code returned from HPSS.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The FSAL error code associated to hpss_errorcode. </dd></dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000019">Todo:</a></b></dt><dd>: The EBADF error also happens when file is opened for reading, and we try writting in it. In this case, we return ERR_FSAL_NOT_OPENED, but it doesn't seems to be a correct error translation. </dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>AIX returns EEXIST where BSD uses ENOTEMPTY; We want ENOTEMPTY to be interpreted anyway on AIX plateforms. Thus, we explicitely write its value (87).</dd></dl>
</p>

<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html#l00038">38</a> of file <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html">FSAL_HPSS/fsal_convert.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac54c0723f79f51a9516feb8d7ccfc0d8"></a><!-- doxytag: member="FSAL_HPSS/fsal_convert.c::hpss2fsal_fsid" ref="ac54c0723f79f51a9516feb8d7ccfc0d8" args="(u_signed64 hpss_fsid_in)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__fsid____.html">fsal_fsid_t</a> hpss2fsal_fsid </td>
          <td>(</td>
          <td class="paramtype">u_signed64&#160;</td>
          <td class="paramname"><em>hpss_fsid_in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>hpss2fsal_fsid: Convert HPSS fsid type to FSAL fsid type.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">hpss_fsid_in</td><td>(input): The HPSS fsid to be translated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- The FSAL fsid associated to hpss_fsid_in. </dd></dl>

<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html#l00408">408</a> of file <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html">FSAL_HPSS/fsal_convert.c</a>.</p>

</div>
</div>
<a class="anchor" id="adcccec129d19a0f7a97aeb76420caf4e"></a><!-- doxytag: member="FSAL_HPSS/fsal_convert.c::hpss2fsal_mode" ref="adcccec129d19a0f7a97aeb76420caf4e" args="(unsigned32 uid_bit, unsigned32 gid_bit, unsigned32 sticky_bit, unsigned32 user_perms, unsigned32 group_perms, unsigned32 other_perms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fsal__types_8h.html#ae8181bd7dedf0606eeaf57e8fb64a7f0">fsal_accessmode_t</a> hpss2fsal_mode </td>
          <td>(</td>
          <td class="paramtype">unsigned32&#160;</td>
          <td class="paramname"><em>uid_bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned32&#160;</td>
          <td class="paramname"><em>gid_bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned32&#160;</td>
          <td class="paramname"><em>sticky_bit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned32&#160;</td>
          <td class="paramname"><em>user_perms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned32&#160;</td>
          <td class="paramname"><em>group_perms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned32&#160;</td>
          <td class="paramname"><em>other_perms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>hpss2fsal_mode: Convert HPSS mode to FSAL mode.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">uid_bit</td><td>(input): The uid_bit field from HPSS object attributes. </td></tr>
    <tr><td class="paramname">gid_bit</td><td>(input): The gid_bit field from HPSS object attributes. </td></tr>
    <tr><td class="paramname">sticky_bit</td><td>(input): The sticky_bit field from HPSS object attributes. </td></tr>
    <tr><td class="paramname">user_perms</td><td>(input): The user_perms field from HPSS object attributes. </td></tr>
    <tr><td class="paramname">group_perms</td><td>(input): The group_perms field from HPSS object attributes. </td></tr>
    <tr><td class="paramname">other_perms</td><td>(input): The other_perms field from HPSS object attributes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The FSAL mode associated to input parameters. </dd></dl>

<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html#l00439">439</a> of file <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html">FSAL_HPSS/fsal_convert.c</a>.</p>

</div>
</div>
<a class="anchor" id="a300abfc1218fa0f2814a0d6ab513a71c"></a><!-- doxytag: member="FSAL_HPSS/fsal_convert.c::hpss2fsal_time" ref="a300abfc1218fa0f2814a0d6ab513a71c" args="(timestamp_sec_t tsec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__time____.html">fsal_time_t</a> hpss2fsal_time </td>
          <td>(</td>
          <td class="paramtype">timestamp_sec_t&#160;</td>
          <td class="paramname"><em>tsec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>hpss2fsal_time: Convert HPSS time structure (timestamp_sec_t) to FSAL time type (fsal_time_t). </p>

<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html#l00350">350</a> of file <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html">FSAL_HPSS/fsal_convert.c</a>.</p>

</div>
</div>
<a class="anchor" id="a111704e087414214b69f8876316c5ca9"></a><!-- doxytag: member="FSAL_HPSS/fsal_convert.c::hpss2fsal_type" ref="a111704e087414214b69f8876316c5ca9" args="(unsigned32 hpss_type_in)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fsal__types_8h.html#ac7b386ef9390188b635598625b481fb1">fsal_nodetype_t</a> hpss2fsal_type </td>
          <td>(</td>
          <td class="paramtype">unsigned32&#160;</td>
          <td class="paramname"><em>hpss_type_in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>hpss2fsal_type: Convert HPSS NS object type to FSAL node type.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">hpss_type_in</td><td>(input): The HPSS NS object type from NSObjHandle.Type.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- The FSAL node type associated to hpss_type_in.<ul>
<li>-1 if the input type is unknown. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html#l00319">319</a> of file <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html">FSAL_HPSS/fsal_convert.c</a>.</p>

</div>
</div>
<a class="anchor" id="af1b20dd7b00c695d3da12699a8ab4a93"></a><!-- doxytag: member="FSAL_HPSS/fsal_convert.c::hpssHandle2fsalAttributes" ref="af1b20dd7b00c695d3da12699a8ab4a93" args="(ns_ObjHandle_t *p_hpsshandle_in, fsal_attrib_list_t *p_fsalattr_out)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> hpssHandle2fsalAttributes </td>
          <td>(</td>
          <td class="paramtype">ns_ObjHandle_t *&#160;</td>
          <td class="paramname"><em>p_hpsshandle_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsalattr_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>hpssHandle2fsalAttributes: Fills an FSAL attributes structure with the info provided (only) by the hpss handle of an object.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_hpsshandle_in</td><td>(input): Pointer to the HPSS NS object handle. </td></tr>
    <tr><td class="paramname">p_fsalattr_out</td><td>(input/output): Pointer to the FSAL attributes. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR: no error.</li>
<li>ERR_FSAL_FAULT: NULL pointer passed as input parameter.</li>
<li>ERR_FSAL_ATTRNOTSUPP: One of the asked attributes is not supported.</li>
<li>ERR_FSAL_SERVERFAULT: Unexpected error. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html#l00817">817</a> of file <a class="el" href="FSAL__HPSS_2fsal__convert_8c_source.html">FSAL_HPSS/fsal_convert.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Nov 21 2012 for nfs-ganesha by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
