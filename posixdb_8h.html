<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>nfs-ganesha: posixdb.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nfs-ganesha&#160;<span id="projectnumber">1.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>posixdb.h File Reference</h1>  </div>
</div>
<div class="contents">

<p><a href="posixdb_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfsal__posixdb__conn__params__t.html">fsal_posixdb_conn_params_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfsal__posixdb__child.html">fsal_posixdb_child</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#a2f06bddf6dc359a97f990c28aa807b04">FSAL_MAX_DBHOST_NAME_LEN</a>&#160;&#160;&#160;HOST_NAME_MAX</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#ac92fc4103203c1f15a84742615377d33">FSAL_MAX_DBPORT_STR_LEN</a>&#160;&#160;&#160;8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#a4ab5d4291105365ece727b931e95691b">FSAL_MAX_DB_NAME_LEN</a>&#160;&#160;&#160;64</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#a95ee5225eb31539246718e0289fea6b3">FSAL_MAX_DB_LOGIN_LEN</a>&#160;&#160;&#160;LOGIN_NAME_MAX</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#a4238c833c4a6546e9cf187c005a62d91">FSAL_POSIXDB_MAXREADDIRBLOCKSIZE</a>&#160;&#160;&#160;64</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#acef8374e7a0e31890dbf08a66383da63">FSAL_POSIXDB_IS_ERROR</a>(_status_)&#160;&#160;&#160;( ! ( ( _status_ ).major == ERR_FSAL_POSIXDB_NOERR ) )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#a1520cc4f5190985342d83c6148e05b86">FSAL_POSIXDB_IS_NOENT</a>(_status_)&#160;&#160;&#160;( ( _status_ ).major == ERR_FSAL_POSIXDB_NOENT )</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="posixdb_8h.html#a198e896bf7c7f17a81dffe8b78a21ab3">fsal_posixdb_errorcode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#a4e372ccebdf5be3d57be952c84b1c21a">fsal_posixdb_errorcode</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#a330a14c0e0291ed4f2ec4ffa3080b587">fsal_posixdb_status_t</a></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#a198e896bf7c7f17a81dffe8b78a21ab3">fsal_posixdb_errorcode</a> { <br/>
&#160;&#160;<a class="el" href="posixdb_8h.html#a198e896bf7c7f17a81dffe8b78a21ab3aa8b9bc109eac2ee778b4240f1b71561a">ERR_FSAL_POSIXDB_NOERR</a> =  0, 
<a class="el" href="posixdb_8h.html#a198e896bf7c7f17a81dffe8b78a21ab3a0a421df7d22cd8bfe4666546a6058f9b">ERR_FSAL_POSIXDB_BADCONN</a>, 
<a class="el" href="posixdb_8h.html#a198e896bf7c7f17a81dffe8b78a21ab3a89de915768d419063bb6460087cfa2e2">ERR_FSAL_POSIXDB_NOENT</a>, 
<a class="el" href="posixdb_8h.html#a198e896bf7c7f17a81dffe8b78a21ab3a103b22f2fd87a6cd0141fe022f6423c4">ERR_FSAL_POSIXDB_CMDFAILED</a>, 
<br/>
&#160;&#160;<a class="el" href="posixdb_8h.html#a198e896bf7c7f17a81dffe8b78a21ab3a41e442968b46e8709fd92ee6ea587afe">ERR_FSAL_POSIXDB_FAULT</a>, 
<a class="el" href="posixdb_8h.html#a198e896bf7c7f17a81dffe8b78a21ab3a39d68f5bfaefe2f765f1abfb28f8e365">ERR_FSAL_POSIXDB_NOPATH</a>, 
<a class="el" href="posixdb_8h.html#a198e896bf7c7f17a81dffe8b78a21ab3a8e536285b7be9339e33e0bfe29e07ee5">ERR_FSAL_POSIXDB_TOOMANYPATHS</a>, 
<a class="el" href="posixdb_8h.html#a198e896bf7c7f17a81dffe8b78a21ab3a71f4e2ac2763537a454b06312559ad65">ERR_FSAL_POSIXDB_PATHTOOLONG</a>, 
<br/>
&#160;&#160;<a class="el" href="posixdb_8h.html#a198e896bf7c7f17a81dffe8b78a21ab3ad96f8d30aa7c01901965fce06ea720f3">ERR_FSAL_POSIXDB_CONSISTENCY</a>, 
<a class="el" href="posixdb_8h.html#a198e896bf7c7f17a81dffe8b78a21ab3acb1955f10b76af339a204e8d73cbd1e1">ERR_FSAL_POSIXDB_NO_MEM</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#a7e028e9cea7f5748fd6c53abba52325c">fsal_posixdb_cache_init</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#aa656ef0b76a01eea7fb9be8e6575767b">fsal_posixdb_connect</a> (<a class="el" href="structfsal__posixdb__conn__params__t.html">fsal_posixdb_conn_params_t</a> *p_params, fsal_posixdb_conn **p_conn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#ae7b2013c38a53c8c27b721f6c6a78446">fsal_posixdb_disconnect</a> (fsal_posixdb_conn *p_conn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#a5a48e23f6c3404cf7f037c7cfe86e840">fsal_posixdb_getInfoFromName</a> (fsal_posixdb_conn *p_conn, <a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *p_parent_directory_handle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_objectname, <a class="el" href="structfsal__path____.html">fsal_path_t</a> *p_path, <a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *p_handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#aa8c7d99e77ea431be74f034ca5335881">fsal_posixdb_getInfoFromHandle</a> (fsal_posixdb_conn *p_conn, <a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *p_object_handle, <a class="el" href="structfsal__path____.html">fsal_path_t</a> *p_paths, int paths_size, int *p_count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#a31c3d4293021a6b87a0a757d272c9c53">fsal_posixdb_add</a> (fsal_posixdb_conn *p_conn, <a class="el" href="structfsal__posixdb__fileinfo__t.html">fsal_posixdb_fileinfo_t</a> *p_object_info, <a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *p_parent_directory_handle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_filename, <a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *p_object_handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#ae9c5e1d49d6f3261a3dacea0591a0d0b">fsal_posixdb_replace</a> (fsal_posixdb_conn *p_conn, <a class="el" href="structfsal__posixdb__fileinfo__t.html">fsal_posixdb_fileinfo_t</a> *p_object_info, <a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *p_parent_directory_handle_old, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_filename_old, <a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *p_parent_directory_handle_new, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_filename_new)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#ae90d3c4a5d805eda7d3e8f31a43d5c80">fsal_posixdb_delete</a> (fsal_posixdb_conn *p_conn, <a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *p_parent_directory_handle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_filename, <a class="el" href="structfsal__posixdb__fileinfo__t.html">fsal_posixdb_fileinfo_t</a> *p_object_info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#a0976d2f50e3f7a868626b52ab2baa0a7">fsal_posixdb_deleteHandle</a> (fsal_posixdb_conn *p_conn, <a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *p_handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#a884155b05cbbc57ae26bf88d0b9d1bbb">fsal_posixdb_getChildren</a> (fsal_posixdb_conn *p_conn, <a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *p_parent_directory_handle, unsigned int max_count, <a class="el" href="structfsal__posixdb__child.html">fsal_posixdb_child</a> **p_children, unsigned int *p_count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#a842ac41c2fabe013e81d4f939c3361a0">fsal_posixdb_export</a> (fsal_posixdb_conn *p_conn, FILE *<a class="el" href="test__nfs__ip__name_8c.html#a0204bbf34f64a80680c73f74564b6d22">out</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#a2e983696931bac42606b3ecd6fdb9d67">fsal_posixdb_import</a> (fsal_posixdb_conn *p_conn, FILE *in)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#a7f7dfb75b8b1bd5a8faa01bb9123b932">fsal_posixdb_flush</a> (fsal_posixdb_conn *p_conn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#ae4f46e8a907f113ef3d2deda76495a67">fsal_posixdb_getParentDirHandle</a> (fsal_posixdb_conn *p_conn, <a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *p_object_handle, <a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *p_parent_directory_handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#a6c94f4c30c8f7471de953544bf452dfd">fsal_posixdb_lockHandleForUpdate</a> (fsal_posixdb_conn *p_conn, <a class="el" href="structfsal__posixdb__fileinfo__t.html">fsal_posixdb_fileinfo_t</a> *p_info)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock the line of the Handle table with inode &amp; devid defined in p_info.  <a href="#a6c94f4c30c8f7471de953544bf452dfd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="posixdb_8h.html#ae9966c25d7fefb94f221e9c8d0e12001">fsal_posixdb_cancelHandleLock</a> (fsal_posixdb_conn *p_conn)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock the Handle line previously locked by fsal_posixdb_lockHandleForUpdate.  <a href="#ae9966c25d7fefb94f221e9c8d0e12001"></a><br/></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a95ee5225eb31539246718e0289fea6b3"></a><!-- doxytag: member="posixdb.h::FSAL_MAX_DB_LOGIN_LEN" ref="a95ee5225eb31539246718e0289fea6b3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_MAX_DB_LOGIN_LEN&#160;&#160;&#160;LOGIN_NAME_MAX</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="posixdb_8h_source.html#l00107">107</a> of file <a class="el" href="posixdb_8h_source.html">posixdb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4ab5d4291105365ece727b931e95691b"></a><!-- doxytag: member="posixdb.h::FSAL_MAX_DB_NAME_LEN" ref="a4ab5d4291105365ece727b931e95691b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_MAX_DB_NAME_LEN&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="posixdb_8h_source.html#l00102">102</a> of file <a class="el" href="posixdb_8h_source.html">posixdb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2f06bddf6dc359a97f990c28aa807b04"></a><!-- doxytag: member="posixdb.h::FSAL_MAX_DBHOST_NAME_LEN" ref="a2f06bddf6dc359a97f990c28aa807b04" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_MAX_DBHOST_NAME_LEN&#160;&#160;&#160;HOST_NAME_MAX</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>POSIXDB </p>

<p>Definition at line <a class="el" href="posixdb_8h_source.html#l00098">98</a> of file <a class="el" href="posixdb_8h_source.html">posixdb.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac92fc4103203c1f15a84742615377d33"></a><!-- doxytag: member="posixdb.h::FSAL_MAX_DBPORT_STR_LEN" ref="ac92fc4103203c1f15a84742615377d33" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_MAX_DBPORT_STR_LEN&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="posixdb_8h_source.html#l00101">101</a> of file <a class="el" href="posixdb_8h_source.html">posixdb.h</a>.</p>

</div>
</div>
<a class="anchor" id="acef8374e7a0e31890dbf08a66383da63"></a><!-- doxytag: member="posixdb.h::FSAL_POSIXDB_IS_ERROR" ref="acef8374e7a0e31890dbf08a66383da63" args="(_status_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_POSIXDB_IS_ERROR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_status_</td><td>)</td>
          <td>&#160;&#160;&#160;( ! ( ( _status_ ).major == ERR_FSAL_POSIXDB_NOERR ) )</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="posixdb_8h_source.html#l00163">163</a> of file <a class="el" href="posixdb_8h_source.html">posixdb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1520cc4f5190985342d83c6148e05b86"></a><!-- doxytag: member="posixdb.h::FSAL_POSIXDB_IS_NOENT" ref="a1520cc4f5190985342d83c6148e05b86" args="(_status_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_POSIXDB_IS_NOENT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_status_</td><td>)</td>
          <td>&#160;&#160;&#160;( ( _status_ ).major == ERR_FSAL_POSIXDB_NOENT )</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="posixdb_8h_source.html#l00166">166</a> of file <a class="el" href="posixdb_8h_source.html">posixdb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4238c833c4a6546e9cf187c005a62d91"></a><!-- doxytag: member="posixdb.h::FSAL_POSIXDB_MAXREADDIRBLOCKSIZE" ref="a4238c833c4a6546e9cf187c005a62d91" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_POSIXDB_MAXREADDIRBLOCKSIZE&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="posixdb_8h_source.html#l00110">110</a> of file <a class="el" href="posixdb_8h_source.html">posixdb.h</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a4e372ccebdf5be3d57be952c84b1c21a"></a><!-- doxytag: member="posixdb.h::fsal_posixdb_errorcode" ref="a4e372ccebdf5be3d57be952c84b1c21a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="posixdb_8h.html#a198e896bf7c7f17a81dffe8b78a21ab3">fsal_posixdb_errorcode</a>  <a class="el" href="posixdb_8h.html#a198e896bf7c7f17a81dffe8b78a21ab3">fsal_posixdb_errorcode</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a330a14c0e0291ed4f2ec4ffa3080b587"></a><!-- doxytag: member="posixdb.h::fsal_posixdb_status_t" ref="a330a14c0e0291ed4f2ec4ffa3080b587" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a>  <a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a198e896bf7c7f17a81dffe8b78a21ab3"></a><!-- doxytag: member="posixdb.h::fsal_posixdb_errorcode" ref="a198e896bf7c7f17a81dffe8b78a21ab3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="posixdb_8h.html#a198e896bf7c7f17a81dffe8b78a21ab3">fsal_posixdb_errorcode</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a198e896bf7c7f17a81dffe8b78a21ab3aa8b9bc109eac2ee778b4240f1b71561a"></a><!-- doxytag: member="ERR_FSAL_POSIXDB_NOERR" ref="a198e896bf7c7f17a81dffe8b78a21ab3aa8b9bc109eac2ee778b4240f1b71561a" args="" -->ERR_FSAL_POSIXDB_NOERR</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a198e896bf7c7f17a81dffe8b78a21ab3a0a421df7d22cd8bfe4666546a6058f9b"></a><!-- doxytag: member="ERR_FSAL_POSIXDB_BADCONN" ref="a198e896bf7c7f17a81dffe8b78a21ab3a0a421df7d22cd8bfe4666546a6058f9b" args="" -->ERR_FSAL_POSIXDB_BADCONN</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a198e896bf7c7f17a81dffe8b78a21ab3a89de915768d419063bb6460087cfa2e2"></a><!-- doxytag: member="ERR_FSAL_POSIXDB_NOENT" ref="a198e896bf7c7f17a81dffe8b78a21ab3a89de915768d419063bb6460087cfa2e2" args="" -->ERR_FSAL_POSIXDB_NOENT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a198e896bf7c7f17a81dffe8b78a21ab3a103b22f2fd87a6cd0141fe022f6423c4"></a><!-- doxytag: member="ERR_FSAL_POSIXDB_CMDFAILED" ref="a198e896bf7c7f17a81dffe8b78a21ab3a103b22f2fd87a6cd0141fe022f6423c4" args="" -->ERR_FSAL_POSIXDB_CMDFAILED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a198e896bf7c7f17a81dffe8b78a21ab3a41e442968b46e8709fd92ee6ea587afe"></a><!-- doxytag: member="ERR_FSAL_POSIXDB_FAULT" ref="a198e896bf7c7f17a81dffe8b78a21ab3a41e442968b46e8709fd92ee6ea587afe" args="" -->ERR_FSAL_POSIXDB_FAULT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a198e896bf7c7f17a81dffe8b78a21ab3a39d68f5bfaefe2f765f1abfb28f8e365"></a><!-- doxytag: member="ERR_FSAL_POSIXDB_NOPATH" ref="a198e896bf7c7f17a81dffe8b78a21ab3a39d68f5bfaefe2f765f1abfb28f8e365" args="" -->ERR_FSAL_POSIXDB_NOPATH</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a198e896bf7c7f17a81dffe8b78a21ab3a8e536285b7be9339e33e0bfe29e07ee5"></a><!-- doxytag: member="ERR_FSAL_POSIXDB_TOOMANYPATHS" ref="a198e896bf7c7f17a81dffe8b78a21ab3a8e536285b7be9339e33e0bfe29e07ee5" args="" -->ERR_FSAL_POSIXDB_TOOMANYPATHS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a198e896bf7c7f17a81dffe8b78a21ab3a71f4e2ac2763537a454b06312559ad65"></a><!-- doxytag: member="ERR_FSAL_POSIXDB_PATHTOOLONG" ref="a198e896bf7c7f17a81dffe8b78a21ab3a71f4e2ac2763537a454b06312559ad65" args="" -->ERR_FSAL_POSIXDB_PATHTOOLONG</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a198e896bf7c7f17a81dffe8b78a21ab3ad96f8d30aa7c01901965fce06ea720f3"></a><!-- doxytag: member="ERR_FSAL_POSIXDB_CONSISTENCY" ref="a198e896bf7c7f17a81dffe8b78a21ab3ad96f8d30aa7c01901965fce06ea720f3" args="" -->ERR_FSAL_POSIXDB_CONSISTENCY</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a198e896bf7c7f17a81dffe8b78a21ab3acb1955f10b76af339a204e8d73cbd1e1"></a><!-- doxytag: member="ERR_FSAL_POSIXDB_NO_MEM" ref="a198e896bf7c7f17a81dffe8b78a21ab3acb1955f10b76af339a204e8d73cbd1e1" args="" -->ERR_FSAL_POSIXDB_NO_MEM</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="posixdb_8h_source.html#l00143">143</a> of file <a class="el" href="posixdb_8h_source.html">posixdb.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a31c3d4293021a6b87a0a757d272c9c53"></a><!-- doxytag: member="posixdb.h::fsal_posixdb_add" ref="a31c3d4293021a6b87a0a757d272c9c53" args="(fsal_posixdb_conn *p_conn, fsal_posixdb_fileinfo_t *p_object_info, posixfsal_handle_t *p_parent_directory_handle, fsal_name_t *p_filename, posixfsal_handle_t *p_object_handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a> fsal_posixdb_add </td>
          <td>(</td>
          <td class="paramtype">fsal_posixdb_conn *&#160;</td>
          <td class="paramname"><em>p_conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__posixdb__fileinfo__t.html">fsal_posixdb_fileinfo_t</a> *&#160;</td>
          <td class="paramname"><em>p_object_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_parent_directory_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_object_handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fsal_posixdb_add: Add an object in the database (identified by its name and its parent directory). Create an entry in the Handle table if needed, and add (or replace existing) an entry in the Path table.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>(input) Database connection </td></tr>
    <tr><td class="paramname">p_object_info</td><td>(input): POSIX information of the object to add (device ID, inode, ...) </td></tr>
    <tr><td class="paramname">p_parent_directory_handle</td><td>(input): Handle of the parent directory of the object to add. </td></tr>
    <tr><td class="paramname">p_filename</td><td>(input): The name of the object to add. </td></tr>
    <tr><td class="paramname">p_object_handle</td><td>(output): FSAL handle of the added entry. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- FSAL_POSIXDB_NOERR, if no error.<ul>
<li>Another error code else. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="MYSQL_2posixdb__add_8c_source.html#l00016">16</a> of file <a class="el" href="MYSQL_2posixdb__add_8c_source.html">MYSQL/posixdb_add.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7e028e9cea7f5748fd6c53abba52325c"></a><!-- doxytag: member="posixdb.h::fsal_posixdb_cache_init" ref="a7e028e9cea7f5748fd6c53abba52325c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fsal_posixdb_cache_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="MYSQL_2posixdb__internal_8c_source.html#l00027">27</a> of file <a class="el" href="MYSQL_2posixdb__internal_8c_source.html">MYSQL/posixdb_internal.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae9966c25d7fefb94f221e9c8d0e12001"></a><!-- doxytag: member="posixdb.h::fsal_posixdb_cancelHandleLock" ref="ae9966c25d7fefb94f221e9c8d0e12001" args="(fsal_posixdb_conn *p_conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a> fsal_posixdb_cancelHandleLock </td>
          <td>(</td>
          <td class="paramtype">fsal_posixdb_conn *&#160;</td>
          <td class="paramname"><em>p_conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unlock the Handle line previously locked by fsal_posixdb_lockHandleForUpdate. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_conn</td><td>Database connection</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ERR_FSAL_POSIXDB_NOERR if no error, another error code else. </dd></dl>

<p>Definition at line <a class="el" href="MYSQL_2posixdb__lock_8c_source.html#l00058">58</a> of file <a class="el" href="MYSQL_2posixdb__lock_8c_source.html">MYSQL/posixdb_lock.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa656ef0b76a01eea7fb9be8e6575767b"></a><!-- doxytag: member="posixdb.h::fsal_posixdb_connect" ref="aa656ef0b76a01eea7fb9be8e6575767b" args="(fsal_posixdb_conn_params_t *p_params, fsal_posixdb_conn **p_conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a> fsal_posixdb_connect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__posixdb__conn__params__t.html">fsal_posixdb_conn_params_t</a> *&#160;</td>
          <td class="paramname"><em>dbparams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_posixdb_conn **&#160;</td>
          <td class="paramname"><em>p_conn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fsal_posixdb_connect: Connect to the Database and initialize *dbconn.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>(input) Connection parameters </td></tr>
    <tr><td class="paramname">conn</td><td>(output) Connection to the database </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- FSAL_POSIXDB_NOERR, if no error. Another error code else.</dd></dl>
<p>connection to database </p>

<p>Definition at line <a class="el" href="MYSQL_2posixdb__connect_8c_source.html#l00045">45</a> of file <a class="el" href="MYSQL_2posixdb__connect_8c_source.html">MYSQL/posixdb_connect.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae90d3c4a5d805eda7d3e8f31a43d5c80"></a><!-- doxytag: member="posixdb.h::fsal_posixdb_delete" ref="ae90d3c4a5d805eda7d3e8f31a43d5c80" args="(fsal_posixdb_conn *p_conn, posixfsal_handle_t *p_parent_directory_handle, fsal_name_t *p_filename, fsal_posixdb_fileinfo_t *p_object_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a> fsal_posixdb_delete </td>
          <td>(</td>
          <td class="paramtype">fsal_posixdb_conn *&#160;</td>
          <td class="paramname"><em>p_conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_parent_directory_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__posixdb__fileinfo__t.html">fsal_posixdb_fileinfo_t</a> *&#160;</td>
          <td class="paramname"><em>p_object_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fsal_posixdb_delete: Delete a path entry for an object. If the file has only one path (hardlink = 1), its handle is deleted too.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_conn</td><td>(input) Database connection </td></tr>
    <tr><td class="paramname">p_parent_directory_handle</td><td>(input): Handle of the directory where the object is. </td></tr>
    <tr><td class="paramname">p_filename</td><td>(input): The name of the object to delete. </td></tr>
    <tr><td class="paramname">p_object_info</td><td>(input): POSIX information of the object (device ID, inode, ...) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- FSAL_POSIXDB_NOERR, if no error.<ul>
<li>FSAL_POSIXDB_NOENT, if parent_directory_handle does not exist. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="MYSQL_2posixdb__delete_8c_source.html#l00010">10</a> of file <a class="el" href="MYSQL_2posixdb__delete_8c_source.html">MYSQL/posixdb_delete.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0976d2f50e3f7a868626b52ab2baa0a7"></a><!-- doxytag: member="posixdb.h::fsal_posixdb_deleteHandle" ref="a0976d2f50e3f7a868626b52ab2baa0a7" args="(fsal_posixdb_conn *p_conn, posixfsal_handle_t *p_handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a> fsal_posixdb_deleteHandle </td>
          <td>(</td>
          <td class="paramtype">fsal_posixdb_conn *&#160;</td>
          <td class="paramname"><em>p_conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fsal_posixdb_deleteHandle: Delete a Handle and all paths related to him.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_conn</td><td>(input) Database connection </td></tr>
    <tr><td class="paramname">p_handle</td><td>(input): Handle of the directory where the object is. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- FSAL_POSIXDB_NOERR, if no error.<ul>
<li>FSAL_POSIXDB_NOENT, if p_handle does not exist. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="MYSQL_2posixdb__delete_8c_source.html#l00071">71</a> of file <a class="el" href="MYSQL_2posixdb__delete_8c_source.html">MYSQL/posixdb_delete.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae7b2013c38a53c8c27b721f6c6a78446"></a><!-- doxytag: member="posixdb.h::fsal_posixdb_disconnect" ref="ae7b2013c38a53c8c27b721f6c6a78446" args="(fsal_posixdb_conn *p_conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a> fsal_posixdb_disconnect </td>
          <td>(</td>
          <td class="paramtype">fsal_posixdb_conn *&#160;</td>
          <td class="paramname"><em>p_conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fsal_posixdb_disconnect: Disconnect from the Database.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>(input) Connection to the database </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- FSAL_POSIXDB_NOERR, if no error. Another error code else. </dd></dl>

<p>Definition at line <a class="el" href="MYSQL_2posixdb__connect_8c_source.html#l00126">126</a> of file <a class="el" href="MYSQL_2posixdb__connect_8c_source.html">MYSQL/posixdb_connect.c</a>.</p>

</div>
</div>
<a class="anchor" id="a842ac41c2fabe013e81d4f939c3361a0"></a><!-- doxytag: member="posixdb.h::fsal_posixdb_export" ref="a842ac41c2fabe013e81d4f939c3361a0" args="(fsal_posixdb_conn *p_conn, FILE *out)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a> fsal_posixdb_export </td>
          <td>(</td>
          <td class="paramtype">fsal_posixdb_conn *&#160;</td>
          <td class="paramname"><em>p_conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fsal_posixdb_export: Export the content of the database to a file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_conn</td><td>(input) Database connection </td></tr>
    <tr><td class="paramname">out</td><td>(input): POSIX file descriptor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7f7dfb75b8b1bd5a8faa01bb9123b932"></a><!-- doxytag: member="posixdb.h::fsal_posixdb_flush" ref="a7f7dfb75b8b1bd5a8faa01bb9123b932" args="(fsal_posixdb_conn *p_conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a> fsal_posixdb_flush </td>
          <td>(</td>
          <td class="paramtype">fsal_posixdb_conn *&#160;</td>
          <td class="paramname"><em>p_conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fsal_posixdb_flush: Empty the database.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_conn</td><td>(input) Database connection </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="MYSQL_2posixdb__flush_8c_source.html#l00009">9</a> of file <a class="el" href="MYSQL_2posixdb__flush_8c_source.html">MYSQL/posixdb_flush.c</a>.</p>

</div>
</div>
<a class="anchor" id="a884155b05cbbc57ae26bf88d0b9d1bbb"></a><!-- doxytag: member="posixdb.h::fsal_posixdb_getChildren" ref="a884155b05cbbc57ae26bf88d0b9d1bbb" args="(fsal_posixdb_conn *p_conn, posixfsal_handle_t *p_parent_directory_handle, unsigned int max_count, fsal_posixdb_child **p_children, unsigned int *p_count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a> fsal_posixdb_getChildren </td>
          <td>(</td>
          <td class="paramtype">fsal_posixdb_conn *&#160;</td>
          <td class="paramname"><em>p_conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_parent_directory_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>max_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__posixdb__child.html">fsal_posixdb_child</a> **&#160;</td>
          <td class="paramname"><em>p_children</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>p_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fsal_posixdb_getChildren: retrieve all the children of a directory handle.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_conn</td><td>(input) Database connection </td></tr>
    <tr><td class="paramname">p_parent_directory_handle</td><td>(input): Handle of the directory where the objects to be retrieved are. </td></tr>
    <tr><td class="paramname">max_count</td><td>max <a class="el" href="structfsal__posixdb__child.html">fsal_posixdb_child</a> to be returned </td></tr>
    <tr><td class="paramname">p_children,:</td><td>Children of p_parent_directory_handle. It is dynamically allocated inside the function. It have to be freed outside the function !!! </td></tr>
    <tr><td class="paramname">p_count,:</td><td>Number of children returned in p_children </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- FSAL_POSIXDB_NOERR, if no error.<ul>
<li>another error code else.</li>
</ul>
</dd></dl>
<p>fsal_posixdb_getChildren: retrieve all the children of a directory handle.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_conn</td><td>(input) Database connection </td></tr>
    <tr><td class="paramname">p_parent_directory_handle</td><td>(input): Handle of the directory where the objects to be retrieved are. </td></tr>
    <tr><td class="paramname">p_children,:</td><td>Children of p_parent_directory_handle. It is dynamically allocated inside the function. It have to be freed outside the function !!! </td></tr>
    <tr><td class="paramname">p_count,:</td><td>Number of children returned in p_children </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- FSAL_POSIXDB_NOERR, if no error.<ul>
<li>another error code else. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="MYSQL_2posixdb__getChildren_8c_source.html#l00028">28</a> of file <a class="el" href="MYSQL_2posixdb__getChildren_8c_source.html">MYSQL/posixdb_getChildren.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa8c7d99e77ea431be74f034ca5335881"></a><!-- doxytag: member="posixdb.h::fsal_posixdb_getInfoFromHandle" ref="aa8c7d99e77ea431be74f034ca5335881" args="(fsal_posixdb_conn *p_conn, posixfsal_handle_t *p_object_handle, fsal_path_t *p_paths, int paths_size, int *p_count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a> fsal_posixdb_getInfoFromHandle </td>
          <td>(</td>
          <td class="paramtype">fsal_posixdb_conn *&#160;</td>
          <td class="paramname"><em>p_conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_object_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__path____.html">fsal_path_t</a> *&#160;</td>
          <td class="paramname"><em>p_paths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>paths_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>p_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fsal_posixdb_getInfoFromHandle: Fills informations known about an object (inside its <a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> object), its 'paths', knowing its FSAL handle.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>(input) Database connection </td></tr>
    <tr><td class="paramname">object_handle</td><td>(input) Handle of the object. </td></tr>
    <tr><td class="paramname">p_paths</td><td>(output) Array of path to the objects </td></tr>
    <tr><td class="paramname">paths_size</td><td>(input) Number of elements of p_paths allocated </td></tr>
    <tr><td class="paramname">p_count</td><td>(output) Number of paths set in p_paths </td></tr>
    <tr><td class="paramname">p_infos</td><td>(output) POSIX information stored in the database. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- FSAL_POSIXDB_NOERR, if no error.<ul>
<li>FSAL_POSIXDB_UNKNOWHANDLE, if object_handle is unknown. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="MYSQL_2posixdb__info_8c_source.html#l00109">109</a> of file <a class="el" href="MYSQL_2posixdb__info_8c_source.html">MYSQL/posixdb_info.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5a48e23f6c3404cf7f037c7cfe86e840"></a><!-- doxytag: member="posixdb.h::fsal_posixdb_getInfoFromName" ref="a5a48e23f6c3404cf7f037c7cfe86e840" args="(fsal_posixdb_conn *p_conn, posixfsal_handle_t *p_parent_directory_handle, fsal_name_t *p_objectname, fsal_path_t *p_path, posixfsal_handle_t *p_handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a> fsal_posixdb_getInfoFromName </td>
          <td>(</td>
          <td class="paramtype">fsal_posixdb_conn *&#160;</td>
          <td class="paramname"><em>p_conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_parent_directory_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_objectname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__path____.html">fsal_path_t</a> *&#160;</td>
          <td class="paramname"><em>p_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fsal_posixdb_getInfoFromName: Return informations known about an object, knowing the FSAL handle of its parent and its name.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>(input) Database connection </td></tr>
    <tr><td class="paramname">p_parent_directory_handle</td><td>(input) Handle of the parent directory to search the object in. </td></tr>
    <tr><td class="paramname">p_objectname</td><td>(input) The name of the object to find. </td></tr>
    <tr><td class="paramname">p_path</td><td>(optional output) path to the objects </td></tr>
    <tr><td class="paramname">p_handle</td><td>(output) Handle of the object found in the database </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- FSAL_POSIXDB_NOERR, if no error.<ul>
<li>FSAL_POSIXDB_NOENT, if directory unknown, or no object named 'object_name' in that directory. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="MYSQL_2posixdb__info_8c_source.html#l00010">10</a> of file <a class="el" href="MYSQL_2posixdb__info_8c_source.html">MYSQL/posixdb_info.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae4f46e8a907f113ef3d2deda76495a67"></a><!-- doxytag: member="posixdb.h::fsal_posixdb_getParentDirHandle" ref="ae4f46e8a907f113ef3d2deda76495a67" args="(fsal_posixdb_conn *p_conn, posixfsal_handle_t *p_object_handle, posixfsal_handle_t *p_parent_directory_handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a> fsal_posixdb_getParentDirHandle </td>
          <td>(</td>
          <td class="paramtype">fsal_posixdb_conn *&#160;</td>
          <td class="paramname"><em>p_conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_object_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_parent_directory_handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fsal_posixdb_getParentDirHandle: get the parent directory of a directory (p_object_handle must have only one Parent entry).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_conn</td><td>(input) Database connection </td></tr>
    <tr><td class="paramname">p_object_handle</td><td>(input): Directory Handle we want the parent </td></tr>
    <tr><td class="paramname">p_parent_directory_handle</td><td>(output): Parent directory handle ( corresponding to &lt;path to="" p_object_handle&gt;=""&gt;/.. ) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="MYSQL_2posixdb__info_8c_source.html#l00270">270</a> of file <a class="el" href="MYSQL_2posixdb__info_8c_source.html">MYSQL/posixdb_info.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2e983696931bac42606b3ecd6fdb9d67"></a><!-- doxytag: member="posixdb.h::fsal_posixdb_import" ref="a2e983696931bac42606b3ecd6fdb9d67" args="(fsal_posixdb_conn *p_conn, FILE *in)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a> fsal_posixdb_import </td>
          <td>(</td>
          <td class="paramtype">fsal_posixdb_conn *&#160;</td>
          <td class="paramname"><em>p_conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>in</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fsal_posixdb_import: Import the content of the database from a file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_conn</td><td>(input) Database connection </td></tr>
    <tr><td class="paramname">in</td><td>(input): POSIX file descriptor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6c94f4c30c8f7471de953544bf452dfd"></a><!-- doxytag: member="posixdb.h::fsal_posixdb_lockHandleForUpdate" ref="a6c94f4c30c8f7471de953544bf452dfd" args="(fsal_posixdb_conn *p_conn, fsal_posixdb_fileinfo_t *p_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a> fsal_posixdb_lockHandleForUpdate </td>
          <td>(</td>
          <td class="paramtype">fsal_posixdb_conn *&#160;</td>
          <td class="paramname"><em>p_conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__posixdb__fileinfo__t.html">fsal_posixdb_fileinfo_t</a> *&#160;</td>
          <td class="paramname"><em>p_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lock the line of the Handle table with inode &amp; devid defined in p_info. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p_conn</td><td>Database connection </td></tr>
    <tr><td class="paramname">p_info</td><td>Information about the file</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ERR_FSAL_POSIXDB_NOERR if no error, another error code else. </dd></dl>

<p>Definition at line <a class="el" href="MYSQL_2posixdb__lock_8c_source.html#l00021">21</a> of file <a class="el" href="MYSQL_2posixdb__lock_8c_source.html">MYSQL/posixdb_lock.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae9c5e1d49d6f3261a3dacea0591a0d0b"></a><!-- doxytag: member="posixdb.h::fsal_posixdb_replace" ref="ae9c5e1d49d6f3261a3dacea0591a0d0b" args="(fsal_posixdb_conn *p_conn, fsal_posixdb_fileinfo_t *p_object_info, posixfsal_handle_t *p_parent_directory_handle_old, fsal_name_t *p_filename_old, posixfsal_handle_t *p_parent_directory_handle_new, fsal_name_t *p_filename_new)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a> fsal_posixdb_replace </td>
          <td>(</td>
          <td class="paramtype">fsal_posixdb_conn *&#160;</td>
          <td class="paramname"><em>p_conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__posixdb__fileinfo__t.html">fsal_posixdb_fileinfo_t</a> *&#160;</td>
          <td class="paramname"><em>p_object_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_parent_directory_handle_old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_filename_old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_parent_directory_handle_new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_filename_new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fsal_posixdb_replace: Move an object in the Path table (identified by its name and its parent directory). Create an entry in the Handle table if needed, and update (or create) an entry in the Path table.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>(input) Database connection </td></tr>
    <tr><td class="paramname">p_object_info</td><td>(input): POSIX information of the object to add (device ID, inode, ...) </td></tr>
    <tr><td class="paramname">p_parent_directory_handle_old</td><td>(input): Handle of the source directory of the object. </td></tr>
    <tr><td class="paramname">p_filename_old</td><td>(input): The old name of the object. </td></tr>
    <tr><td class="paramname">p_parent_directory_handle_new</td><td>(input): Handle of the new directory of the object. </td></tr>
    <tr><td class="paramname">p_filename_new</td><td>(input): The new name of the object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- FSAL_POSIXDB_NOERR, if no error.<ul>
<li>Another error code else. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="MYSQL_2posixdb__replace_8c_source.html#l00011">11</a> of file <a class="el" href="MYSQL_2posixdb__replace_8c_source.html">MYSQL/posixdb_replace.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Nov 21 2012 for nfs-ganesha by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
