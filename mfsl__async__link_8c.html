<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>nfs-ganesha: mfsl_async_link.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nfs-ganesha&#160;<span id="projectnumber">1.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>mfsl_async_link.c File Reference</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;fsal_types.h&quot;</code><br/>
<code>#include &quot;fsal.h&quot;</code><br/>
<code>#include &quot;mfsl_types.h&quot;</code><br/>
<code>#include &quot;mfsl.h&quot;</code><br/>
<code>#include &quot;common_utils.h&quot;</code><br/>
</div>
<p><a href="mfsl__async__link_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mfsl__async__link_8c.html#ac34b7820404837f0625ee57521840f6f">MFSL_link_async_op</a> (<a class="el" href="structmfsl__async__op__desc____.html">mfsl_async_op_desc_t</a> *popasyncdesc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mfsl__async__link_8c.html#a59563173823bb57c2d732233e999d197">MFSAL_link_check_perms</a> (<a class="el" href="structmfsl__object____.html">mfsl_object_t</a> *target_handle, <a class="el" href="structmfsl__object____.html">mfsl_object_t</a> *dir_handle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_link_name, <a class="el" href="structmfsl__object__specific__data____.html">mfsl_object_specific_data_t</a> *tgt_pspecdata, <a class="el" href="structmfsl__object__specific__data____.html">mfsl_object_specific_data_t</a> *dir_pspecdata, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="structmfsl__context____.html">mfsl_context_t</a> *p_mfsl_context)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mfsl__async__link_8c.html#af5b4e0fa9ab45fd981a4a65213cbed2a">MFSL_link</a> (<a class="el" href="structmfsl__object____.html">mfsl_object_t</a> *target_handle, <a class="el" href="structmfsl__object____.html">mfsl_object_t</a> *dir_handle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_link_name, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="structmfsl__context____.html">mfsl_context_t</a> *p_mfsl_context, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *tgt_attributes, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *dir_attributes)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmfsl__parameter____.html">mfsl_parameter_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mfsl__async__link_8c.html#a20591475a7361561ddeefd3be384a480">mfsl_param</a></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a59563173823bb57c2d732233e999d197"></a><!-- doxytag: member="mfsl_async_link.c::MFSAL_link_check_perms" ref="a59563173823bb57c2d732233e999d197" args="(mfsl_object_t *target_handle, mfsl_object_t *dir_handle, fsal_name_t *p_link_name, mfsl_object_specific_data_t *tgt_pspecdata, mfsl_object_specific_data_t *dir_pspecdata, fsal_op_context_t *p_context, mfsl_context_t *p_mfsl_context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> MFSAL_link_check_perms </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmfsl__object____.html">mfsl_object_t</a> *&#160;</td>
          <td class="paramname"><em>target_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmfsl__object____.html">mfsl_object_t</a> *&#160;</td>
          <td class="paramname"><em>dir_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_link_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmfsl__object__specific__data____.html">mfsl_object_specific_data_t</a> *&#160;</td>
          <td class="paramname"><em>tgt_pspecdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmfsl__object__specific__data____.html">mfsl_object_specific_data_t</a> *&#160;</td>
          <td class="paramname"><em>dir_pspecdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmfsl__context____.html">mfsl_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_mfsl_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MFSAL_link_check_perms : Checks authorization to perform an asynchronous link.</p>
<p>Checks authorization to perform an asynchronous link.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">target_handle</td><td>[IN] mfsl object to be operated on. </td></tr>
    <tr><td class="paramname">dir_handle</td><td>[IN] mfsl object to be operated on. </td></tr>
    <tr><td class="paramname">tgt_pspecdata</td><td>[INOUT] mfsl object associated specific data </td></tr>
    <tr><td class="paramname">dir_pspecdata</td><td>[INOUT] mfsl object associated specific data </td></tr>
    <tr><td class="paramname">p_context</td><td>[IN] associated fsal context </td></tr>
    <tr><td class="paramname">p_mfsl_context</td><td>[INOUT] associated mfsl context</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>always FSAL_NO_ERROR (not yet implemented </dd></dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000072">Todo:</a></b></dt><dd>: put some stuff in this function </dd></dl>
</p>

<p>Definition at line <a class="el" href="mfsl__async__link_8c_source.html#l00112">112</a> of file <a class="el" href="mfsl__async__link_8c_source.html">mfsl_async_link.c</a>.</p>

</div>
</div>
<a class="anchor" id="af5b4e0fa9ab45fd981a4a65213cbed2a"></a><!-- doxytag: member="mfsl_async_link.c::MFSL_link" ref="af5b4e0fa9ab45fd981a4a65213cbed2a" args="(mfsl_object_t *target_handle, mfsl_object_t *dir_handle, fsal_name_t *p_link_name, fsal_op_context_t *p_context, mfsl_context_t *p_mfsl_context, fsal_attrib_list_t *tgt_attributes, fsal_attrib_list_t *dir_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> MFSL_link </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmfsl__object____.html">mfsl_object_t</a> *&#160;</td>
          <td class="paramname"><em>target_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmfsl__object____.html">mfsl_object_t</a> *&#160;</td>
          <td class="paramname"><em>dir_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_link_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmfsl__context____.html">mfsl_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_mfsl_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>tgt_attributes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>dir_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MFSL_link : posts an asynchronous link and sets the cached attributes in return.</p>
<p>Posts an asynchronous setattr and sets the cached attributes in return. If an object is not asynchronous, then the content of object attributes structure for result will be used to populate it.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">target_handle</td><td>[IN] mfsl object to be operated on (object to be hard linked). </td></tr>
    <tr><td class="paramname">dir_handle</td><td>[IN] mfsl object to be operated on (destination directory for the link). </td></tr>
    <tr><td class="paramname">p_context</td><td>[IN] associated fsal context </td></tr>
    <tr><td class="paramname">p_mfsl_context</td><td>[INOUT] associated mfsl context </td></tr>
    <tr><td class="paramname">attrib_set</td><td>[IN] attributes to be set </td></tr>
    <tr><td class="paramname">tgt_attributes</td><td>[INOUT] resulting attributes for target </td></tr>
    <tr><td class="paramname">dir_attributes</td><td>[INOUT] resulting attributes for directory</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the same as FSAL_link </dd></dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000073">Todo:</a></b></dt><dd>: there may be a coefficient to be applied here </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000074">Todo:</a></b></dt><dd>: there may be a coefficient to be applied here </dd></dl>
</p>

<p>Definition at line <a class="el" href="mfsl__async__link_8c_source.html#l00148">148</a> of file <a class="el" href="mfsl__async__link_8c_source.html">mfsl_async_link.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac34b7820404837f0625ee57521840f6f"></a><!-- doxytag: member="mfsl_async_link.c::MFSL_link_async_op" ref="ac34b7820404837f0625ee57521840f6f" args="(mfsl_async_op_desc_t *popasyncdesc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> MFSL_link_async_op </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmfsl__async__op__desc____.html">mfsl_async_op_desc_t</a> *&#160;</td>
          <td class="paramname"><em>popasyncdesc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MFSL_link_async_op: Callback for asynchronous link.</p>
<p>Callback for asynchronous link.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">popasyncdes</td><td>[INOUT] asynchronous operation descriptor</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the status of the performed FSAL_setattrs. </dd></dl>

<p>Definition at line <a class="el" href="mfsl__async__link_8c_source.html#l00059">59</a> of file <a class="el" href="mfsl__async__link_8c_source.html">mfsl_async_link.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a20591475a7361561ddeefd3be384a480"></a><!-- doxytag: member="mfsl_async_link.c::mfsl_param" ref="a20591475a7361561ddeefd3be384a480" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmfsl__parameter____.html">mfsl_parameter_t</a> <a class="el" href="mfsl__async__unlink_8c.html#a20591475a7361561ddeefd3be384a480">mfsl_param</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mfsl__async__init_8c_source.html#l00058">58</a> of file <a class="el" href="mfsl__async__init_8c_source.html">mfsl_async_init.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Nov 21 2012 for nfs-ganesha by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
