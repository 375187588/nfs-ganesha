<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>nfs-ganesha: mfsl_async_rename.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nfs-ganesha&#160;<span id="projectnumber">1.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>mfsl_async_rename.c File Reference</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;fsal_types.h&quot;</code><br/>
<code>#include &quot;fsal.h&quot;</code><br/>
<code>#include &quot;mfsl_types.h&quot;</code><br/>
<code>#include &quot;mfsl.h&quot;</code><br/>
<code>#include &quot;common_utils.h&quot;</code><br/>
</div>
<p><a href="mfsl__async__rename_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mfsl__async__rename_8c.html#a93f5675b1b346ede59552f1b0c26b849">MFSL_rename_async_op</a> (<a class="el" href="structmfsl__async__op__desc____.html">mfsl_async_op_desc_t</a> *popasyncdesc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mfsl__async__rename_8c.html#a948c048fb94bba8477c0e721a26f65c3">MFSAL_rename_check_perms</a> (<a class="el" href="structmfsl__object____.html">mfsl_object_t</a> *old_parentdir_handle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_old_name, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *src_dir_attributes, <a class="el" href="structmfsl__object____.html">mfsl_object_t</a> *new_parentdir_handle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_new_name, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *tgt_dir_attributes, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="structmfsl__context____.html">mfsl_context_t</a> *p_mfsl_context)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mfsl__async__rename_8c.html#a8fc901a62ace853640a71138fb1167dc">MFSL_rename</a> (<a class="el" href="structmfsl__object____.html">mfsl_object_t</a> *old_parentdir_handle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_old_name, <a class="el" href="structmfsl__object____.html">mfsl_object_t</a> *new_parentdir_handle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_new_name, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *p_context, <a class="el" href="structmfsl__context____.html">mfsl_context_t</a> *p_mfsl_context, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *src_dir_attributes, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *tgt_dir_attributes)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmfsl__parameter____.html">mfsl_parameter_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mfsl__async__rename_8c.html#a20591475a7361561ddeefd3be384a480">mfsl_param</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mfsl__async__rename_8c.html#a96885b2cecd71ee682f2a490de6a0100">dir_handle_precreate</a></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a948c048fb94bba8477c0e721a26f65c3"></a><!-- doxytag: member="mfsl_async_rename.c::MFSAL_rename_check_perms" ref="a948c048fb94bba8477c0e721a26f65c3" args="(mfsl_object_t *old_parentdir_handle, fsal_name_t *p_old_name, fsal_attrib_list_t *src_dir_attributes, mfsl_object_t *new_parentdir_handle, fsal_name_t *p_new_name, fsal_attrib_list_t *tgt_dir_attributes, fsal_op_context_t *p_context, mfsl_context_t *p_mfsl_context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> MFSAL_rename_check_perms </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmfsl__object____.html">mfsl_object_t</a> *&#160;</td>
          <td class="paramname"><em>old_parentdir_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_old_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>src_dir_attributes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmfsl__object____.html">mfsl_object_t</a> *&#160;</td>
          <td class="paramname"><em>new_parentdir_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_new_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>tgt_dir_attributes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmfsl__context____.html">mfsl_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_mfsl_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MFSAL_rename_check_perms : Checks authorization to perform an asynchronous rename.</p>
<p>Checks authorization to perform an asynchronous rename.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">old_parentdir_handle</td><td>[IN] mfsl object to be operated on (source directory for the rename) </td></tr>
    <tr><td class="paramname">p_old_name</td><td>[IN] name of the object to be renamed </td></tr>
    <tr><td class="paramname">new_parentdir_handle</td><td>[IN] mfsl object to be operated on (destination directory for the rename) </td></tr>
    <tr><td class="paramname">p_new_name</td><td>[IN] new name of the object </td></tr>
    <tr><td class="paramname">p_context</td><td>[IN] associated fsal context </td></tr>
    <tr><td class="paramname">p_mfsl_context</td><td>[INOUT] associated mfsl context </td></tr>
    <tr><td class="paramname">src_dir_attributes</td><td>[INOUT] resulting attributes for directory </td></tr>
    <tr><td class="paramname">tgt_dir_attributes</td><td>[INOUT] resulting attributes for directory</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>always FSAL_NO_ERROR (not yet implemented </dd></dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000078">Todo:</a></b></dt><dd>: put some stuff in this function </dd></dl>
</p>

<p>Definition at line <a class="el" href="mfsl__async__rename_8c_source.html#l00113">113</a> of file <a class="el" href="mfsl__async__rename_8c_source.html">mfsl_async_rename.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8fc901a62ace853640a71138fb1167dc"></a><!-- doxytag: member="mfsl_async_rename.c::MFSL_rename" ref="a8fc901a62ace853640a71138fb1167dc" args="(mfsl_object_t *old_parentdir_handle, fsal_name_t *p_old_name, mfsl_object_t *new_parentdir_handle, fsal_name_t *p_new_name, fsal_op_context_t *p_context, mfsl_context_t *p_mfsl_context, fsal_attrib_list_t *src_dir_attributes, fsal_attrib_list_t *tgt_dir_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> MFSL_rename </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmfsl__object____.html">mfsl_object_t</a> *&#160;</td>
          <td class="paramname"><em>old_parentdir_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_old_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmfsl__object____.html">mfsl_object_t</a> *&#160;</td>
          <td class="paramname"><em>new_parentdir_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_new_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmfsl__context____.html">mfsl_context_t</a> *&#160;</td>
          <td class="paramname"><em>p_mfsl_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>src_dir_attributes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>tgt_dir_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MFSL_rename : posts an asynchronous rename and sets the cached attributes in return.</p>
<p>Posts an asynchronous rename and sets the cached attributes in return. If an object is not asynchronous, then the content of object attributes structure for result will be used to populate it.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">old_parentdir_handle</td><td>[IN] mfsl object to be operated on (source directory for the rename) </td></tr>
    <tr><td class="paramname">p_old_name</td><td>[IN] name of the object to be renamed ee </td></tr>
    <tr><td class="paramname">new_parentdir_handle</td><td>[IN] mfsl object to be operated on (destination directory for the rename) </td></tr>
    <tr><td class="paramname">p_new_name</td><td>[IN] new name of the object </td></tr>
    <tr><td class="paramname">p_context</td><td>[IN] associated fsal context </td></tr>
    <tr><td class="paramname">p_mfsl_context</td><td>[INOUT] associated mfsl context </td></tr>
    <tr><td class="paramname">src_dir_attributes</td><td>[INOUT] resulting attributes for directory </td></tr>
    <tr><td class="paramname">tgt_dir_attributes</td><td>[INOUT] resulting attributes for directory</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the same as FSAL_rename </dd></dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000079">Todo:</a></b></dt><dd>: there may be a coefficient to be applied here </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000080">Todo:</a></b></dt><dd>: there may be a coefficient to be applied here </dd></dl>
</p>

<p>Definition at line <a class="el" href="mfsl__async__rename_8c_source.html#l00152">152</a> of file <a class="el" href="mfsl__async__rename_8c_source.html">mfsl_async_rename.c</a>.</p>

</div>
</div>
<a class="anchor" id="a93f5675b1b346ede59552f1b0c26b849"></a><!-- doxytag: member="mfsl_async_rename.c::MFSL_rename_async_op" ref="a93f5675b1b346ede59552f1b0c26b849" args="(mfsl_async_op_desc_t *popasyncdesc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> MFSL_rename_async_op </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmfsl__async__op__desc____.html">mfsl_async_op_desc_t</a> *&#160;</td>
          <td class="paramname"><em>popasyncdesc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MFSL_rename_async_op: Callback for asynchronous rename.</p>
<p>Callback for asynchronous rename.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">popasyncdes</td><td>[INOUT] asynchronous operation descriptor</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the status of the performed FSAL_rename. </dd></dl>

<p>Definition at line <a class="el" href="mfsl__async__rename_8c_source.html#l00060">60</a> of file <a class="el" href="mfsl__async__rename_8c_source.html">mfsl_async_rename.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a96885b2cecd71ee682f2a490de6a0100"></a><!-- doxytag: member="mfsl_async_rename.c::dir_handle_precreate" ref="a96885b2cecd71ee682f2a490de6a0100" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> <a class="el" href="mfsl__async__rename_8c.html#a96885b2cecd71ee682f2a490de6a0100">dir_handle_precreate</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mfsl__async_8c_source.html#l00055">55</a> of file <a class="el" href="mfsl__async_8c_source.html">mfsl_async.c</a>.</p>

</div>
</div>
<a class="anchor" id="a20591475a7361561ddeefd3be384a480"></a><!-- doxytag: member="mfsl_async_rename.c::mfsl_param" ref="a20591475a7361561ddeefd3be384a480" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmfsl__parameter____.html">mfsl_parameter_t</a> <a class="el" href="mfsl__async__unlink_8c.html#a20591475a7361561ddeefd3be384a480">mfsl_param</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mfsl__async__init_8c_source.html#l00058">58</a> of file <a class="el" href="mfsl__async__init_8c_source.html">mfsl_async_init.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Nov 21 2012 for nfs-ganesha by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
