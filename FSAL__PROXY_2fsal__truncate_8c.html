<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>nfs-ganesha: fsal_truncate.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nfs-ganesha&#160;<span id="projectnumber">1.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>fsal_truncate.c File Reference</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;rpc/rpc.h&gt;</code><br/>
<code>#include &lt;rpc/xdr.h&gt;</code><br/>
<code>#include &quot;nfs4.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="FSAL__PROXY_2fsal__internal_8h_source.html">fsal_internal.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="FSAL_2FSAL__PROXY_2fsal__convert_8h_source.html">fsal_convert.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="FSAL__PROXY_2fsal__common_8h_source.html">fsal_common.h</a>&quot;</code><br/>
<code>#include &quot;nfs_proto_functions.h&quot;</code><br/>
<code>#include &quot;nfs_proto_tools.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="fsal__nfsv4__macros_8h_source.html">fsal_nfsv4_macros.h</a>&quot;</code><br/>
</div>
<p><a href="FSAL__PROXY_2fsal__truncate_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__truncate_8c.html#a2a6a36ebe0d71fc3a4bc04b5513bf002">FSAL_TRUNCATE_NB_OP_ALLOC</a>&#160;&#160;&#160;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__truncate_8c.html#a8a234a71ce344d29e33c90b44ec2a766">FSAL_TRUNCATE_IDX_OP_PUTFH</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__truncate_8c.html#a5e4110e846188a7ee1beb5b0638ccdea">FSAL_TRUNCATE_IDX_OP_SETATTR</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__truncate_8c.html#a3e6bd5f1e6d1c6fa737a7c70a37d3bf7">FSAL_TRUNCATE_IDX_OP_GETATTR</a>&#160;&#160;&#160;2</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__PROXY_2fsal__truncate_8c.html#aa7d5c70577d4279e3aeb431f5572efbd">PROXYFSAL_truncate</a> (<a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *file_hdl, <a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *context, <a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> length, <a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *file_descriptor, <a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *object_attributes)</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a3e6bd5f1e6d1c6fa737a7c70a37d3bf7"></a><!-- doxytag: member="FSAL_PROXY/fsal_truncate.c::FSAL_TRUNCATE_IDX_OP_GETATTR" ref="a3e6bd5f1e6d1c6fa737a7c70a37d3bf7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_TRUNCATE_IDX_OP_GETATTR&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8a234a71ce344d29e33c90b44ec2a766"></a><!-- doxytag: member="FSAL_PROXY/fsal_truncate.c::FSAL_TRUNCATE_IDX_OP_PUTFH" ref="a8a234a71ce344d29e33c90b44ec2a766" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_TRUNCATE_IDX_OP_PUTFH&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a5e4110e846188a7ee1beb5b0638ccdea"></a><!-- doxytag: member="FSAL_PROXY/fsal_truncate.c::FSAL_TRUNCATE_IDX_OP_SETATTR" ref="a5e4110e846188a7ee1beb5b0638ccdea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_TRUNCATE_IDX_OP_SETATTR&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2a6a36ebe0d71fc3a4bc04b5513bf002"></a><!-- doxytag: member="FSAL_PROXY/fsal_truncate.c::FSAL_TRUNCATE_NB_OP_ALLOC" ref="a2a6a36ebe0d71fc3a4bc04b5513bf002" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSAL_TRUNCATE_NB_OP_ALLOC&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aa7d5c70577d4279e3aeb431f5572efbd"></a><!-- doxytag: member="FSAL_PROXY/fsal_truncate.c::PROXYFSAL_truncate" ref="aa7d5c70577d4279e3aeb431f5572efbd" args="(fsal_handle_t *file_hdl, fsal_op_context_t *context, fsal_size_t length, fsal_file_t *file_descriptor, fsal_attrib_list_t *object_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> PROXYFSAL_truncate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__handle____.html">fsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>file_hdl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__op__context____.html">fsal_op_context_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a>&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="FSAL_2FSAL__TEMPLATE_2fsal__types_8h.html#aecb7132e1cc257d558b3b2b4fbe94284">fsal_file_t</a> *&#160;</td>
          <td class="paramname"><em>file_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__attrib__list____.html">fsal_attrib_list_t</a> *&#160;</td>
          <td class="paramname"><em>object_attributes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_truncate: Modify the data length of a regular file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">filehandle</td><td>(input): Handle of the file is to be truncated. </td></tr>
    <tr><td class="paramname">cred</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td class="paramname">length</td><td>(input): The new data length for the file. </td></tr>
    <tr><td class="paramname">object_attributes</td><td>(optionnal input/output): The post operation attributes of the file. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_STALE (filehandle does not address an existing object)</li>
<li>ERR_FSAL_INVAL (filehandle does not address a regular file)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_ACCESS, ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="FSAL__PROXY_2fsal__truncate_8c_source.html#l00067">67</a> of file <a class="el" href="FSAL__PROXY_2fsal__truncate_8c_source.html">FSAL_PROXY/fsal_truncate.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Nov 21 2012 for nfs-ganesha by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
