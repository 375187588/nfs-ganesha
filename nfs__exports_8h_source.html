<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>nfs-ganesha: nfs_exports.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nfs-ganesha&#160;<span id="projectnumber">1.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>nfs_exports.h</h1>  </div>
</div>
<div class="contents">
<a href="nfs__exports_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> *</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * Copyright CEA/DAM/DIF  (2008)</span>
<a name="l00005"></a>00005 <span class="comment"> * contributeur : Philippe DENIEL   philippe.deniel@cea.fr</span>
<a name="l00006"></a>00006 <span class="comment"> *                Thomas LEIBOVICI  thomas.leibovici@cea.fr</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> *</span>
<a name="l00009"></a>00009 <span class="comment"> * This program is free software; you can redistribute it and/or</span>
<a name="l00010"></a>00010 <span class="comment"> * modify it under the terms of the GNU Lesser General Public</span>
<a name="l00011"></a>00011 <span class="comment"> * License as published by the Free Software Foundation; either</span>
<a name="l00012"></a>00012 <span class="comment"> * version 3 of the License, or (at your option) any later version.</span>
<a name="l00013"></a>00013 <span class="comment"> *</span>
<a name="l00014"></a>00014 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
<a name="l00015"></a>00015 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00016"></a>00016 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00017"></a>00017 <span class="comment"> * Lesser General Public License for more details.</span>
<a name="l00018"></a>00018 <span class="comment"> *</span>
<a name="l00019"></a>00019 <span class="comment"> * You should have received a copy of the GNU Lesser General Public</span>
<a name="l00020"></a>00020 <span class="comment"> * License along with this library; if not, write to the Free Software</span>
<a name="l00021"></a>00021 <span class="comment"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA</span>
<a name="l00022"></a>00022 <span class="comment"> * 02110-1301 USA</span>
<a name="l00023"></a>00023 <span class="comment"> *</span>
<a name="l00024"></a>00024 <span class="comment"> * ---------------------------------------</span>
<a name="l00025"></a>00025 <span class="comment"> */</span>
<a name="l00026"></a>00026 
<a name="l00038"></a>00038 <span class="preprocessor">#ifndef _NFS_EXPORTS_H</span>
<a name="l00039"></a>00039 <span class="preprocessor"></span><span class="preprocessor">#define _NFS_EXPORTS_H</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &lt;pthread.h&gt;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &lt;sys/param.h&gt;</span>
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 <span class="preprocessor">#include &quot;<a class="code" href="ganesha__rpc_8h.html">ganesha_rpc.h</a>&quot;</span>
<a name="l00046"></a>00046 <span class="preprocessor">#ifdef _HAVE_GSSAPI</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor">#include &lt;gssapi/gssapi.h&gt;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &lt;gssapi/gssapi_krb5.h&gt;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#endif</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span><span class="preprocessor">#include &lt;dirent.h&gt;</span>             <span class="comment">/* for having MAXNAMLEN */</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &lt;netdb.h&gt;</span>              <span class="comment">/* for having MAXHOSTNAMELEN */</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include &quot;<a class="code" href="HashData_8h.html">HashData.h</a>&quot;</span>
<a name="l00053"></a>00053 <span class="preprocessor">#include &quot;<a class="code" href="HashTable_8h.html" title="Header for hash functionality.">HashTable.h</a>&quot;</span>
<a name="l00054"></a>00054 <span class="preprocessor">#include &quot;<a class="code" href="nfs23_8h.html">nfs23.h</a>&quot;</span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &quot;<a class="code" href="nfs4_8h.html">nfs4.h</a>&quot;</span>
<a name="l00056"></a>00056 <span class="preprocessor">#include &quot;<a class="code" href="mount_8h.html">mount.h</a>&quot;</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include &quot;<a class="code" href="nfs__stat_8h.html" title="Functions to be used for nfs and mount statistics.">nfs_stat.h</a>&quot;</span>
<a name="l00058"></a>00058 <span class="preprocessor">#include &quot;<a class="code" href="cache__inode_8h.html" title="Management of the cached inode layer.">cache_inode.h</a>&quot;</span>
<a name="l00059"></a>00059 <span class="preprocessor">#include &quot;<a class="code" href="nfs__ip__stats_8h.html">nfs_ip_stats.h</a>&quot;</span>
<a name="l00060"></a>00060 <span class="preprocessor">#include &quot;<a class="code" href="nlm__list_8h.html">nlm_list.h</a>&quot;</span>
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 <span class="comment">/*</span>
<a name="l00063"></a>00063 <span class="comment"> * Export List structure </span>
<a name="l00064"></a>00064 <span class="comment"> */</span>
<a name="l00065"></a><a class="code" href="nfs__exports_8h.html#a36f4db69a26561368e6d7e2105541409">00065</a> <span class="preprocessor">#define EXPORT_KEY_SIZE 8</span>
<a name="l00066"></a><a class="code" href="nfs__exports_8h.html#a2514364315ce9f2d75c4e36e11e15f33">00066</a> <span class="preprocessor"></span><span class="preprocessor">#define ANON_UID      -2</span>
<a name="l00067"></a><a class="code" href="nfs__exports_8h.html#a6a4acda185c8c671ddb3821d03d7f39d">00067</a> <span class="preprocessor"></span><span class="preprocessor">#define ANON_GID      -2</span>
<a name="l00068"></a>00068 <span class="preprocessor"></span>
<a name="l00069"></a><a class="code" href="nfs__exports_8h.html#a68d1ef359bbffd85f5f6d574524c700e">00069</a> <span class="preprocessor">#define EXPORT_LINESIZE 1024</span>
<a name="l00070"></a><a class="code" href="nfs__exports_8h.html#abcf72cd23bdafb47b19023d91b4c107d">00070</a> <span class="preprocessor"></span><span class="preprocessor">#define INPUT_SIZE      1024</span>
<a name="l00071"></a>00071 <span class="preprocessor"></span>
<a name="l00072"></a><a class="code" href="structexportlist__client__hostif____.html">00072</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structexportlist__client__hostif____.html">exportlist_client_hostif__</a>
<a name="l00073"></a>00073 {
<a name="l00074"></a><a class="code" href="structexportlist__client__hostif____.html#a11172e28167b6210470c96a6e7c7c20e">00074</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structexportlist__client__hostif____.html#a11172e28167b6210470c96a6e7c7c20e">clientaddr</a>;
<a name="l00075"></a><a class="code" href="structexportlist__client__hostif____.html#a557985e1f38ee45b8b81786002eeae70">00075</a>   <span class="keyword">struct </span>in6_addr <a class="code" href="structexportlist__client__hostif____.html#a557985e1f38ee45b8b81786002eeae70">clientaddr6</a>;
<a name="l00076"></a>00076 } <a class="code" href="nfs__exports_8h.html#a7bb82f28547f93e0c092c79e6a87ed07">exportlist_client_hostif_t</a>;
<a name="l00077"></a>00077 
<a name="l00078"></a><a class="code" href="structexportlist__client__net____.html">00078</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structexportlist__client__net____.html">exportlist_client_net__</a>
<a name="l00079"></a>00079 {
<a name="l00080"></a><a class="code" href="structexportlist__client__net____.html#a9021b1ddeba32a015f998a8c4b1ce486">00080</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structexportlist__client__net____.html#a9021b1ddeba32a015f998a8c4b1ce486">netaddr</a>;
<a name="l00081"></a><a class="code" href="structexportlist__client__net____.html#a676e1e747b29d08ce9c928869f11fbc2">00081</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structexportlist__client__net____.html#a676e1e747b29d08ce9c928869f11fbc2">netmask</a>;
<a name="l00082"></a>00082 } <a class="code" href="nfs__exports_8h.html#a9c984ce7cd340437979128b96f1f0fd8">exportlist_client_net_t</a>;
<a name="l00083"></a>00083 
<a name="l00084"></a><a class="code" href="structexportlist__client__netgrp____.html">00084</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structexportlist__client__netgrp____.html">exportlist_client_netgrp__</a>
<a name="l00085"></a>00085 {
<a name="l00086"></a><a class="code" href="structexportlist__client__netgrp____.html#a6db629196718bb50d8670a9dc622970d">00086</a>   <span class="keywordtype">char</span> <a class="code" href="structexportlist__client__netgrp____.html#a6db629196718bb50d8670a9dc622970d">netgroupname</a>[MAXHOSTNAMELEN];
<a name="l00087"></a>00087 } <a class="code" href="nfs__exports_8h.html#aae0a5f533eb42736497a5848bbaccc0f">exportlist_client_netgrp_t</a>;
<a name="l00088"></a>00088 
<a name="l00089"></a><a class="code" href="structexportlist__client__wildcard__host____.html">00089</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structexportlist__client__wildcard__host____.html">exportlist_client_wildcard_host__</a>
<a name="l00090"></a>00090 {
<a name="l00091"></a><a class="code" href="structexportlist__client__wildcard__host____.html#ac0dd72fd60fb3a0b0de74a12ad3bfdce">00091</a>   <span class="keywordtype">char</span> <a class="code" href="structexportlist__client__wildcard__host____.html#ac0dd72fd60fb3a0b0de74a12ad3bfdce">wildcard</a>[MAXHOSTNAMELEN];
<a name="l00092"></a>00092 } <a class="code" href="nfs__exports_8h.html#a9851d7053198fc4fb1949836c81479f9">exportlist_client_wildcard_host_t</a>;
<a name="l00093"></a>00093 
<a name="l00094"></a><a class="code" href="nfs__exports_8h.html#ae1d45aa8a0dd576d3d772ba47b14c72d">00094</a> <span class="preprocessor">#define GSS_DEFINE_LEN_TEMP 255</span>
<a name="l00095"></a><a class="code" href="structexportlist__client__gss____.html">00095</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structexportlist__client__gss____.html">exportlist_client_gss__</a>
<a name="l00096"></a>00096 {
<a name="l00097"></a><a class="code" href="structexportlist__client__gss____.html#a130e16a0fb5aff2cdcce638ded0e6533">00097</a>   <span class="keywordtype">char</span> <a class="code" href="structexportlist__client__gss____.html#a130e16a0fb5aff2cdcce638ded0e6533">princname</a>[<a class="code" href="nfs__exports_8h.html#ae1d45aa8a0dd576d3d772ba47b14c72d">GSS_DEFINE_LEN_TEMP</a>];
<a name="l00098"></a>00098 } <a class="code" href="nfs__exports_8h.html#a79bff6628096adb0a7f794b13b5f1006">exportlist_client_gss_t</a>;
<a name="l00099"></a>00099 
<a name="l00100"></a><a class="code" href="nfs__exports_8h.html#abb16d597dd96e9faeeed335136edaa64">00100</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="nfs__exports_8h.html#abb16d597dd96e9faeeed335136edaa64">exportlist_access_type__</a>
<a name="l00101"></a>00101 {
<a name="l00102"></a><a class="code" href="nfs__exports_8h.html#abb16d597dd96e9faeeed335136edaa64a16d83d92c72cc94cc71591c2aad33bb9">00102</a>   <a class="code" href="nfs__exports_8h.html#abb16d597dd96e9faeeed335136edaa64a16d83d92c72cc94cc71591c2aad33bb9">ACCESSTYPE_RW</a>        = 1,     <span class="comment">/* All operations are allowed                */</span>
<a name="l00103"></a><a class="code" href="nfs__exports_8h.html#abb16d597dd96e9faeeed335136edaa64a06e1058c3f7755bf29f9495b6fd74309">00103</a>   <a class="code" href="nfs__exports_8h.html#abb16d597dd96e9faeeed335136edaa64a06e1058c3f7755bf29f9495b6fd74309">ACCESSTYPE_RO</a>        = 2,     <span class="comment">/* Filesystem is readonly (nfs_read allowed) */</span>
<a name="l00104"></a><a class="code" href="nfs__exports_8h.html#abb16d597dd96e9faeeed335136edaa64a01516cca87fec25ddca4afe436b692db">00104</a>   <a class="code" href="nfs__exports_8h.html#abb16d597dd96e9faeeed335136edaa64a01516cca87fec25ddca4afe436b692db">ACCESSTYPE_MDONLY</a>    = 3,     <span class="comment">/* Data operations are forbidden             */</span>
<a name="l00105"></a><a class="code" href="nfs__exports_8h.html#abb16d597dd96e9faeeed335136edaa64a4d08db2ca471d7171f2763434af590ba">00105</a>   <a class="code" href="nfs__exports_8h.html#abb16d597dd96e9faeeed335136edaa64a4d08db2ca471d7171f2763434af590ba">ACCESSTYPE_MDONLY_RO</a> = 4      <span class="comment">/* Data operations are forbidden,</span>
<a name="l00106"></a>00106 <span class="comment">                                   and the filesystem is read-only.          */</span>
<a name="l00107"></a>00107 } <a class="code" href="nfs__exports_8h.html#a5a63c3c8eccae7f77885e9839feacdbf">exportlist_access_type_t</a>;
<a name="l00108"></a>00108 
<a name="l00109"></a><a class="code" href="nfs__exports_8h.html#a178bd369355c3efc5c4e3486e3ad2734">00109</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="nfs__exports_8h.html#a178bd369355c3efc5c4e3486e3ad2734">exportlist_client_type__</a>
<a name="l00110"></a>00110 { 
<a name="l00111"></a><a class="code" href="nfs__exports_8h.html#a178bd369355c3efc5c4e3486e3ad2734a9110be8548143abed2f046a0d57aa2b0">00111</a>   <a class="code" href="nfs__exports_8h.html#a178bd369355c3efc5c4e3486e3ad2734a9110be8548143abed2f046a0d57aa2b0">HOSTIF_CLIENT</a>       = 1,
<a name="l00112"></a><a class="code" href="nfs__exports_8h.html#a178bd369355c3efc5c4e3486e3ad2734a6529e2aa79cab8a95c09f8eaaf02533b">00112</a>   <a class="code" href="nfs__exports_8h.html#a178bd369355c3efc5c4e3486e3ad2734a6529e2aa79cab8a95c09f8eaaf02533b">NETWORK_CLIENT</a>      = 2,
<a name="l00113"></a><a class="code" href="nfs__exports_8h.html#a178bd369355c3efc5c4e3486e3ad2734ade66043acde2e12d3a6a4bf11015803f">00113</a>   <a class="code" href="nfs__exports_8h.html#a178bd369355c3efc5c4e3486e3ad2734ade66043acde2e12d3a6a4bf11015803f">NETGROUP_CLIENT</a>     = 3,
<a name="l00114"></a><a class="code" href="nfs__exports_8h.html#a178bd369355c3efc5c4e3486e3ad2734ac286a5485bb7a8b85bc2db08268ce423">00114</a>   <a class="code" href="nfs__exports_8h.html#a178bd369355c3efc5c4e3486e3ad2734ac286a5485bb7a8b85bc2db08268ce423">WILDCARDHOST_CLIENT</a> = 4,
<a name="l00115"></a><a class="code" href="nfs__exports_8h.html#a178bd369355c3efc5c4e3486e3ad2734af5db785331d27844f720a7bfe292055b">00115</a>   <a class="code" href="nfs__exports_8h.html#a178bd369355c3efc5c4e3486e3ad2734af5db785331d27844f720a7bfe292055b">GSSPRINCIPAL_CLIENT</a> = 5,
<a name="l00116"></a><a class="code" href="nfs__exports_8h.html#a178bd369355c3efc5c4e3486e3ad2734aa030289c3d340104ebedd14bd83031d2">00116</a>   <a class="code" href="nfs__exports_8h.html#a178bd369355c3efc5c4e3486e3ad2734aa030289c3d340104ebedd14bd83031d2">HOSTIF_CLIENT_V6</a>    = 6,
<a name="l00117"></a><a class="code" href="nfs__exports_8h.html#a178bd369355c3efc5c4e3486e3ad2734a397dd49b785120e31ad46ddff73fa458">00117</a>   <a class="code" href="nfs__exports_8h.html#a178bd369355c3efc5c4e3486e3ad2734a397dd49b785120e31ad46ddff73fa458">BAD_CLIENT</a>          = 7
<a name="l00118"></a>00118 } <a class="code" href="nfs__exports_8h.html#a79a45a306e508ba3433ec16310fe15f3">exportlist_client_type_t</a>;
<a name="l00119"></a>00119 
<a name="l00120"></a><a class="code" href="nfs__exports_8h.html#a2c0bc53b6620d4785f9c6537d3d8b96d">00120</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="nfs__exports_8h.html#a2c0bc53b6620d4785f9c6537d3d8b96d">exportlist_status__</a>
<a name="l00121"></a><a class="code" href="nfs__exports_8h.html#a2c0bc53b6620d4785f9c6537d3d8b96daaa6b5c6a01cc6764492ae21095afa02c">00121</a> { <a class="code" href="nfs__exports_8h.html#a2c0bc53b6620d4785f9c6537d3d8b96daaa6b5c6a01cc6764492ae21095afa02c">EXPORTLIST_OK</a> = 1,
<a name="l00122"></a><a class="code" href="nfs__exports_8h.html#a2c0bc53b6620d4785f9c6537d3d8b96dae2e6facf5fa57231e75061af5221fb22">00122</a>   <a class="code" href="nfs__exports_8h.html#a2c0bc53b6620d4785f9c6537d3d8b96dae2e6facf5fa57231e75061af5221fb22">EXPORTLIST_UNAVAILABLE</a> = 2
<a name="l00123"></a>00123 } <a class="code" href="nfs__exports_8h.html#aa333f49389d1faad16981e71edc2a1df">exportlist_status_t</a>;
<a name="l00124"></a>00124 
<a name="l00125"></a><a class="code" href="unionexportlist__client__union____.html">00125</a> <span class="keyword">typedef</span> <span class="keyword">union </span><a class="code" href="unionexportlist__client__union____.html">exportlist_client_union__</a>
<a name="l00126"></a>00126 {
<a name="l00127"></a><a class="code" href="unionexportlist__client__union____.html#af51834c79c68600d9a9cdac7e9f07e36">00127</a>   <a class="code" href="structexportlist__client__hostif____.html">exportlist_client_hostif_t</a> <a class="code" href="unionexportlist__client__union____.html#af51834c79c68600d9a9cdac7e9f07e36">hostif</a>;
<a name="l00128"></a><a class="code" href="unionexportlist__client__union____.html#aebb133a381cf7f4bc32fe0953b402fc0">00128</a>   <a class="code" href="structexportlist__client__net____.html">exportlist_client_net_t</a> <a class="code" href="unionexportlist__client__union____.html#aebb133a381cf7f4bc32fe0953b402fc0">network</a>;
<a name="l00129"></a><a class="code" href="unionexportlist__client__union____.html#a526d4d9cc1f23772a8cfccd46b12b8d9">00129</a>   <a class="code" href="structexportlist__client__netgrp____.html">exportlist_client_netgrp_t</a> <a class="code" href="unionexportlist__client__union____.html#a526d4d9cc1f23772a8cfccd46b12b8d9">netgroup</a>;
<a name="l00130"></a><a class="code" href="unionexportlist__client__union____.html#a5d98763cc127d07b4e99d1e675f6f246">00130</a>   <a class="code" href="structexportlist__client__wildcard__host____.html">exportlist_client_wildcard_host_t</a> <a class="code" href="unionexportlist__client__union____.html#a5d98763cc127d07b4e99d1e675f6f246">wildcard</a>;
<a name="l00131"></a><a class="code" href="unionexportlist__client__union____.html#a827996f8bcee5de64b8ddd686c66b6c7">00131</a>   <a class="code" href="structexportlist__client__gss____.html">exportlist_client_gss_t</a> <a class="code" href="unionexportlist__client__union____.html#a827996f8bcee5de64b8ddd686c66b6c7">gssprinc</a>;
<a name="l00132"></a>00132 } <a class="code" href="nfs__exports_8h.html#acdfcc0a7405f4be599754a20c271875b">exportlist_client_union_t</a>;
<a name="l00133"></a>00133 
<a name="l00134"></a><a class="code" href="structexportlist__client__entry____.html">00134</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structexportlist__client__entry____.html">exportlist_client_entry__</a>
<a name="l00135"></a>00135 {
<a name="l00136"></a><a class="code" href="structexportlist__client__entry____.html#a98f3c424ec2aab08c6a09c6d791b1ef6">00136</a>   <a class="code" href="nfs__exports_8h.html#a79a45a306e508ba3433ec16310fe15f3">exportlist_client_type_t</a> <a class="code" href="structexportlist__client__entry____.html#a98f3c424ec2aab08c6a09c6d791b1ef6">type</a>;
<a name="l00137"></a><a class="code" href="structexportlist__client__entry____.html#a154e8d812f38fba17c16789ce3dc2b62">00137</a>   <a class="code" href="unionexportlist__client__union____.html">exportlist_client_union_t</a> <a class="code" href="structexportlist__client__entry____.html#a154e8d812f38fba17c16789ce3dc2b62">client</a>;
<a name="l00138"></a><a class="code" href="structexportlist__client__entry____.html#a3eab0f6b2f0765e8eac4fb195309e1e3">00138</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structexportlist__client__entry____.html#a3eab0f6b2f0765e8eac4fb195309e1e3">options</a>;         <span class="comment">/* avail. mnt options */</span>
<a name="l00139"></a>00139 } <a class="code" href="nfs__exports_8h.html#a46039f464cdb47294adcfb07f7f45f07">exportlist_client_entry_t</a>;
<a name="l00140"></a>00140 
<a name="l00141"></a><a class="code" href="nfs__exports_8h.html#a448d3b0d19f4a55214ba1e18941ed01a">00141</a> <span class="preprocessor">#define EXPORTS_NB_MAX_CLIENTS 128</span>
<a name="l00142"></a>00142 <span class="preprocessor"></span>
<a name="l00143"></a><a class="code" href="structexportlist__client____.html">00143</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structexportlist__client____.html">exportlist_client__</a>
<a name="l00144"></a>00144 {
<a name="l00145"></a><a class="code" href="structexportlist__client____.html#a5071244d1f787a7468bf3b866ededab5">00145</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structexportlist__client____.html#a5071244d1f787a7468bf3b866ededab5">num_clients</a>;     <span class="comment">/* num clients        */</span>
<a name="l00146"></a><a class="code" href="structexportlist__client____.html#aeb8f9ac04978fca5dba0aba391a9d925">00146</a>   <a class="code" href="structexportlist__client__entry____.html">exportlist_client_entry_t</a> <a class="code" href="structexportlist__client____.html#aeb8f9ac04978fca5dba0aba391a9d925">clientarray</a>[<a class="code" href="nfs__exports_8h.html#a448d3b0d19f4a55214ba1e18941ed01a">EXPORTS_NB_MAX_CLIENTS</a>];        <span class="comment">/* allowed clients    */</span>
<a name="l00147"></a>00147 } <a class="code" href="nfs__exports_8h.html#ad4113208da47c7fe7289393916beaa97">exportlist_client_t</a>;
<a name="l00148"></a>00148 
<a name="l00149"></a>00149 <span class="comment">/* fsal up filter list is needed in exportlist.</span>
<a name="l00150"></a>00150 <span class="comment"> * Inluding fsal_up.h would cause header file issues however. */</span>
<a name="l00151"></a>00151 <span class="preprocessor">#ifdef _USE_FSAL_UP</span>
<a name="l00152"></a>00152 <span class="preprocessor"></span><span class="keyword">struct </span>fsal_up_filter_list_t_;
<a name="l00153"></a>00153 <span class="preprocessor">#endif</span>
<a name="l00154"></a>00154 <span class="preprocessor"></span>
<a name="l00155"></a><a class="code" href="structexportlist____.html">00155</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structexportlist____.html">exportlist__</a>
<a name="l00156"></a>00156 {
<a name="l00157"></a><a class="code" href="structexportlist____.html#a6cdf6b3326db83e0af2976000c374b12">00157</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structexportlist____.html#a6cdf6b3326db83e0af2976000c374b12">id</a>;            <span class="comment">/* entry identifier   */</span>
<a name="l00158"></a><a class="code" href="structexportlist____.html#a9ee5c1bb701c8c8f0f71e8514016f1b0">00158</a>   <a class="code" href="nfs__exports_8h.html#aa333f49389d1faad16981e71edc2a1df">exportlist_status_t</a> <a class="code" href="structexportlist____.html#a9ee5c1bb701c8c8f0f71e8514016f1b0">status</a>;   <span class="comment">/* entry&#39;s status     */</span>
<a name="l00159"></a><a class="code" href="structexportlist____.html#aed69da9ea94f07652e30b8393311c025">00159</a>   <span class="keywordtype">char</span> <a class="code" href="structexportlist____.html#aed69da9ea94f07652e30b8393311c025">dirname</a>[MAXNAMLEN];      <span class="comment">/* path relative to fs root */</span>
<a name="l00160"></a><a class="code" href="structexportlist____.html#a9f5261f3f2aa4e10232d3e7fae0f3e27">00160</a>   <span class="keywordtype">char</span> <a class="code" href="structexportlist____.html#a9f5261f3f2aa4e10232d3e7fae0f3e27">fullpath</a>[<a class="code" href="tests_8h.html#addfa831c1473e710d2b71b72fd7fcfa5">MAXPATHLEN</a>];    <span class="comment">/* the path from the root */</span>
<a name="l00161"></a><a class="code" href="structexportlist____.html#a46cc214ea5f5bc12f16287f9c41a012b">00161</a>   <span class="keywordtype">char</span> <a class="code" href="structexportlist____.html#a46cc214ea5f5bc12f16287f9c41a012b">fsname</a>[MAXNAMLEN];       <span class="comment">/* File system name, MAXNAMLEN is used for wanting of a better constant */</span>
<a name="l00162"></a><a class="code" href="structexportlist____.html#adb772dd8ff6df70fb07a45316819d59f">00162</a>   <span class="keywordtype">char</span> <a class="code" href="structexportlist____.html#adb772dd8ff6df70fb07a45316819d59f">pseudopath</a>[<a class="code" href="tests_8h.html#addfa831c1473e710d2b71b72fd7fcfa5">MAXPATHLEN</a>];  <span class="comment">/* nfsv4 pseudo-filesystem &#39;virtual&#39; path */</span>
<a name="l00163"></a><a class="code" href="structexportlist____.html#aa3703f14e83b23d935eba12bd1fe1a2f">00163</a>   <span class="keywordtype">char</span> <a class="code" href="structexportlist____.html#aa3703f14e83b23d935eba12bd1fe1a2f">referral</a>[<a class="code" href="tests_8h.html#addfa831c1473e710d2b71b72fd7fcfa5">MAXPATHLEN</a>];    <span class="comment">/* String describing NFSv4 referral */</span>
<a name="l00164"></a>00164 
<a name="l00165"></a><a class="code" href="structexportlist____.html#aaad09cffca5f37f24ce69fcb8aa89412">00165</a>   <span class="keywordtype">char</span> <a class="code" href="structexportlist____.html#aaad09cffca5f37f24ce69fcb8aa89412">FS_specific</a>[<a class="code" href="tests_8h.html#addfa831c1473e710d2b71b72fd7fcfa5">MAXPATHLEN</a>]; <span class="comment">/* filesystem specific option string */</span>
<a name="l00166"></a><a class="code" href="structexportlist____.html#a5fb7e0bfcb29931fa9016366908cd9fa">00166</a>   <span class="keywordtype">char</span> <a class="code" href="structexportlist____.html#a5fb7e0bfcb29931fa9016366908cd9fa">FS_tag</a>[<a class="code" href="tests_8h.html#addfa831c1473e710d2b71b72fd7fcfa5">MAXPATHLEN</a>];      <span class="comment">/* filesystem &quot;tag&quot; string */</span>
<a name="l00167"></a><a class="code" href="structexportlist____.html#abbe82cf495253f375cd7f4bf47406aca">00167</a>   <a class="code" href="structfsal__export__context____.html">fsal_export_context_t</a> <a class="code" href="structexportlist____.html#abbe82cf495253f375cd7f4bf47406aca">FS_export_context</a>;      <span class="comment">/* the export context associated with this export entry */</span>
<a name="l00168"></a>00168 
<a name="l00169"></a><a class="code" href="structexportlist____.html#a0aa8e7d30cd7e8f6aaaffd60b02c6ed9">00169</a>   <a class="code" href="nfs__exports_8h.html#a5a63c3c8eccae7f77885e9839feacdbf">exportlist_access_type_t</a> <a class="code" href="structexportlist____.html#a0aa8e7d30cd7e8f6aaaffd60b02c6ed9">access_type</a>; <span class="comment">/* allowed operations for this export. Used by the older Access</span>
<a name="l00170"></a>00170 <span class="comment">                                         * list Access_Type export permissions scheme as well as the newer</span>
<a name="l00171"></a>00171 <span class="comment">                                         * R_Access, RW_Access, MDONLY_Access, MDONLY_R_Access lists.*/</span>
<a name="l00172"></a><a class="code" href="structexportlist____.html#a6c152023d300f5334696a6727d1cd930">00172</a>   bool_t <a class="code" href="structexportlist____.html#a6c152023d300f5334696a6727d1cd930">new_access_list_version</a>;   <span class="comment">/* the new access list version (TRUE) is teh *_Access lists.</span>
<a name="l00173"></a>00173 <span class="comment">                                     * The old (FALSE) is Access and Access_Type. */</span>
<a name="l00174"></a>00174 
<a name="l00175"></a><a class="code" href="structexportlist____.html#a0f81c1008714a0ce0039397cd3fab832">00175</a>   <a class="code" href="structfsal__fsid____.html">fsal_fsid_t</a> <a class="code" href="structexportlist____.html#a0f81c1008714a0ce0039397cd3fab832">filesystem_id</a>;    <span class="comment">/* fileset id         */</span>
<a name="l00176"></a><a class="code" href="structexportlist____.html#a75813c8f2d886ac010178b5b755b4960">00176</a>   <a class="code" href="structfsal__handle____.html">fsal_handle_t</a> *<a class="code" href="structexportlist____.html#a75813c8f2d886ac010178b5b755b4960">proot_handle</a>;  <span class="comment">/* FSAL handle for the root of the file system */</span>
<a name="l00177"></a>00177 
<a name="l00178"></a><a class="code" href="structexportlist____.html#a2624e76ee7011a4b23872303328269a5">00178</a>   uid_t <a class="code" href="structexportlist____.html#a2624e76ee7011a4b23872303328269a5">anonymous_uid</a>;          <span class="comment">/* root uid when no root access is available   */</span>
<a name="l00179"></a>00179                                 <span class="comment">/* uid when access is available but all users are being squashed. */</span>
<a name="l00180"></a><a class="code" href="structexportlist____.html#aacb94d892bc56be6e7196cf1317c7941">00180</a>   gid_t <a class="code" href="structexportlist____.html#aacb94d892bc56be6e7196cf1317c7941">anonymous_gid</a>;          <span class="comment">/* root gid when no root access is available   */</span>
<a name="l00181"></a>00181                                 <span class="comment">/* gid when access is available but all users are being squashed. */</span>
<a name="l00182"></a><a class="code" href="structexportlist____.html#a60ac487d8cde8bc0e758fea80465cbb2">00182</a>   bool_t <a class="code" href="structexportlist____.html#a60ac487d8cde8bc0e758fea80465cbb2">all_anonymous</a>;         <span class="comment">/* When set to true, all users including root will be given the anon uid/gid */</span>
<a name="l00183"></a><a class="code" href="structexportlist____.html#a47d40937207a0fd8e67e191415ffef60">00183</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structexportlist____.html#a47d40937207a0fd8e67e191415ffef60">options</a>;         <span class="comment">/* avail. mnt options */</span>
<a name="l00184"></a>00184 
<a name="l00185"></a><a class="code" href="structexportlist____.html#a9d85a6c955bc24258ebaafcd3021b452">00185</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structexportlist____.html#a9d85a6c955bc24258ebaafcd3021b452">seckey</a>[<a class="code" href="nfs__exports_8h.html#a36f4db69a26561368e6d7e2105541409">EXPORT_KEY_SIZE</a>];        <span class="comment">/* Checksum for FH validity */</span>
<a name="l00186"></a>00186 
<a name="l00187"></a><a class="code" href="structexportlist____.html#a330b2f9e7f03a14cb3519d755fd9fb1d">00187</a>   bool_t <a class="code" href="structexportlist____.html#a330b2f9e7f03a14cb3519d755fd9fb1d">use_ganesha_write_buffer</a>;
<a name="l00188"></a><a class="code" href="structexportlist____.html#a5c94b71734d314cff6f32c77dde38276">00188</a>   bool_t <a class="code" href="structexportlist____.html#a5c94b71734d314cff6f32c77dde38276">use_commit</a>;
<a name="l00189"></a>00189 
<a name="l00190"></a><a class="code" href="structexportlist____.html#aca0d2005712efda897d6c995a7678307">00190</a>   <a class="code" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> <a class="code" href="structexportlist____.html#aca0d2005712efda897d6c995a7678307">MaxRead</a>;          <span class="comment">/* Max Read for this entry                           */</span>
<a name="l00191"></a><a class="code" href="structexportlist____.html#a9e18adbe1c9935d1c91782c74817a02c">00191</a>   <a class="code" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> <a class="code" href="structexportlist____.html#a9e18adbe1c9935d1c91782c74817a02c">MaxWrite</a>;         <span class="comment">/* Max Write for this entry                          */</span>
<a name="l00192"></a><a class="code" href="structexportlist____.html#afbd391133a979fbb8fb646ccd3f160b0">00192</a>   <a class="code" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> <a class="code" href="structexportlist____.html#afbd391133a979fbb8fb646ccd3f160b0">PrefRead</a>;         <span class="comment">/* Preferred Read size                               */</span>
<a name="l00193"></a><a class="code" href="structexportlist____.html#ad58479b874bae71685e949714c0b78de">00193</a>   <a class="code" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> <a class="code" href="structexportlist____.html#ad58479b874bae71685e949714c0b78de">PrefWrite</a>;        <span class="comment">/* Preferred Write size                              */</span>
<a name="l00194"></a><a class="code" href="structexportlist____.html#a8e1fdad1b7a0f564a621e4c9e02d4a94">00194</a>   <a class="code" href="fsal__types_8h.html#a30fc893739650c71e910bc834eb401df">fsal_size_t</a> <a class="code" href="structexportlist____.html#a8e1fdad1b7a0f564a621e4c9e02d4a94">PrefReaddir</a>;      <span class="comment">/* Preferred Readdir size                            */</span>
<a name="l00195"></a><a class="code" href="structexportlist____.html#ae54b18d20271bdc9d4571068e0d44a8d">00195</a>   <a class="code" href="fsal__types_8h.html#a4b363d8dd7f629e250d1fc420685b587">fsal_off_t</a> <a class="code" href="structexportlist____.html#ae54b18d20271bdc9d4571068e0d44a8d">MaxOffsetWrite</a>;    <span class="comment">/* Maximum Offset allowed for write                  */</span>
<a name="l00196"></a><a class="code" href="structexportlist____.html#a5a1ec45d972a2d94977ec4b694f79bb8">00196</a>   <a class="code" href="fsal__types_8h.html#a4b363d8dd7f629e250d1fc420685b587">fsal_off_t</a> <a class="code" href="structexportlist____.html#a5a1ec45d972a2d94977ec4b694f79bb8">MaxOffsetRead</a>;     <span class="comment">/* Maximum Offset allowed for read                   */</span>
<a name="l00197"></a><a class="code" href="structexportlist____.html#a6774fdd059978509674425b542e1b80e">00197</a>   <a class="code" href="fsal__types_8h.html#a4b363d8dd7f629e250d1fc420685b587">fsal_off_t</a> <a class="code" href="structexportlist____.html#a6774fdd059978509674425b542e1b80e">MaxCacheSize</a>;      <span class="comment">/* Maximum Cache Size allowed                        */</span>
<a name="l00198"></a><a class="code" href="structexportlist____.html#a43954aa643a0c3d4eb2498d964b412dc">00198</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structexportlist____.html#a43954aa643a0c3d4eb2498d964b412dc">UseCookieVerifier</a>;       <span class="comment">/* Is Cookie verifier to be used ?                   */</span>
<a name="l00199"></a><a class="code" href="structexportlist____.html#a2631830b2a496cf1aa37ff7e061fdc0f">00199</a>   <a class="code" href="structexportlist__client____.html">exportlist_client_t</a> <a class="code" href="structexportlist____.html#a2631830b2a496cf1aa37ff7e061fdc0f">clients</a>;  <span class="comment">/* allowed clients                                   */</span>
<a name="l00200"></a><a class="code" href="structexportlist____.html#a36c253d311437916bfadeb2f6b0e5dc2">00200</a>   <span class="keyword">struct </span><a class="code" href="structexportlist____.html">exportlist__</a> *<a class="code" href="structexportlist____.html#a36c253d311437916bfadeb2f6b0e5dc2">next</a>;    <span class="comment">/* next entry                                        */</span>
<a name="l00201"></a><a class="code" href="structexportlist____.html#a11b8591d3e419f2d080f2a60104923b8">00201</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structexportlist____.html#a11b8591d3e419f2d080f2a60104923b8">fsalid</a> ;
<a name="l00202"></a>00202 
<a name="l00203"></a><a class="code" href="structexportlist____.html#a0052fa2d636dcf379935fd90ec3d9bed">00203</a>   pthread_mutex_t   <a class="code" href="structexportlist____.html#a0052fa2d636dcf379935fd90ec3d9bed">exp_state_mutex</a>; <span class="comment">/* Mutex to protect the following two lists */</span>
<a name="l00204"></a><a class="code" href="structexportlist____.html#a7ee24e7a473ba13d8ebb93e9184f9bbb">00204</a>   <span class="keyword">struct </span><a class="code" href="structglist__head.html">glist_head</a> <a class="code" href="structexportlist____.html#a7ee24e7a473ba13d8ebb93e9184f9bbb">exp_state_list</a>;  <span class="comment">/* List of NFS v4 state belonging to this export */</span>
<a name="l00205"></a>00205 <span class="preprocessor">#ifdef _USE_NLM</span>
<a name="l00206"></a>00206 <span class="preprocessor"></span>  <span class="keyword">struct </span><a class="code" href="structglist__head.html">glist_head</a> exp_lock_list;   <span class="comment">/* List of locks belonging to this export</span>
<a name="l00207"></a>00207 <span class="comment">                                      * Only need this list if NLM, otherwise</span>
<a name="l00208"></a>00208 <span class="comment">                                      * state list is sufficient</span>
<a name="l00209"></a>00209 <span class="comment">                                      */</span>
<a name="l00210"></a>00210 <span class="preprocessor">#endif</span>
<a name="l00211"></a>00211 <span class="preprocessor"></span>
<a name="l00212"></a>00212 <span class="preprocessor">#ifdef _USE_FSAL_UP</span>
<a name="l00213"></a>00213 <span class="preprocessor"></span>  bool_t use_fsal_up;
<a name="l00214"></a>00214   <span class="keywordtype">char</span> fsal_up_type[<a class="code" href="tests_8h.html#addfa831c1473e710d2b71b72fd7fcfa5">MAXPATHLEN</a>];
<a name="l00215"></a>00215   <a class="code" href="structfsal__time____.html">fsal_time_t</a> fsal_up_timeout;
<a name="l00216"></a>00216   pthread_t fsal_up_thr; <span class="comment">/* This value may be modified later to point to an FSAL CB thread. */</span>
<a name="l00217"></a>00217   <span class="keyword">struct </span>fsal_up_filter_list_t_ *fsal_up_filter_list; <span class="comment">/* List of filters to apply through FSAL CB interface. */</span>
<a name="l00218"></a>00218 <span class="preprocessor">#endif </span><span class="comment">/* _USE_FSAL_UP */</span>
<a name="l00219"></a>00219 
<a name="l00220"></a><a class="code" href="structexportlist____.html#aff1ccc12af6ba217b27a97dc86bc1f09">00220</a>   <a class="code" href="structnfs__worker__stat____.html">nfs_worker_stat_t</a> *<a class="code" href="structexportlist____.html#aff1ccc12af6ba217b27a97dc86bc1f09">worker_stats</a>; <span class="comment">/* List of worker stats to support per-share stat. */</span>
<a name="l00221"></a>00221 } <a class="code" href="nfs__exports_8h.html#aa26914c1e1ce2bb9fb981b44c6b82d7f">exportlist_t</a>;
<a name="l00222"></a>00222 
<a name="l00223"></a>00223 <span class="comment">/* Constant for options masks */</span>
<a name="l00224"></a><a class="code" href="nfs__exports_8h.html#a220d129852687530de888b60d44a7cc2">00224</a> <span class="preprocessor">#define EXPORT_OPTION_NOSUID          0x00000001        </span><span class="comment">/* mask off setuid mode bit            */</span>
<a name="l00225"></a><a class="code" href="nfs__exports_8h.html#ab01ace33a35aa304a94eb43a0c710622">00225</a> <span class="preprocessor">#define EXPORT_OPTION_NOSGID          0x00000002        </span><span class="comment">/* mask off setgid mode bit            */</span>
<a name="l00226"></a><a class="code" href="nfs__exports_8h.html#a3108a6200ce7cbe3b18d04a3ba57837d">00226</a> <span class="preprocessor">#define EXPORT_OPTION_ROOT            0x00000004        </span><span class="comment">/* allow root access as root uid       */</span>
<a name="l00227"></a><a class="code" href="nfs__exports_8h.html#ad41c7dc35423592dbe64c9a7be4b88c4">00227</a> <span class="preprocessor">#define EXPORT_OPTION_NETENT          0x00000008        </span><span class="comment">/* client entry is a network entry     */</span>
<a name="l00228"></a><a class="code" href="nfs__exports_8h.html#afabee42e7533143a6376498863eb7bb3">00228</a> <span class="preprocessor">#define EXPORT_OPTION_READ_ACCESS     0x00000010        </span><span class="comment">/* R_Access= option specified          */</span>
<a name="l00229"></a><a class="code" href="nfs__exports_8h.html#a882b970d87417655b8f3b2cbf748af08">00229</a> <span class="preprocessor">#define EXPORT_OPTION_NETGRP          0x00000020        </span><span class="comment">/* client entry is a netgroup          */</span>
<a name="l00230"></a><a class="code" href="nfs__exports_8h.html#a23c502f85676130e2d7f54c385c9d58a">00230</a> <span class="preprocessor">#define EXPORT_OPTION_WILDCARD        0x00000040        </span><span class="comment">/* client entry is wildcarded          */</span>
<a name="l00231"></a><a class="code" href="nfs__exports_8h.html#aba7310a8b8b2472866ba2fe58636996c">00231</a> <span class="preprocessor">#define EXPORT_OPTION_GSSPRINC        0x00000080        </span><span class="comment">/* client entry is a GSS principal     */</span>
<a name="l00232"></a><a class="code" href="nfs__exports_8h.html#a95f68cde0d1e36124ade08413bd3c0f7">00232</a> <span class="preprocessor">#define EXPORT_OPTION_PSEUDO          0x00000100        </span><span class="comment">/* pseudopath is provided              */</span>
<a name="l00233"></a><a class="code" href="nfs__exports_8h.html#a4cfbf5b0f191a7e67d3844e3e44ecb29">00233</a> <span class="preprocessor">#define EXPORT_OPTION_MAXREAD         0x00000200        </span><span class="comment">/* Max read is provided                */</span>
<a name="l00234"></a><a class="code" href="nfs__exports_8h.html#ab23359590a3aedc55936fd52530137fb">00234</a> <span class="preprocessor">#define EXPORT_OPTION_MAXWRITE        0x00000400        </span><span class="comment">/* Max write is provided               */</span>
<a name="l00235"></a><a class="code" href="nfs__exports_8h.html#ae30ea6ef0043d730f66b182a875cbc04">00235</a> <span class="preprocessor">#define EXPORT_OPTION_PREFREAD        0x00000800        </span><span class="comment">/* Pref read is provided               */</span>
<a name="l00236"></a><a class="code" href="nfs__exports_8h.html#aaf1f204ce3ac124df6426b626d134a89">00236</a> <span class="preprocessor">#define EXPORT_OPTION_PREFWRITE       0x00001000        </span><span class="comment">/* Pref write is provided              */</span>
<a name="l00237"></a><a class="code" href="nfs__exports_8h.html#ae874d2c820479d57356bde27d98be20c">00237</a> <span class="preprocessor">#define EXPORT_OPTION_PREFRDDIR       0x00002000        </span><span class="comment">/* Pref readdir size is provided       */</span>
<a name="l00238"></a><a class="code" href="nfs__exports_8h.html#a3cbf9f0292fabca446f6b3fedd4bb82c">00238</a> <span class="preprocessor">#define EXPORT_OPTION_PRIVILEGED_PORT 0x00004000        </span><span class="comment">/* clients use only privileged port    */</span>
<a name="l00239"></a><a class="code" href="nfs__exports_8h.html#abf629dad8b39bc388e0350f188e042a5">00239</a> <span class="preprocessor">#define EXPORT_OPTION_USE_DATACACHE   0x00008000        </span><span class="comment">/* Is export entry data cached ?       */</span>
<a name="l00240"></a><a class="code" href="nfs__exports_8h.html#a30fc344ec49174de8beb0ef4ea3d4a68">00240</a> <span class="preprocessor">#define EXPORT_OPTION_WRITE_ACCESS    0x00010000        </span><span class="comment">/* RW_Access= option specified         */</span>
<a name="l00241"></a><a class="code" href="nfs__exports_8h.html#acdd1af0f79a1f66d2dcba8801fd22e38">00241</a> <span class="preprocessor">#define EXPORT_OPTION_MD_WRITE_ACCESS 0x00020000        </span><span class="comment">/* MDONLY_Access= option specified     */</span>
<a name="l00242"></a><a class="code" href="nfs__exports_8h.html#aaf344a21db92e45dec941f91783cb8cb">00242</a> <span class="preprocessor">#define EXPORT_OPTION_MD_READ_ACCESS  0x00040000        </span><span class="comment">/* MDONLY_RO_Access= option specified  */</span>
<a name="l00243"></a>00243 
<a name="l00244"></a>00244 <span class="comment">/* @todo BUGAZOMEU : Mettre au carre les flags des flavors */</span>
<a name="l00245"></a>00245 
<a name="l00246"></a><a class="code" href="nfs__exports_8h.html#aadce08b70a623e3aa2a8a923ab340626">00246</a> <span class="preprocessor">#define EXPORT_OPTION_AUTH_NONE       0x00010000        </span><span class="comment">/* Auth None authentication supported  */</span>
<a name="l00247"></a><a class="code" href="nfs__exports_8h.html#a8699fbd7ddd3853b934f57608ca56e51">00247</a> <span class="preprocessor">#define EXPORT_OPTION_AUTH_UNIX       0x00020000        </span><span class="comment">/* Auth Unix authentication supported  */</span>
<a name="l00248"></a>00248 
<a name="l00249"></a><a class="code" href="nfs__exports_8h.html#a4708a89bc3bc8cd8063789d3c6cbf951">00249</a> <span class="preprocessor">#define EXPORT_OPTION_RPCSEC_GSS_NONE 0x00040000        </span><span class="comment">/* RPCSEC_GSS_NONE supported           */</span>
<a name="l00250"></a><a class="code" href="nfs__exports_8h.html#a155226b9688ca2d30b1cbb53edca3207">00250</a> <span class="preprocessor">#define EXPORT_OPTION_RPCSEC_GSS_INTG 0x00080000        </span><span class="comment">/* RPCSEC_GSS INTEGRITY supported      */</span>
<a name="l00251"></a><a class="code" href="nfs__exports_8h.html#ae99a1dd17e736b3a8f60ec3e756c5453">00251</a> <span class="preprocessor">#define EXPORT_OPTION_RPCSEC_GSS_PRIV 0x00100000        </span><span class="comment">/* RPCSEC_GSS PRIVACY supported        */</span>
<a name="l00252"></a>00252 
<a name="l00253"></a>00253 <span class="comment">/* protocol flags */</span>
<a name="l00254"></a><a class="code" href="nfs__exports_8h.html#a0c1f241798a079101e61e8dff2344c3e">00254</a> <span class="preprocessor">#define EXPORT_OPTION_NFSV2           0x00200000        </span><span class="comment">/* NFSv2 operations are supported      */</span>
<a name="l00255"></a><a class="code" href="nfs__exports_8h.html#a8eb509796037d78741ada0471bd6625d">00255</a> <span class="preprocessor">#define EXPORT_OPTION_NFSV3           0x00400000        </span><span class="comment">/* NFSv3 operations are supported      */</span>
<a name="l00256"></a><a class="code" href="nfs__exports_8h.html#a37a8e57ee68142c3e38240156723a2d6">00256</a> <span class="preprocessor">#define EXPORT_OPTION_NFSV4           0x00800000        </span><span class="comment">/* NFSv4 operations are supported      */</span>
<a name="l00257"></a><a class="code" href="nfs__exports_8h.html#a101f2c2e10ebe35d2c6fda5dc7faf082">00257</a> <span class="preprocessor">#define EXPORT_OPTION_UDP             0x01000000        </span><span class="comment">/* UDP protocol is supported      */</span>
<a name="l00258"></a><a class="code" href="nfs__exports_8h.html#a2389c1b4b17583d002d7573b4f6a87a8">00258</a> <span class="preprocessor">#define EXPORT_OPTION_TCP             0x02000000        </span><span class="comment">/* TCP protocol is supported      */</span>
<a name="l00259"></a>00259 
<a name="l00260"></a>00260 <span class="comment">/* Maximum offset set for R/W */</span>
<a name="l00261"></a><a class="code" href="nfs__exports_8h.html#af46bc956afe222a699b9d74027890359">00261</a> <span class="preprocessor">#define EXPORT_OPTION_MAXOFFSETWRITE  0x04000000        </span><span class="comment">/* Maximum Offset for write is set  */</span>
<a name="l00262"></a><a class="code" href="nfs__exports_8h.html#ad5df8086b1fcbb47d38ef1f336ebf11c">00262</a> <span class="preprocessor">#define EXPORT_OPTION_MAXOFFSETREAD   0x08000000        </span><span class="comment">/* Maximum Offset for read is set   */</span>
<a name="l00263"></a><a class="code" href="nfs__exports_8h.html#a0fd5f6d2c88ee59fec3f182254dbdf00">00263</a> <span class="preprocessor">#define EXPORT_OPTION_MAXCACHESIZE    0x10000000        </span><span class="comment">/* Maximum Offset for read is set   */</span>
<a name="l00264"></a><a class="code" href="nfs__exports_8h.html#a634c457134c62edf938fcdbdba0048e2">00264</a> <span class="preprocessor">#define EXPORT_OPTION_USE_PNFS        0x20000000        </span><span class="comment">/* Using pNFS or not using pNFS ?   */</span>
<a name="l00265"></a><a class="code" href="nfs__exports_8h.html#a3fed41319c10c2f64aa55c41f4400e81">00265</a> <span class="preprocessor">#define EXPORT_OPTION_USE_UQUOTA      0x40000000        </span><span class="comment">/* Using user quota for this export */</span>
<a name="l00266"></a>00266 
<a name="l00267"></a>00267 <span class="comment">/* nfs_export_check_access() return values */</span>
<a name="l00268"></a><a class="code" href="nfs__exports_8h.html#aedc8a2a9a6c318cd94597322e7cf9eb9">00268</a> <span class="preprocessor">#define EXPORT_PERMISSION_GRANTED            0x00000001</span>
<a name="l00269"></a><a class="code" href="nfs__exports_8h.html#a1728851dac5fda24ca124e4ad0f31d04">00269</a> <span class="preprocessor"></span><span class="preprocessor">#define EXPORT_MDONLY_GRANTED                0x00000002</span>
<a name="l00270"></a><a class="code" href="nfs__exports_8h.html#a2a1bdc919612171f29d4fb2827663615">00270</a> <span class="preprocessor"></span><span class="preprocessor">#define EXPORT_PERMISSION_DENIED             0x00000003</span>
<a name="l00271"></a><a class="code" href="nfs__exports_8h.html#a0a58e2be77e5a42d23f9e2e6d531a170">00271</a> <span class="preprocessor"></span><span class="preprocessor">#define EXPORT_WRITE_ATTEMPT_WHEN_RO         0x00000004</span>
<a name="l00272"></a><a class="code" href="nfs__exports_8h.html#aa9b3fa3a818b215089772138163693f9">00272</a> <span class="preprocessor"></span><span class="preprocessor">#define EXPORT_WRITE_ATTEMPT_WHEN_MDONLY_RO  0x00000005</span>
<a name="l00273"></a>00273 <span class="preprocessor"></span>
<a name="l00274"></a>00274 
<a name="l00275"></a>00275 <span class="comment">/* NFS4 specific structures */</span>
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 <span class="comment">/*</span>
<a name="l00278"></a>00278 <span class="comment"> * PseudoFs Tree</span>
<a name="l00279"></a>00279 <span class="comment"> */</span>
<a name="l00280"></a><a class="code" href="structpseudofs__entry.html">00280</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structpseudofs__entry.html">pseudofs_entry</a>
<a name="l00281"></a>00281 {
<a name="l00282"></a><a class="code" href="structpseudofs__entry.html#aaf0ad5fc99a540ea8ec13b9931ab9578">00282</a>   <span class="keywordtype">char</span> <a class="code" href="mount_8h.html#a2946c588fc7fa2fa5b43ac54b7872725">name</a>[MAXNAMLEN];                         
<a name="l00283"></a><a class="code" href="structpseudofs__entry.html#a39769af84a429149daa9a14be5e594d6">00283</a>   <span class="keywordtype">char</span> <a class="code" href="structpseudofs__entry.html#a39769af84a429149daa9a14be5e594d6">fullname</a>[<a class="code" href="tests_8h.html#addfa831c1473e710d2b71b72fd7fcfa5">MAXPATHLEN</a>];                    
<a name="l00284"></a><a class="code" href="structpseudofs__entry.html#a7324d8836bbd19c54a791f02da5e66fb">00284</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structpseudofs__entry.html#a7324d8836bbd19c54a791f02da5e66fb">pseudo_id</a>;                       
<a name="l00285"></a><a class="code" href="structpseudofs__entry.html#a9a209e6365b5eeef66b1e904b3998021">00285</a>   <a class="code" href="structexportlist____.html">exportlist_t</a> *<a class="code" href="structpseudofs__entry.html#a9a209e6365b5eeef66b1e904b3998021">junction_export</a>;                
<a name="l00286"></a><a class="code" href="structpseudofs__entry.html#afa1d3d80d7b5e446367e09fbbdc53388">00286</a>   <span class="keyword">struct </span><a class="code" href="structpseudofs__entry.html">pseudofs_entry</a> *<a class="code" href="structpseudofs__entry.html#afa1d3d80d7b5e446367e09fbbdc53388">sons</a>;                  
<a name="l00287"></a><a class="code" href="structpseudofs__entry.html#a2a2403ff2b08070abda265190bdecef1">00287</a>   <span class="keyword">struct </span><a class="code" href="structpseudofs__entry.html">pseudofs_entry</a> *<a class="code" href="structpseudofs__entry.html#a2a2403ff2b08070abda265190bdecef1">parent</a>;                
<a name="l00288"></a><a class="code" href="structpseudofs__entry.html#a80d0ce70119c3ebc94b954e7d03127a4">00288</a>   <span class="keyword">struct </span><a class="code" href="structpseudofs__entry.html">pseudofs_entry</a> *<a class="code" href="structpseudofs__entry.html#a80d0ce70119c3ebc94b954e7d03127a4">next</a>;                  
<a name="l00289"></a><a class="code" href="structpseudofs__entry.html#a6d13695483f0be78691d05e6625b2704">00289</a>   <span class="keyword">struct </span><a class="code" href="structpseudofs__entry.html">pseudofs_entry</a> *<a class="code" href="structpseudofs__entry.html#a6d13695483f0be78691d05e6625b2704">last</a>;                  
<a name="l00290"></a>00290 } <a class="code" href="nfs__exports_8h.html#af49fb18dc1a2b1dd80bd48c2ad9b4cd6">pseudofs_entry_t</a>;
<a name="l00291"></a>00291 
<a name="l00292"></a><a class="code" href="nfs__exports_8h.html#a901854dc01d0f537204b1bbcd2785d94">00292</a> <span class="preprocessor">#define MAX_PSEUDO_ENTRY 100</span>
<a name="l00293"></a><a class="code" href="structpseudofs.html">00293</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structpseudofs.html">pseudofs</a>
<a name="l00294"></a>00294 {
<a name="l00295"></a><a class="code" href="structpseudofs.html#a6412c2e39390d286a32ad9c82d4f98bb">00295</a>   <a class="code" href="structpseudofs__entry.html">pseudofs_entry_t</a> <a class="code" href="structpseudofs.html#a6412c2e39390d286a32ad9c82d4f98bb">root</a>;
<a name="l00296"></a><a class="code" href="structpseudofs.html#a12af85e1001e1e33b3f73c86345831cd">00296</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structpseudofs.html#a12af85e1001e1e33b3f73c86345831cd">last_pseudo_id</a>;
<a name="l00297"></a><a class="code" href="structpseudofs.html#a8d023596813d5c81686467de11fb7488">00297</a>   <a class="code" href="structpseudofs__entry.html">pseudofs_entry_t</a> *<a class="code" href="structpseudofs.html#a8d023596813d5c81686467de11fb7488">reverse_tab</a>[<a class="code" href="nfs__exports_8h.html#a901854dc01d0f537204b1bbcd2785d94">MAX_PSEUDO_ENTRY</a>];
<a name="l00298"></a>00298 } <a class="code" href="nfs__exports_8h.html#a1920423dbf333021ce3bf236a052facd">pseudofs_t</a>;
<a name="l00299"></a>00299 
<a name="l00300"></a><a class="code" href="nfs__exports_8h.html#a6b39214d8b193a4874e3852afed7e802">00300</a> <span class="preprocessor">#define NFS_CLIENT_NAME_LEN 256</span>
<a name="l00301"></a><a class="code" href="structnfs__client__cred__gss____.html">00301</a> <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structnfs__client__cred__gss____.html">nfs_client_cred_gss__</a>
<a name="l00302"></a>00302 {
<a name="l00303"></a><a class="code" href="structnfs__client__cred__gss____.html#a460dfd1ab76077efb0c197f0278f9d00">00303</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structnfs__client__cred__gss____.html#a460dfd1ab76077efb0c197f0278f9d00">svc</a>;
<a name="l00304"></a><a class="code" href="structnfs__client__cred__gss____.html#a629c7d4aca16527bac8e2d4bd3392b8d">00304</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structnfs__client__cred__gss____.html#a629c7d4aca16527bac8e2d4bd3392b8d">qop</a>;
<a name="l00305"></a><a class="code" href="structnfs__client__cred__gss____.html#ae698e08f818972b14ae7d9e951118f92">00305</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structnfs__client__cred__gss____.html#ae698e08f818972b14ae7d9e951118f92">cname</a>[<a class="code" href="nfs__exports_8h.html#a6b39214d8b193a4874e3852afed7e802">NFS_CLIENT_NAME_LEN</a>];
<a name="l00306"></a><a class="code" href="structnfs__client__cred__gss____.html#af8df65ef97f45e8862d64f431cee72ae">00306</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structnfs__client__cred__gss____.html#af8df65ef97f45e8862d64f431cee72ae">stroid</a>[<a class="code" href="nfs__exports_8h.html#a6b39214d8b193a4874e3852afed7e802">NFS_CLIENT_NAME_LEN</a>];
<a name="l00307"></a>00307 <span class="preprocessor">#ifdef _HAVE_GSSAPI</span>
<a name="l00308"></a>00308 <span class="preprocessor"></span>  gss_ctx_id_t gss_context_id;
<a name="l00309"></a>00309 <span class="preprocessor">#endif</span>
<a name="l00310"></a>00310 <span class="preprocessor"></span>} <a class="code" href="nfs__exports_8h.html#a92c46e3b2aaed5bec2dd26f0f588456c">nfs_client_cred_gss_t</a>;
<a name="l00311"></a>00311 
<a name="l00312"></a><a class="code" href="structnfs__client__cred____.html">00312</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structnfs__client__cred____.html">nfs_client_cred__</a>
<a name="l00313"></a>00313 {
<a name="l00314"></a><a class="code" href="structnfs__client__cred____.html#a578374cd98f3b4fa2d55d7e146f7e714">00314</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structnfs__client__cred____.html#a578374cd98f3b4fa2d55d7e146f7e714">flavor</a>;
<a name="l00315"></a><a class="code" href="structnfs__client__cred____.html#a560dfa846b836a74fd8211839d48fb57">00315</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structnfs__client__cred____.html#a560dfa846b836a74fd8211839d48fb57">length</a>;
<a name="l00316"></a>00316   <span class="keyword">union</span>
<a name="l00317"></a>00317   {
<a name="l00318"></a><a class="code" href="structnfs__client__cred____.html#af69085a3f65a60c1ad37b69474f2faaa">00318</a>     <span class="keyword">struct </span>authunix_parms <a class="code" href="structnfs__client__cred____.html#af69085a3f65a60c1ad37b69474f2faaa">auth_unix</a>;
<a name="l00319"></a><a class="code" href="structnfs__client__cred____.html#a575d6bc4eb4fc2c67b4ad817cba6124a">00319</a>     <a class="code" href="structnfs__client__cred__gss____.html">nfs_client_cred_gss_t</a> <a class="code" href="structnfs__client__cred____.html#a575d6bc4eb4fc2c67b4ad817cba6124a">auth_gss</a>;
<a name="l00320"></a>00320   } <a class="code" href="structnfs__client__cred____.html#ae7b9eb72586c166e077c7b7657dcefd7">auth_union</a>;
<a name="l00321"></a>00321 } <a class="code" href="nfs__exports_8h.html#a8d34cddedde5724c1e46b819a0cd772c">nfs_client_cred_t</a>;
<a name="l00322"></a>00322 
<a name="l00323"></a><a class="code" href="nfs__exports_8h.html#ae2d88ff94d4d18d2ac5d8c92d943efdf">00323</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structnfs__worker__data____.html">nfs_worker_data__</a> <a class="code" href="structnfs__worker__data____.html">nfs_worker_data_t</a>;
<a name="l00324"></a>00324 
<a name="l00331"></a>00331 <span class="comment">/* Forward references to SAL types */</span>
<a name="l00332"></a><a class="code" href="nfs__exports_8h.html#a7159438e6ac35e1bbf446a6e534a7aab">00332</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structnfs41__session____.html">nfs41_session__</a> <a class="code" href="structnfs41__session____.html">nfs41_session_t</a>;
<a name="l00333"></a><a class="code" href="nfs__exports_8h.html#a4895b836e436d15f0a7e9d45dc85ea30">00333</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structnfs__client__id__t.html">nfs_client_id_t</a> <a class="code" href="structnfs__client__id__t.html">nfs_client_id_t</a>;
<a name="l00334"></a><a class="code" href="nfs__exports_8h.html#aa8eca8684190b18ea57cfb50eeb7d926">00334</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structCOMPOUND4res__extended.html">COMPOUND4res_extended</a> <a class="code" href="structCOMPOUND4res__extended.html">COMPOUND4res_extended</a>;
<a name="l00335"></a>00335 
<a name="l00342"></a><a class="code" href="structcompoud__data.html">00342</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structcompoud__data.html" title="Compound data.">compoud_data</a>
<a name="l00343"></a>00343 {
<a name="l00344"></a><a class="code" href="structcompoud__data.html#ab678a4d34551041e9b4ac9d2dfae4801">00344</a>   <a class="code" href="structnfs__fh4.html">nfs_fh4</a> <a class="code" href="structcompoud__data.html#ab678a4d34551041e9b4ac9d2dfae4801">currentFH</a>; <span class="comment">/*&lt; Current filehandle */</span>
<a name="l00345"></a><a class="code" href="structcompoud__data.html#af65dc41541647ee1f4bc4b864db7c04f">00345</a>   <a class="code" href="structnfs__fh4.html">nfs_fh4</a> <a class="code" href="structcompoud__data.html#af65dc41541647ee1f4bc4b864db7c04f">rootFH</a>; <span class="comment">/*&lt; Root filehandle */</span>
<a name="l00346"></a><a class="code" href="structcompoud__data.html#a74ed373ec0737d536716292f02226a66">00346</a>   <a class="code" href="structnfs__fh4.html">nfs_fh4</a> <a class="code" href="structcompoud__data.html#a74ed373ec0737d536716292f02226a66">savedFH</a>; <span class="comment">/*&lt; Saved filehandle */</span>
<a name="l00347"></a><a class="code" href="structcompoud__data.html#a01250d70ed0092f7ab4872e32c1ed46b">00347</a>   <a class="code" href="structnfs__fh4.html">nfs_fh4</a> <a class="code" href="structcompoud__data.html#a01250d70ed0092f7ab4872e32c1ed46b">publicFH</a>; <span class="comment">/*&lt; Public filehandle */</span>
<a name="l00348"></a><a class="code" href="structcompoud__data.html#aedf28d24c2d6c917349a96dbbcc1856d">00348</a>   <a class="code" href="structnfs__fh4.html">nfs_fh4</a> <a class="code" href="structcompoud__data.html#aedf28d24c2d6c917349a96dbbcc1856d">mounted_on_FH</a>; <span class="comment">/*&lt; File handle to &quot;mounted on&quot; File System */</span>
<a name="l00349"></a><a class="code" href="structcompoud__data.html#a02970976b2722f7156c1c5da09116cda">00349</a>   <a class="code" href="structstateid4.html">stateid4</a> <a class="code" href="structcompoud__data.html#a02970976b2722f7156c1c5da09116cda">current_stateid</a>; <span class="comment">/*&lt; Current stateid */</span>
<a name="l00350"></a><a class="code" href="structcompoud__data.html#aeaddfb7ab239e304a8b6284924a24a90">00350</a>   bool_t <a class="code" href="structcompoud__data.html#aeaddfb7ab239e304a8b6284924a24a90">current_stateid_valid</a>; <span class="comment">/*&lt; Current stateid is valid */</span>
<a name="l00351"></a><a class="code" href="structcompoud__data.html#aece5d76be1acb1102e2116d3a03615f8">00351</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structcompoud__data.html#aece5d76be1acb1102e2116d3a03615f8">minorversion</a>; <span class="comment">/*&lt; NFSv4 minor version */</span>
<a name="l00352"></a><a class="code" href="structcompoud__data.html#a68044da90b24d713271740a42f88838a">00352</a>   <a class="code" href="structcache__entry__t.html" title="Represents a cached inode.">cache_entry_t</a> *<a class="code" href="structcompoud__data.html#a68044da90b24d713271740a42f88838a">current_entry</a>; <span class="comment">/*&lt; Cache entry for current filehandle */</span>
<a name="l00353"></a><a class="code" href="structcompoud__data.html#a4651053c209ffc8635660df88ed6c8a0">00353</a>   <a class="code" href="structcache__entry__t.html" title="Represents a cached inode.">cache_entry_t</a> *<a class="code" href="structcompoud__data.html#a4651053c209ffc8635660df88ed6c8a0">saved_entry</a>; <span class="comment">/*&lt; Cache entry for saved filehandle */</span>
<a name="l00354"></a><a class="code" href="structcompoud__data.html#ada60900c03d5b9d1ea618f97a56c31a4">00354</a>   <a class="code" href="cache__inode_8h.html#ae017962c50fe48834d8638069c7edc99">cache_inode_file_type_t</a> <a class="code" href="structcompoud__data.html#ada60900c03d5b9d1ea618f97a56c31a4">current_filetype</a>; <span class="comment">/*&lt; File type of current entry */</span>
<a name="l00355"></a><a class="code" href="structcompoud__data.html#ad1082e2a044afc783a03104714c6dbd8">00355</a>   <a class="code" href="cache__inode_8h.html#ae017962c50fe48834d8638069c7edc99">cache_inode_file_type_t</a> <a class="code" href="structcompoud__data.html#ad1082e2a044afc783a03104714c6dbd8">saved_filetype</a>; <span class="comment">/*&lt; File type of saved entry */</span>
<a name="l00356"></a><a class="code" href="structcompoud__data.html#a7e30266eb1770e922a88cb7b11ac7f01">00356</a>   <a class="code" href="structfsal__op__context____.html">fsal_op_context_t</a> *<a class="code" href="structcompoud__data.html#a7e30266eb1770e922a88cb7b11ac7f01">pcontext</a>; <span class="comment">/*&lt; Credentials related to this</span>
<a name="l00357"></a>00357 <span class="comment">                                   fileset (to handle different uid</span>
<a name="l00358"></a>00358 <span class="comment">                                   mapping) */</span>
<a name="l00359"></a><a class="code" href="structcompoud__data.html#aa44e02b685a675a6beb59faac8c9dc78">00359</a>   <a class="code" href="structexportlist____.html">exportlist_t</a> *<a class="code" href="structcompoud__data.html#aa44e02b685a675a6beb59faac8c9dc78">pexport</a>; <span class="comment">/*&lt; Export entry related to the request */</span>
<a name="l00360"></a><a class="code" href="structcompoud__data.html#a7985a18affb9c3f433f16dc74123b8f9">00360</a>   <a class="code" href="structexportlist____.html">exportlist_t</a> *<a class="code" href="structcompoud__data.html#a7985a18affb9c3f433f16dc74123b8f9">pfullexportlist</a>; <span class="comment">/*&lt; The whole exportlist */</span>
<a name="l00361"></a><a class="code" href="structcompoud__data.html#a2f2664ced67cd8d2694c84a44104d325">00361</a>   <a class="code" href="structpseudofs.html">pseudofs_t</a> *<a class="code" href="structcompoud__data.html#a2f2664ced67cd8d2694c84a44104d325">pseudofs</a>; <span class="comment">/*&lt; Pointer to the pseudo filesystem tree */</span>
<a name="l00362"></a><a class="code" href="structcompoud__data.html#a370d36f951a025dfa9af3ea40639af9e">00362</a>   <span class="keywordtype">char</span> <a class="code" href="structcompoud__data.html#a370d36f951a025dfa9af3ea40639af9e">MntPath</a>[<a class="code" href="tests_8h.html#addfa831c1473e710d2b71b72fd7fcfa5">MAXPATHLEN</a>]; <span class="comment">/*&lt; Path (in pseudofs) of the current entry */</span>
<a name="l00363"></a><a class="code" href="structcompoud__data.html#a63060447acb681735feb223b8e2b1e4c">00363</a>   <span class="keyword">struct </span>svc_req *<a class="code" href="structcompoud__data.html#a63060447acb681735feb223b8e2b1e4c">reqp</a>; <span class="comment">/*&lt; RPC Request related to the compound */</span>
<a name="l00364"></a><a class="code" href="structcompoud__data.html#aa91cb07627ff826c4b23dab684f2252d">00364</a>   <span class="keyword">struct </span><a class="code" href="structnfs__worker__data____.html">nfs_worker_data__</a> *<a class="code" href="structcompoud__data.html#aa91cb07627ff826c4b23dab684f2252d">pworker</a>; <span class="comment">/*&lt; Worker thread data */</span>
<a name="l00365"></a><a class="code" href="structcompoud__data.html#a9cdf1b1f7fe0ac780ddd0ac4cef061e5">00365</a>   <a class="code" href="structnfs__client__cred____.html">nfs_client_cred_t</a> <a class="code" href="structcompoud__data.html#a9cdf1b1f7fe0ac780ddd0ac4cef061e5">credential</a>; <span class="comment">/*&lt; Raw RPC credentials */</span>
<a name="l00366"></a><a class="code" href="structcompoud__data.html#a963a336a3d71cbe5badeaa160a71ea22">00366</a>   <a class="code" href="structnfs__client__id__t.html">nfs_client_id_t</a> *<a class="code" href="structcompoud__data.html#a963a336a3d71cbe5badeaa160a71ea22">preserved_clientid</a>; <span class="comment">/*&lt; clientid that has lease</span>
<a name="l00367"></a>00367 <span class="comment">                                           reserved, if any */</span>
<a name="l00368"></a>00368 <span class="preprocessor">#ifdef _USE_NFS4_1</span>
<a name="l00369"></a>00369 <span class="preprocessor"></span>  <a class="code" href="structCOMPOUND4res__extended.html">COMPOUND4res_extended</a> *pcached_res; <span class="comment">/*&lt; NFv41: pointer to cached RPC res in</span>
<a name="l00370"></a>00370 <span class="comment">                                          a session&#39;s slot */</span>
<a name="l00371"></a>00371   bool_t use_drc; <span class="comment">/*&lt; Set to TRUE if session DRC is to be used */</span>
<a name="l00372"></a>00372   <a class="code" href="extended__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> oppos; <span class="comment">/*&lt; Position of the operation within the request</span>
<a name="l00373"></a>00373 <span class="comment">                      processed  */</span>
<a name="l00374"></a>00374   <a class="code" href="structnfs41__session____.html">nfs41_session_t</a> *psession; <span class="comment">/*&lt; Related session (found by OP_SEQUENCE) */</span>
<a name="l00375"></a>00375 <span class="preprocessor">#endif                          </span><span class="comment">/* USE_NFS4_1 */</span>
<a name="l00376"></a>00376 } <a class="code" href="nfs__exports_8h.html#a4be2ebd35270899dfdb8ec623edffe5a" title="Compound data.">compound_data_t</a>;
<a name="l00377"></a>00377 
<a name="l00378"></a>00378 <span class="comment">/* Export list related functions */</span>
<a name="l00379"></a>00379 <a class="code" href="structexportlist____.html">exportlist_t</a> *<a class="code" href="nfs__exports_8h.html#a7ccd248588595588755f71322288a8df">nfs_Get_export_by_id</a>(<a class="code" href="structexportlist____.html">exportlist_t</a> * exportroot,
<a name="l00380"></a>00380                                    <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> exportid);
<a name="l00381"></a>00381 <span class="keywordtype">int</span> <a class="code" href="nfs__exports_8h.html#ab567937cabef9dc08628909b09662dc8">nfs_check_anon</a>(<a class="code" href="structexportlist__client__entry____.html">exportlist_client_entry_t</a> * pexport_client,
<a name="l00382"></a>00382                     <a class="code" href="structexportlist____.html">exportlist_t</a> * pexport,
<a name="l00383"></a>00383                     <span class="keyword">struct</span> <a class="code" href="structuser__cred.html">user_cred</a> *<a class="code" href="structuser__credentials.html">user_credentials</a>);
<a name="l00384"></a>00384 <span class="keywordtype">int</span> <a class="code" href="nfs__exports_8h.html#a2c7d1b3908d57b8cd77f54574929c791">nfs_build_fsal_context</a>(<span class="keyword">struct</span> svc_req *ptr_req,
<a name="l00385"></a>00385                            <a class="code" href="structexportlist____.html">exportlist_t</a> * pexport,
<a name="l00386"></a>00386                            <a class="code" href="structfsal__op__context____.html">fsal_op_context_t</a> * pcontext,
<a name="l00387"></a>00387                            <span class="keyword">struct</span> <a class="code" href="structuser__cred.html">user_cred</a> *<a class="code" href="structuser__credentials.html">user_credentials</a>);
<a name="l00388"></a>00388 <span class="keywordtype">int</span> <a class="code" href="nfs__exports_8h.html#a847064b299d18b920879397a76394da7">get_req_uid_gid</a>(<span class="keyword">struct</span> svc_req *ptr_req,
<a name="l00389"></a>00389                     <a class="code" href="structexportlist____.html">exportlist_t</a> * pexport,
<a name="l00390"></a>00390                     <span class="keyword">struct</span> <a class="code" href="structuser__cred.html">user_cred</a> *<a class="code" href="structuser__credentials.html">user_credentials</a>);
<a name="l00391"></a>00391 
<a name="l00392"></a>00392 
<a name="l00393"></a>00393 <span class="keywordtype">int</span> <a class="code" href="nfs__exports_8h.html#a092a50c55308780f5296a0689708a7a3">nfs_compare_clientcred</a>(<a class="code" href="structnfs__client__cred____.html">nfs_client_cred_t</a> * pcred1, <a class="code" href="structnfs__client__cred____.html">nfs_client_cred_t</a> * pcred2);
<a name="l00394"></a>00394 <span class="keywordtype">int</span> <a class="code" href="nfs__exports_8h.html#a5b5ea3e846260e2960ae8cf64f6b42de">nfs_rpc_req2client_cred</a>(<span class="keyword">struct</span> svc_req *reqp, <a class="code" href="structnfs__client__cred____.html">nfs_client_cred_t</a> * pcred);
<a name="l00395"></a>00395 
<a name="l00396"></a>00396 <span class="keywordtype">int</span> <a class="code" href="nfs__exports_8h.html#a8dde757a47cad9c8396d6593096f714c">nfs_export_check_access</a>(<a class="code" href="ganesha__rpc_8h.html#a42f3261a45141da24a6d18194eae1c91">sockaddr_t</a> *<a class="code" href="structnfs__worker__data____.html#a16e9ef80c974f00aaf012525e7213fd4">hostaddr</a>,
<a name="l00397"></a>00397                             <span class="keyword">struct</span> svc_req *ptr_req,
<a name="l00398"></a>00398                             <a class="code" href="structexportlist____.html">exportlist_t</a> * pexport,
<a name="l00399"></a>00399                             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nfs_prog,
<a name="l00400"></a>00400                             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mnt_prog,
<a name="l00401"></a>00401                             <a class="code" href="structhash__table.html">hash_table_t</a> * <a class="code" href="nfs__init_8c.html#a3dc6d52e1b7aca5314a422a52fedc551">ht_ip_stats</a>,
<a name="l00402"></a>00402                             <a class="code" href="structpool.html" title="Type representing a pool.">pool_t</a> *<a class="code" href="nfs__core_8h.html#ae764f3008acff52e16850c39adfd6eda">ip_stats_pool</a>,
<a name="l00403"></a>00403                             <a class="code" href="structexportlist__client__entry____.html">exportlist_client_entry_t</a> * pclient_found,
<a name="l00404"></a>00404                             <span class="keyword">struct</span> <a class="code" href="structuser__cred.html">user_cred</a> *<a class="code" href="structuser__credentials.html">user_credentials</a>,
<a name="l00405"></a>00405                             bool_t proc_makes_write);
<a name="l00406"></a>00406 
<a name="l00407"></a>00407 <span class="keywordtype">int</span> <a class="code" href="nfs__exports_8h.html#a33c17d2bbbda93508c94f8833487a984">nfs_export_check_security</a>(<span class="keyword">struct</span> svc_req *ptr_req, <a class="code" href="structexportlist____.html">exportlist_t</a> * pexport);
<a name="l00408"></a>00408 
<a name="l00409"></a>00409 <span class="keywordtype">int</span> <a class="code" href="nfs__exports_8h.html#af85e5682e820e2984b355090514f22a6">nfs_export_tag2path</a>(<a class="code" href="structexportlist____.html">exportlist_t</a> * exportroot, <span class="keywordtype">char</span> *tag, <span class="keywordtype">int</span> taglen, <span class="keywordtype">char</span> *path,
<a name="l00410"></a>00410                         <span class="keywordtype">int</span> pathlen);
<a name="l00411"></a>00411 
<a name="l00412"></a>00412 <span class="preprocessor">#endif                          </span><span class="comment">/* _NFS_EXPORTS_H */</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Nov 21 2012 for nfs-ganesha by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
