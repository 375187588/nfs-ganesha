<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>nfs-ganesha: posixdb_add.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nfs-ganesha&#160;<span id="projectnumber">1.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>posixdb_add.c File Reference</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="PGSQL_2posixdb__internal_8h_source.html">posixdb_internal.h</a>&quot;</code><br/>
<code>#include &quot;posixdb_consistency.h&quot;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
</div>
<p><a href="PGSQL_2posixdb__add_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PGSQL_2posixdb__add_8c.html#a31c3d4293021a6b87a0a757d272c9c53">fsal_posixdb_add</a> (fsal_posixdb_conn *p_conn, <a class="el" href="structfsal__posixdb__fileinfo__t.html">fsal_posixdb_fileinfo_t</a> *p_object_info, <a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *p_parent_directory_handle, <a class="el" href="structfsal__name____.html">fsal_name_t</a> *p_filename, <a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *p_object_handle)</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a31c3d4293021a6b87a0a757d272c9c53"></a><!-- doxytag: member="PGSQL/posixdb_add.c::fsal_posixdb_add" ref="a31c3d4293021a6b87a0a757d272c9c53" args="(fsal_posixdb_conn *p_conn, fsal_posixdb_fileinfo_t *p_object_info, posixfsal_handle_t *p_parent_directory_handle, fsal_name_t *p_filename, posixfsal_handle_t *p_object_handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__posixdb__status__t.html">fsal_posixdb_status_t</a> fsal_posixdb_add </td>
          <td>(</td>
          <td class="paramtype">fsal_posixdb_conn *&#160;</td>
          <td class="paramname"><em>p_conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__posixdb__fileinfo__t.html">fsal_posixdb_fileinfo_t</a> *&#160;</td>
          <td class="paramname"><em>p_object_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_parent_directory_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsal__name____.html">fsal_name_t</a> *&#160;</td>
          <td class="paramname"><em>p_filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionposixfsal__handle__t.html">posixfsal_handle_t</a> *&#160;</td>
          <td class="paramname"><em>p_object_handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fsal_posixdb_add: Add an object in the database (identified by its name and its parent directory). Create an entry in the Handle table if needed, and add (or replace existing) an entry in the Path table.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>(input) Database connection </td></tr>
    <tr><td class="paramname">p_object_info</td><td>(input): POSIX information of the object to add (device ID, inode, ...) </td></tr>
    <tr><td class="paramname">p_parent_directory_handle</td><td>(input): Handle of the parent directory of the object to add. </td></tr>
    <tr><td class="paramname">p_filename</td><td>(input): The name of the object to add. </td></tr>
    <tr><td class="paramname">p_object_handle</td><td>(output): FSAL handle of the added entry. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- FSAL_POSIXDB_NOERR, if no error.<ul>
<li>Another error code else. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="PGSQL_2posixdb__add_8c_source.html#l00013">13</a> of file <a class="el" href="PGSQL_2posixdb__add_8c_source.html">PGSQL/posixdb_add.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Nov 21 2012 for nfs-ganesha by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
