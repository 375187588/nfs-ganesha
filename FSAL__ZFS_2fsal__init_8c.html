<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>nfs-ganesha: fsal_init.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nfs-ganesha&#160;<span id="projectnumber">1.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>fsal_init.c File Reference</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;fsal.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="FSAL__ZFS_2fsal__internal_8h_source.html">fsal_internal.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="FSAL__ZFS_2fsal__common_8h_source.html">fsal_common.h</a>&quot;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
</div>
<p><a href="FSAL__ZFS_2fsal__init_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__init_8c.html#af14535cd2817caa5f733009ac5981752">__attribute</a> ((unused))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__init_8c.html#a8e7272864a269a5cf84fc0352d746c19">ZFSFSAL_terminate</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__init_8c.html#ad861c1b4a6ecceb5db57bc8cf39f9d29">i_snapshots</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsnapshot__t.html">snapshot_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__init_8c.html#aa82f26badf6aa64d71716f29a354423c">p_snapshots</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">pthread_rwlock_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__init_8c.html#ae32ab639b85b9ec4445575e783a4521d">vfs_lock</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">pthread_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__ZFS_2fsal__init_8c.html#af6d405488746216d9ba2487c64a8bcef">snapshot_thread</a></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="af14535cd2817caa5f733009ac5981752"></a><!-- doxytag: member="FSAL_ZFS/fsal_init.c::__attribute" ref="af14535cd2817caa5f733009ac5981752" args="((unused))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__attribute </td>
          <td>(</td>
          <td class="paramtype">(unused)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_Init : Initializes the FileSystem Abstraction Layer.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">init_info</td><td>(input, fsal_parameter_t *) : Pointer to a structure that contains all initialization parameters for the FSAL. Specifically, it contains settings about the filesystem on which the FSAL is based, security settings, logging policy and outputs, and other general FSAL options.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes : ERR_FSAL_NO_ERROR (initialisation OK) ERR_FSAL_FAULT (init_info pointer is null) ERR_FSAL_SERVERFAULT (misc FSAL error) ERR_FSAL_ALREADY_INIT (The FS is already initialized) ERR_FSAL_BAD_INIT (FS specific init error, minor error code gives the reason for this error.) ERR_FSAL_SEC_INIT (Security context init error). </dd></dl>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__init_8c_source.html#l00031">31</a> of file <a class="el" href="FSAL__ZFS_2fsal__init_8c_source.html">FSAL_ZFS/fsal_init.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8e7272864a269a5cf84fc0352d746c19"></a><!-- doxytag: member="FSAL_ZFS/fsal_init.c::ZFSFSAL_terminate" ref="a8e7272864a269a5cf84fc0352d746c19" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> ZFSFSAL_terminate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__init_8c_source.html#l00173">173</a> of file <a class="el" href="FSAL__ZFS_2fsal__init_8c_source.html">FSAL_ZFS/fsal_init.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ad861c1b4a6ecceb5db57bc8cf39f9d29"></a><!-- doxytag: member="FSAL_ZFS/fsal_init.c::i_snapshots" ref="ad861c1b4a6ecceb5db57bc8cf39f9d29" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="FSAL__ZFS_2fsal__lookup_8c.html#ad861c1b4a6ecceb5db57bc8cf39f9d29">i_snapshots</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Common FS tools for internal use in the FSAL. </p>

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__internal_8c_source.html#l00035">35</a> of file <a class="el" href="FSAL__ZFS_2fsal__internal_8c_source.html">FSAL_ZFS/fsal_internal.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa82f26badf6aa64d71716f29a354423c"></a><!-- doxytag: member="FSAL_ZFS/fsal_init.c::p_snapshots" ref="aa82f26badf6aa64d71716f29a354423c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsnapshot__t.html">snapshot_t</a>* <a class="el" href="FSAL__ZFS_2fsal__lookup_8c.html#aa82f26badf6aa64d71716f29a354423c">p_snapshots</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__internal_8c_source.html#l00036">36</a> of file <a class="el" href="FSAL__ZFS_2fsal__internal_8c_source.html">FSAL_ZFS/fsal_internal.c</a>.</p>

</div>
</div>
<a class="anchor" id="af6d405488746216d9ba2487c64a8bcef"></a><!-- doxytag: member="FSAL_ZFS/fsal_init.c::snapshot_thread" ref="af6d405488746216d9ba2487c64a8bcef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_t <a class="el" href="FSAL__ZFS_2fsal__init_8c.html#af6d405488746216d9ba2487c64a8bcef">snapshot_thread</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__init_8c_source.html#l00029">29</a> of file <a class="el" href="FSAL__ZFS_2fsal__init_8c_source.html">FSAL_ZFS/fsal_init.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae32ab639b85b9ec4445575e783a4521d"></a><!-- doxytag: member="FSAL_ZFS/fsal_init.c::vfs_lock" ref="ae32ab639b85b9ec4445575e783a4521d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_rwlock_t <a class="el" href="FSAL__ZFS_2fsal__internal_8c.html#ae32ab639b85b9ec4445575e783a4521d">vfs_lock</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FSAL__ZFS_2fsal__internal_8c_source.html#l00037">37</a> of file <a class="el" href="FSAL__ZFS_2fsal__internal_8c_source.html">FSAL_ZFS/fsal_internal.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Nov 21 2012 for nfs-ganesha by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
