<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>nfs-ganesha: fsal_init.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nfs-ganesha&#160;<span id="projectnumber">1.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>fsal_init.c File Reference</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;fsal.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="FSAL__HPSS_2fsal__internal_8h_source.html">fsal_internal.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="FSAL__HPSS_2fsal__common_8h_source.html">fsal_common.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="hpssclapiext_8h_source.html">HPSSclapiExt/hpssclapiext.h</a>&quot;</code><br/>
</div>
<p><a href="FSAL__HPSS_2fsal__init_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__init_8c.html#ad4acf7e55a5ad7300edb9d27c5865001">SET_BITMAP_PARAM</a>(api_cfg, p_init_info, _field)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__init_8c.html#a802153fcb81fd9f7b272dbf6eb477aec">SET_INTEGER_PARAM</a>(api_cfg, p_init_info, _field)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__init_8c.html#a7e81fe711a5c74c6137e9ee255672ff7">SET_STRING_PARAM</a>(api_cfg, p_init_info, _field)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__init_8c.html#a40e78ed47f8aee6bd33536a3dbe6c495">HPSSFSAL_Init</a> (<a class="el" href="structfsal__parameter____.html">fsal_parameter_t</a> *init_info)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsal__status____.html">fsal_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="FSAL__HPSS_2fsal__init_8c.html#aa178b47940a983f9d86443df3bc61fab">HPSSFSAL_terminate</a> ()</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ad4acf7e55a5ad7300edb9d27c5865001"></a><!-- doxytag: member="FSAL_HPSS/fsal_init.c::SET_BITMAP_PARAM" ref="ad4acf7e55a5ad7300edb9d27c5865001" args="(api_cfg, p_init_info, _field)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_BITMAP_PARAM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">api_cfg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">p_init_info, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_field&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">switch</span>( (p_init_info)-&gt;behaviors._field ){                \
      <span class="keywordflow">case</span> <a class="code" href="fsal__types_8h.html#ad2468d970ee4536a9190b354ab30dfd1adda35f1fa6e396f0d57c1e8ab888f1e8">FSAL_INIT_FORCE_VALUE</a> :                            \
        <span class="comment">/* force the value in any case */</span>                     \
        api_cfg._field = (p_init_info)-&gt;hpss_config._field;   \
        <span class="keywordflow">break</span>;                                                \
      <span class="keywordflow">case</span> <a class="code" href="fsal__types_8h.html#ad2468d970ee4536a9190b354ab30dfd1ad8038e61273336cc49dbc21f5de8469e">FSAL_INIT_MAX_LIMIT</a> :                              \
        <span class="comment">/* remove the flags not specified by user (AND) */</span>    \
        api_cfg._field &amp;= (p_init_info)-&gt;hpss_config._field;  \
        <span class="keywordflow">break</span>;                                                \
      <span class="keywordflow">case</span> <a class="code" href="fsal__types_8h.html#ad2468d970ee4536a9190b354ab30dfd1a5885357f3f92418a073b1ab5427b5743">FSAL_INIT_MIN_LIMIT</a> :                              \
        <span class="comment">/* add the flags specified by user (OR) */</span>            \
        api_cfg._field |= (p_init_info)-&gt;hpss_config._field;  \
        <span class="keywordflow">break</span>;                                                \
    <span class="comment">/* In the other cases, we keep the default value. */</span>      \
    }                                                         \
</pre></div>
<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__init_8c_source.html#l00081">81</a> of file <a class="el" href="FSAL__HPSS_2fsal__init_8c_source.html">FSAL_HPSS/fsal_init.c</a>.</p>

</div>
</div>
<a class="anchor" id="a802153fcb81fd9f7b272dbf6eb477aec"></a><!-- doxytag: member="FSAL_HPSS/fsal_init.c::SET_INTEGER_PARAM" ref="a802153fcb81fd9f7b272dbf6eb477aec" args="(api_cfg, p_init_info, _field)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_INTEGER_PARAM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">api_cfg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">p_init_info, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_field&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">switch</span>( (p_init_info)-&gt;behaviors._field ){                    \
    <span class="keywordflow">case</span> <a class="code" href="fsal__types_8h.html#ad2468d970ee4536a9190b354ab30dfd1adda35f1fa6e396f0d57c1e8ab888f1e8">FSAL_INIT_FORCE_VALUE</a> :                                  \
        <span class="comment">/* force the value in any case */</span>                         \
        api_cfg._field = (p_init_info)-&gt;hpss_config._field;       \
        <span class="keywordflow">break</span>;                                                \
    <span class="keywordflow">case</span> <a class="code" href="fsal__types_8h.html#ad2468d970ee4536a9190b354ab30dfd1ad8038e61273336cc49dbc21f5de8469e">FSAL_INIT_MAX_LIMIT</a> :                                    \
      <span class="comment">/* check the higher limit */</span>                                \
      <a class="code" href="test__findlog_8c.html#aeac2af981573d52c5dfaced8e45c2d1c">if</a> ( api_cfg._field &gt; (p_init_info)-&gt;hpss_config._field )   \
        api_cfg._field = (p_init_info)-&gt;hpss_config._field ;      \
        <span class="keywordflow">break</span>;                                                \
    <span class="keywordflow">case</span> <a class="code" href="fsal__types_8h.html#ad2468d970ee4536a9190b354ab30dfd1a5885357f3f92418a073b1ab5427b5743">FSAL_INIT_MIN_LIMIT</a> :                                    \
      <span class="comment">/* check the lower limit */</span>                                 \
      <span class="keywordflow">if</span> ( api_cfg._field &lt; (p_init_info)-&gt;hpss_config._field )   \
        api_cfg._field = (p_init_info)-&gt;hpss_config._field ;      \
        <span class="keywordflow">break</span>;                                                \
    <span class="comment">/* In the other cases, we keep the default value. */</span>          \
    }                                                             \
</pre></div>
<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__init_8c_source.html#l00099">99</a> of file <a class="el" href="FSAL__HPSS_2fsal__init_8c_source.html">FSAL_HPSS/fsal_init.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7e81fe711a5c74c6137e9ee255672ff7"></a><!-- doxytag: member="FSAL_HPSS/fsal_init.c::SET_STRING_PARAM" ref="a7e81fe711a5c74c6137e9ee255672ff7" args="(api_cfg, p_init_info, _field)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_STRING_PARAM</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">api_cfg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">p_init_info, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_field&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">switch</span>( (p_init_info)-&gt;behaviors._field ){                    \
    <span class="keywordflow">case</span> <a class="code" href="fsal__types_8h.html#ad2468d970ee4536a9190b354ab30dfd1adda35f1fa6e396f0d57c1e8ab888f1e8">FSAL_INIT_FORCE_VALUE</a> :                                  \
      <span class="comment">/* force the value in any case */</span>                           \
      strcpy(api_cfg._field,(p_init_info)-&gt;hpss_config._field);   \
      <span class="keywordflow">break</span>;                                                \
    <span class="comment">/* In the other cases, we keep the default value. */</span>          \
    }                                                             \
</pre></div>
<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__init_8c_source.html#l00119">119</a> of file <a class="el" href="FSAL__HPSS_2fsal__init_8c_source.html">FSAL_HPSS/fsal_init.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a40e78ed47f8aee6bd33536a3dbe6c495"></a><!-- doxytag: member="FSAL_HPSS/fsal_init.c::HPSSFSAL_Init" ref="a40e78ed47f8aee6bd33536a3dbe6c495" args="(fsal_parameter_t *init_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> HPSSFSAL_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsal__parameter____.html">fsal_parameter_t</a> *&#160;</td>
          <td class="paramname"><em>init_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_Init : Initializes the FileSystem Abstraction Layer.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">init_info</td><td>(input, fsal_parameter_t *) : Pointer to a structure that contains all initialization parameters for the FSAL. Specifically, it contains settings about the filesystem on which the FSAL is based, security settings, logging policy and outputs, and other general FSAL options.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes : ERR_FSAL_NO_ERROR (initialisation OK) ERR_FSAL_FAULT (init_info pointer is null) ERR_FSAL_SERVERFAULT (misc FSAL error) ERR_FSAL_ALREADY_INIT (The FS is already initialized) ERR_FSAL_BAD_INIT (FS specific init error, minor error code gives the reason for this error.) ERR_FSAL_SEC_INIT (Security context init error). </dd></dl>

<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__init_8c_source.html#l00254">254</a> of file <a class="el" href="FSAL__HPSS_2fsal__init_8c_source.html">FSAL_HPSS/fsal_init.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa178b47940a983f9d86443df3bc61fab"></a><!-- doxytag: member="FSAL_HPSS/fsal_init.c::HPSSFSAL_terminate" ref="aa178b47940a983f9d86443df3bc61fab" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsal__status____.html">fsal_status_t</a> HPSSFSAL_terminate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="FSAL__HPSS_2fsal__init_8c_source.html#l00370">370</a> of file <a class="el" href="FSAL__HPSS_2fsal__init_8c_source.html">FSAL_HPSS/fsal_init.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Nov 21 2012 for nfs-ganesha by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
