\section{nfs\_\-main.c File Reference}
\label{nfs__main_8c}\index{nfs\_\-main.c@{nfs\_\-main.c}}
The file that contain the 'main' routine for the nfsd.  


{\tt \#include \char`\"{}nfs\_\-init.h\char`\"{}}\par
{\tt \#include \char`\"{}fsal.h\char`\"{}}\par
{\tt \#include $<$stdio.h$>$}\par
{\tt \#include $<$string.h$>$}\par
{\tt \#include $<$pthread.h$>$}\par
{\tt \#include $<$signal.h$>$}\par
{\tt \#include $<$errno.h$>$}\par
\subsection*{Functions}
\begin{CompactItemize}
\item 
int {\bf main} (int argc, char $\ast$argv[$\,$])
\end{CompactItemize}
\subsection*{Variables}
\begin{CompactItemize}
\item 
{\bf nfs\_\-start\_\-info\_\-t} {\bf my\_\-nfs\_\-start\_\-info}
\item 
char {\bf my\_\-config\_\-path} [MAXPATHLEN] = \char`\"{}/etc/ganesha/ganesha.conf\char`\"{}
\item 
char {\bf log\_\-path} [MAXPATHLEN] = \char`\"{}/tmp/nfs-ganesha.log\char`\"{}
\item 
char {\bf exec\_\-name} [MAXPATHLEN] = \char`\"{}nfs-ganesha\char`\"{}
\item 
char {\bf host\_\-name} [MAXHOSTNAMELEN] = \char`\"{}localhost\char`\"{}
\item 
int {\bf debug\_\-level} = NIV\_\-EVENT
\item 
int {\bf detach\_\-flag} = FALSE
\item 
char {\bf ganesha\_\-exec\_\-path} [MAXPATHLEN]
\item 
char {\bf options} [$\,$] = \char`\"{}h@RdS:F:S:P:f:L:N:\char`\"{}
\item 
char {\bf usage} [$\,$]
\end{CompactItemize}


\subsection{Detailed Description}
The file that contain the 'main' routine for the nfsd. 

\begin{Desc}
\item[Author:]\end{Desc}
\begin{Desc}
\item[Author]deniel \end{Desc}
\doxyref{nfs\_\-main.c}{p.}{nfs__main_8c} : The file that contain the 'main' routine for the nfsd. 

Definition in file {\bf nfs\_\-main.c}.

\subsection{Function Documentation}
\index{nfs\_\-main.c@{nfs\_\-main.c}!main@{main}}
\index{main@{main}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (int {\em argc}, \/  char $\ast$ {\em argv}[$\,$])}\label{nfs__main_8c_0ddf1224851353fc92bfbff6f499fa97}


main: simply the main function.

The 'main' function as in every C program.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em argc}]number of arguments \item[{\em argv}]array of arguments\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]status to calling program by calling the exit(3C) function. \end{Desc}


Definition at line 196 of file nfs\_\-main.c.

\subsection{Variable Documentation}
\index{nfs\_\-main.c@{nfs\_\-main.c}!debug\_\-level@{debug\_\-level}}
\index{debug\_\-level@{debug\_\-level}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{debug\_\-level}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf debug\_\-level} = NIV\_\-EVENT}\label{nfs__main_8c_6a7850ecbb72e1e42b73aefa00562183}




Definition at line 116 of file nfs\_\-main.c.\index{nfs\_\-main.c@{nfs\_\-main.c}!detach\_\-flag@{detach\_\-flag}}
\index{detach\_\-flag@{detach\_\-flag}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{detach\_\-flag}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf detach\_\-flag} = FALSE}\label{nfs__main_8c_6fc3c4a3f163c700e0684277db241ff3}




Definition at line 117 of file nfs\_\-main.c.\index{nfs\_\-main.c@{nfs\_\-main.c}!exec\_\-name@{exec\_\-name}}
\index{exec\_\-name@{exec\_\-name}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{exec\_\-name}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf exec\_\-name}[MAXPATHLEN] = \char`\"{}nfs-ganesha\char`\"{}}\label{nfs__main_8c_2ab559a00c19667d6e41457881e5a69b}




Definition at line 114 of file nfs\_\-main.c.\index{nfs\_\-main.c@{nfs\_\-main.c}!ganesha\_\-exec\_\-path@{ganesha\_\-exec\_\-path}}
\index{ganesha\_\-exec\_\-path@{ganesha\_\-exec\_\-path}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{ganesha\_\-exec\_\-path}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf ganesha\_\-exec\_\-path}[MAXPATHLEN]}\label{nfs__main_8c_e97f5604422d461a46a2f86387e4b4f6}




Definition at line 118 of file nfs\_\-main.c.\index{nfs\_\-main.c@{nfs\_\-main.c}!host\_\-name@{host\_\-name}}
\index{host\_\-name@{host\_\-name}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{host\_\-name}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf host\_\-name}[MAXHOSTNAMELEN] = \char`\"{}localhost\char`\"{}}\label{nfs__main_8c_f388f5fab916e51b664956b5a912b884}




Definition at line 115 of file nfs\_\-main.c.\index{nfs\_\-main.c@{nfs\_\-main.c}!log\_\-path@{log\_\-path}}
\index{log\_\-path@{log\_\-path}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{log\_\-path}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf log\_\-path}[MAXPATHLEN] = \char`\"{}/tmp/nfs-ganesha.log\char`\"{}}\label{nfs__main_8c_5fb87274eac6a184308c7bd6ec06d7b2}




Definition at line 113 of file nfs\_\-main.c.\index{nfs\_\-main.c@{nfs\_\-main.c}!my\_\-config\_\-path@{my\_\-config\_\-path}}
\index{my\_\-config\_\-path@{my\_\-config\_\-path}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{my\_\-config\_\-path}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf my\_\-config\_\-path}[MAXPATHLEN] = \char`\"{}/etc/ganesha/ganesha.conf\char`\"{}}\label{nfs__main_8c_8664f770c0212d73611be05362b8f072}




Definition at line 112 of file nfs\_\-main.c.\index{nfs\_\-main.c@{nfs\_\-main.c}!my\_\-nfs\_\-start\_\-info@{my\_\-nfs\_\-start\_\-info}}
\index{my\_\-nfs\_\-start\_\-info@{my\_\-nfs\_\-start\_\-info}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{my\_\-nfs\_\-start\_\-info}]{\setlength{\rightskip}{0pt plus 5cm}{\bf nfs\_\-start\_\-info\_\-t} {\bf my\_\-nfs\_\-start\_\-info}}\label{nfs__main_8c_748a5578b2173919a916d2aa027c1820}


\textbf{Initial value:}

\begin{Code}\begin{verbatim}
{
   .flush_datacache_mode = FALSE,
   .nb_flush_threads     = 1,
   .flush_behaviour      = CACHE_CONTENT_FLUSH_AND_DELETE,
   .lw_mark_trigger      = FALSE
}
\end{verbatim}
\end{Code}


Definition at line 104 of file nfs\_\-main.c.\index{nfs\_\-main.c@{nfs\_\-main.c}!options@{options}}
\index{options@{options}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{options}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf options}[$\,$] = \char`\"{}h@RdS:F:S:P:f:L:N:\char`\"{}}\label{nfs__main_8c_3e62f5b7fb8976126fc23e6f39b5f6b5}




Definition at line 124 of file nfs\_\-main.c.\index{nfs\_\-main.c@{nfs\_\-main.c}!usage@{usage}}
\index{usage@{usage}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{usage}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf usage}[$\,$]}\label{nfs__main_8c_c272052a23799ed4af95e9876ba00fac}


\textbf{Initial value:}

\begin{Code}\begin{verbatim} 
    "Usage: %s [-hd][-L <logfile>][-N <dbg_lvl>][-f <config_file>]\n"
    "\t[-h]                display this help\n"
    "\t[-L <logfile>]      set the default logfile for the daemon\n"
    "\t[-N <dbg_lvl>]      set the verbosity level\n"
    "\t[-f <config_file>]  set the config file to be used\n"
    "\t[-d]                the daemon starts in background, in a new process group\n"
    "\t[-R]                daemon will manage RPCSEC_GSS (default is no RPCSEC_GSS)\n"
    "\t[-F] <nb_flushers>  flushes the data cache with purge, but do not answer to requests\n"
    "\t[-S] <nb_flushers>  flushes the data cache without purge, but do not answer to requests\n"
    "\t[-P] <nb_flushers>  flushes the data cache with purge until lw mark is reached, then just sync. Do not answer to requests\n"
    "----------------- Signals ----------------\n"
    "SIGUSR1    : Enable/Disable File Content Cache forced flush\n" 
    "SIGTERM    : Cleanly terminate the program\n" 
    "------------- Default Values -------------\n"
    "LogFile    : /tmp/nfs-ganesha.log\n"
    "DebugLevel : NIV_EVENT\n"
    "ConfigFile : /etc/ganesha/ganesha.conf\n"
\end{verbatim}
\end{Code}


Definition at line 125 of file nfs\_\-main.c.