\section{nfs\_\-main.c File Reference}
\label{nfs__main_8c}\index{nfs\_\-main.c@{nfs\_\-main.c}}


The file that contain the 'main' routine for the nfsd.  
{\ttfamily \#include \char`\"{}nfs\_\-init.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}fsal.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}log\_\-macros.h\char`\"{}}\par
{\ttfamily \#include $<$stdio.h$>$}\par
{\ttfamily \#include $<$string.h$>$}\par
{\ttfamily \#include $<$pthread.h$>$}\par
{\ttfamily \#include $<$signal.h$>$}\par
{\ttfamily \#include $<$errno.h$>$}\par
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int {\bf main} (int argc, char $\ast$argv[$\,$])
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
{\bf nfs\_\-start\_\-info\_\-t} {\bf my\_\-nfs\_\-start\_\-info}
\item 
char {\bf my\_\-config\_\-path} [MAXPATHLEN] = \char`\"{}/etc/ganesha/ganesha.conf\char`\"{}
\item 
char {\bf log\_\-path} [MAXPATHLEN] = \char`\"{}\char`\"{}
\item 
char {\bf exec\_\-name} [MAXPATHLEN] = \char`\"{}nfs-\/ganesha\char`\"{}
\item 
char {\bf host\_\-name} [MAXHOSTNAMELEN] = \char`\"{}localhost\char`\"{}
\item 
int {\bf debug\_\-level} = -\/1
\item 
int {\bf detach\_\-flag} = FALSE
\item 
char {\bf ganesha\_\-exec\_\-path} [MAXPATHLEN]
\item 
fsal\_\-functions\_\-t {\bf fsal\_\-functions}
\item 
fsal\_\-const\_\-t {\bf fsal\_\-consts}
\item 
char {\bf options} [$\,$] = \char`\"{}h@RTdS:F:S:P:f:L:N:\char`\"{}
\item 
char {\bf usage} [$\,$]
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The file that contain the 'main' routine for the nfsd. \begin{DoxyAuthor}{Author}

\end{DoxyAuthor}
Author}
deniel \doxyref{nfs\_\-main.c}{p.}{nfs__main_8c} : The file that contain the 'main' routine for the nfsd. 

Definition in file {\bf nfs\_\-main.c}.

\subsection{Function Documentation}
\index{nfs\_\-main.c@{nfs\_\-main.c}!main@{main}}
\index{main@{main}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (int {\em argc}, \/  char $\ast$ {\em argv}[$\,$])}\label{nfs__main_8c_a0ddf1224851353fc92bfbff6f499fa97}
main: simply the main function.

The 'main' function as in every C program.


\begin{DoxyParams}{Parameters}
\item[{\em argc}]number of arguments \item[{\em argv}]array of arguments\end{DoxyParams}
\begin{DoxyReturn}{Returns}
status to calling program by calling the exit(3C) function. 
\end{DoxyReturn}


Definition at line 159 of file nfs\_\-main.c.

\subsection{Variable Documentation}
\index{nfs\_\-main.c@{nfs\_\-main.c}!debug\_\-level@{debug\_\-level}}
\index{debug\_\-level@{debug\_\-level}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{debug\_\-level}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf debug\_\-level} = -\/1}\label{nfs__main_8c_a6a7850ecbb72e1e42b73aefa00562183}


Definition at line 66 of file nfs\_\-main.c.\index{nfs\_\-main.c@{nfs\_\-main.c}!detach\_\-flag@{detach\_\-flag}}
\index{detach\_\-flag@{detach\_\-flag}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{detach\_\-flag}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf detach\_\-flag} = FALSE}\label{nfs__main_8c_a6fc3c4a3f163c700e0684277db241ff3}


Definition at line 67 of file nfs\_\-main.c.\index{nfs\_\-main.c@{nfs\_\-main.c}!exec\_\-name@{exec\_\-name}}
\index{exec\_\-name@{exec\_\-name}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{exec\_\-name}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf exec\_\-name}[MAXPATHLEN] = \char`\"{}nfs-\/ganesha\char`\"{}}\label{nfs__main_8c_a2ab559a00c19667d6e41457881e5a69b}


Definition at line 64 of file nfs\_\-main.c.\index{nfs\_\-main.c@{nfs\_\-main.c}!fsal\_\-consts@{fsal\_\-consts}}
\index{fsal\_\-consts@{fsal\_\-consts}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{fsal\_\-consts}]{\setlength{\rightskip}{0pt plus 5cm}fsal\_\-const\_\-t {\bf fsal\_\-consts}}\label{nfs__main_8c_aa4378ec2542501379834b4a9ddf1dccf}
\index{nfs\_\-main.c@{nfs\_\-main.c}!fsal\_\-functions@{fsal\_\-functions}}
\index{fsal\_\-functions@{fsal\_\-functions}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{fsal\_\-functions}]{\setlength{\rightskip}{0pt plus 5cm}fsal\_\-functions\_\-t {\bf fsal\_\-functions}}\label{nfs__main_8c_a814b6674476609075e911a280759434a}
\index{nfs\_\-main.c@{nfs\_\-main.c}!ganesha\_\-exec\_\-path@{ganesha\_\-exec\_\-path}}
\index{ganesha\_\-exec\_\-path@{ganesha\_\-exec\_\-path}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{ganesha\_\-exec\_\-path}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf ganesha\_\-exec\_\-path}[MAXPATHLEN]}\label{nfs__main_8c_ae97f5604422d461a46a2f86387e4b4f6}


Definition at line 68 of file nfs\_\-main.c.\index{nfs\_\-main.c@{nfs\_\-main.c}!host\_\-name@{host\_\-name}}
\index{host\_\-name@{host\_\-name}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{host\_\-name}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf host\_\-name}[MAXHOSTNAMELEN] = \char`\"{}localhost\char`\"{}}\label{nfs__main_8c_af388f5fab916e51b664956b5a912b884}


Definition at line 65 of file nfs\_\-main.c.\index{nfs\_\-main.c@{nfs\_\-main.c}!log\_\-path@{log\_\-path}}
\index{log\_\-path@{log\_\-path}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{log\_\-path}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf log\_\-path}[MAXPATHLEN] = \char`\"{}\char`\"{}}\label{nfs__main_8c_a5fb87274eac6a184308c7bd6ec06d7b2}


Definition at line 63 of file nfs\_\-main.c.\index{nfs\_\-main.c@{nfs\_\-main.c}!my\_\-config\_\-path@{my\_\-config\_\-path}}
\index{my\_\-config\_\-path@{my\_\-config\_\-path}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{my\_\-config\_\-path}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf my\_\-config\_\-path}[MAXPATHLEN] = \char`\"{}/etc/ganesha/ganesha.conf\char`\"{}}\label{nfs__main_8c_a8664f770c0212d73611be05362b8f072}


Definition at line 62 of file nfs\_\-main.c.\index{nfs\_\-main.c@{nfs\_\-main.c}!my\_\-nfs\_\-start\_\-info@{my\_\-nfs\_\-start\_\-info}}
\index{my\_\-nfs\_\-start\_\-info@{my\_\-nfs\_\-start\_\-info}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{my\_\-nfs\_\-start\_\-info}]{\setlength{\rightskip}{0pt plus 5cm}{\bf nfs\_\-start\_\-info\_\-t} {\bf my\_\-nfs\_\-start\_\-info}}\label{nfs__main_8c_a748a5578b2173919a916d2aa027c1820}
{\bfseries Initial value:}
\begin{DoxyCode}
 {
  .flush_datacache_mode = FALSE,
  .dump_default_config = FALSE,
  .nb_flush_threads = 1,
  .flush_behaviour = CACHE_CONTENT_FLUSH_AND_DELETE,
  .lw_mark_trigger = FALSE
}
\end{DoxyCode}


Definition at line 54 of file nfs\_\-main.c.\index{nfs\_\-main.c@{nfs\_\-main.c}!options@{options}}
\index{options@{options}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{options}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf options}[$\,$] = \char`\"{}h@RTdS:F:S:P:f:L:N:\char`\"{}}\label{nfs__main_8c_a3e62f5b7fb8976126fc23e6f39b5f6b5}


Definition at line 75 of file nfs\_\-main.c.\index{nfs\_\-main.c@{nfs\_\-main.c}!usage@{usage}}
\index{usage@{usage}!nfs_main.c@{nfs\_\-main.c}}
\subsubsection[{usage}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf usage}[$\,$]}\label{nfs__main_8c_ac272052a23799ed4af95e9876ba00fac}
{\bfseries Initial value:}
\begin{DoxyCode}

    "Usage: %s [-hd][-L <logfile>][-N <dbg_lvl>][-f <config_file>]\n"
    "\t[-h]                display this help\n"
    "\t[-L <logfile>]      set the default logfile for the daemon\n"
    "\t[-N <dbg_lvl>]      set the verbosity level\n"
    "\t[-f <config_file>]  set the config file to be used\n"
    "\t[-d]                the daemon starts in background, in a new process grou
      p\n"
    "\t[-R]                daemon will manage RPCSEC_GSS (default is no RPCSEC_GS
      S)\n"
    "\t[-T]                dump the default configuration on stdout\n"
    "\t[-F] <nb_flushers>  flushes the data cache with purge, but do not answer t
      o requests\n"
    "\t[-S] <nb_flushers>  flushes the data cache without purge, but do not answe
      r to requests\n"
    "\t[-P] <nb_flushers>  flushes the data cache with purge until lw mark is rea
      ched, then just sync. Do not answer to requests\n"
    "----------------- Signals ----------------\n"
    "SIGUSR1    : Enable/Disable File Content Cache forced flush\n"
    "SIGTERM    : Cleanly terminate the program\n"
    "------------- Default Values -------------\n"
    "LogFile    : /tmp/nfs-ganesha.log\n"
    "DebugLevel : NIV_EVENT\n" "ConfigFile : /etc/ganesha/ganesha.conf\n"
\end{DoxyCode}


Definition at line 76 of file nfs\_\-main.c.