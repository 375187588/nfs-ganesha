\section{nfs\_\-tools.c File Reference}
\label{nfs__tools_8c}\index{nfs_tools.c@{nfs\_\-tools.c}}
Some tools very usefull in the nfs protocol implementation. 

{\tt \#include $<$stdio.h$>$}\par
{\tt \#include $<$sys/socket.h$>$}\par
{\tt \#include $<$netinet/in.h$>$}\par
{\tt \#include $<$netinet/tcp.h$>$}\par
{\tt \#include $<$sys/types.h$>$}\par
{\tt \#include $<$ctype.h$>$}\par
{\tt \#include $<$stdlib.h$>$}\par
{\tt \#include $<$dirent.h$>$}\par
{\tt \#include $<$netdb.h$>$}\par
{\tt \#include $<$arpa/inet.h$>$}\par
{\tt \#include $<$string.h$>$}\par
{\tt \#include $<$unistd.h$>$}\par
{\tt \#include $<$sys/poll.h$>$}\par
{\tt \#include $<$pthread.h$>$}\par
{\tt \#include $<$fcntl.h$>$}\par
{\tt \#include $<$sys/file.h$>$}\par
{\tt \#include $<$pwd.h$>$}\par
{\tt \#include $<$grp.h$>$}\par
{\tt \#include $<$rpc/rpc.h$>$}\par
{\tt \#include $<$rpc/svc.h$>$}\par
{\tt \#include $<$rpc/pmap\_\-clnt.h$>$}\par
{\tt \#include \char`\"{}log\_\-functions.h\char`\"{}}\par
{\tt \#include \char`\"{}stuff\_\-alloc.h\char`\"{}}\par
{\tt \#include \char`\"{}nfs\_\-core.h\char`\"{}}\par
{\tt \#include \char`\"{}nfs23.h\char`\"{}}\par
{\tt \#include \char`\"{}nfs4.h\char`\"{}}\par
{\tt \#include \char`\"{}fsal.h\char`\"{}}\par
{\tt \#include \char`\"{}nfs\_\-tools.h\char`\"{}}\par
{\tt \#include \char`\"{}nfs\_\-exports.h\char`\"{}}\par
{\tt \#include \char`\"{}nfs\_\-file\_\-handle.h\char`\"{}}\par
\subsection*{Classes}
\begin{CompactItemize}
\item 
struct {\bf tcp\_\-conn}
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
unsigned long {\bf decimal\_\-simple\_\-hash\_\-func} (hash\_\-parameter\_\-t $\ast$p\_\-hparam, hash\_\-buffer\_\-t $\ast$buffclef)
\item 
unsigned long {\bf decimal\_\-rbt\_\-hash\_\-func} (hash\_\-parameter\_\-t $\ast$p\_\-hparam, hash\_\-buffer\_\-t $\ast$buffclef)
\item 
int {\bf display\_\-cache} (hash\_\-buffer\_\-t $\ast$pbuff, char $\ast$str)
\item 
int {\bf compare\_\-cache} (hash\_\-buffer\_\-t $\ast$buff1, hash\_\-buffer\_\-t $\ast$buff2)
\item 
int {\bf print\_\-cache} (LRU\_\-data\_\-t data, char $\ast$str)
\item 
int {\bf clean\_\-cache} (LRU\_\-entry\_\-t $\ast$pentry, void $\ast$addparam)
\item 
int {\bf lru\_\-inode\_\-entry\_\-to\_\-str} (LRU\_\-data\_\-t data, char $\ast$str)
\item 
int {\bf lru\_\-data\_\-entry\_\-to\_\-str} (LRU\_\-data\_\-t data, char $\ast$str)
\item 
int {\bf lru\_\-inode\_\-clean\_\-entry} (LRU\_\-entry\_\-t $\ast$entry, void $\ast$adddata)
\item 
int {\bf lru\_\-data\_\-clean\_\-entry} (LRU\_\-entry\_\-t $\ast$entry, void $\ast$adddata)
\item 
void {\bf socket\_\-setoptions} (int socket\-Fd)
\end{CompactItemize}


\subsection{Detailed Description}
Some tools very usefull in the nfs protocol implementation. 

\begin{Desc}
\item[Author:]\begin{Desc}
\item[Author]deniel \end{Desc}
\end{Desc}
\begin{Desc}
\item[Date:]\begin{Desc}
\item[Date]2006/01/20 07:39:22 \end{Desc}
\end{Desc}
\begin{Desc}
\item[Version:]\begin{Desc}
\item[Revision]1.14 \end{Desc}
\end{Desc}
{\bf nfs\_\-tools.c}{\rm (p.\,\pageref{nfs__tools_8c})} : Some tools very usefull in the nfs protocol implementation

Definition in file {\bf nfs\_\-tools.c}.

\subsection{Function Documentation}
\index{nfs_tools.c@{nfs\_\-tools.c}!clean_cache@{clean\_\-cache}}
\index{clean_cache@{clean\_\-cache}!nfs_tools.c@{nfs\_\-tools.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int clean\_\-cache (LRU\_\-entry\_\-t $\ast$ {\em pentry}, void $\ast$ {\em addparam})}\label{nfs__tools_8c_a5}




Definition at line 168 of file nfs\_\-tools.c.\index{nfs_tools.c@{nfs\_\-tools.c}!compare_cache@{compare\_\-cache}}
\index{compare_cache@{compare\_\-cache}!nfs_tools.c@{nfs\_\-tools.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int compare\_\-cache (hash\_\-buffer\_\-t $\ast$ {\em buff1}, hash\_\-buffer\_\-t $\ast$ {\em buff2})}\label{nfs__tools_8c_a3}




Definition at line 158 of file nfs\_\-tools.c.\index{nfs_tools.c@{nfs\_\-tools.c}!decimal_rbt_hash_func@{decimal\_\-rbt\_\-hash\_\-func}}
\index{decimal_rbt_hash_func@{decimal\_\-rbt\_\-hash\_\-func}!nfs_tools.c@{nfs\_\-tools.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}unsigned long decimal\_\-rbt\_\-hash\_\-func (hash\_\-parameter\_\-t $\ast$ {\em p\_\-hparam}, hash\_\-buffer\_\-t $\ast$ {\em buffclef})}\label{nfs__tools_8c_a1}




Definition at line 147 of file nfs\_\-tools.c.\index{nfs_tools.c@{nfs\_\-tools.c}!decimal_simple_hash_func@{decimal\_\-simple\_\-hash\_\-func}}
\index{decimal_simple_hash_func@{decimal\_\-simple\_\-hash\_\-func}!nfs_tools.c@{nfs\_\-tools.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}unsigned long decimal\_\-simple\_\-hash\_\-func (hash\_\-parameter\_\-t $\ast$ {\em p\_\-hparam}, hash\_\-buffer\_\-t $\ast$ {\em buffclef})}\label{nfs__tools_8c_a0}




Definition at line 141 of file nfs\_\-tools.c.\index{nfs_tools.c@{nfs\_\-tools.c}!display_cache@{display\_\-cache}}
\index{display_cache@{display\_\-cache}!nfs_tools.c@{nfs\_\-tools.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int display\_\-cache (hash\_\-buffer\_\-t $\ast$ {\em pbuff}, char $\ast$ {\em str})}\label{nfs__tools_8c_a2}




Definition at line 153 of file nfs\_\-tools.c.\index{nfs_tools.c@{nfs\_\-tools.c}!lru_data_clean_entry@{lru\_\-data\_\-clean\_\-entry}}
\index{lru_data_clean_entry@{lru\_\-data\_\-clean\_\-entry}!nfs_tools.c@{nfs\_\-tools.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int lru\_\-data\_\-clean\_\-entry (LRU\_\-entry\_\-t $\ast$ {\em entry}, void $\ast$ {\em adddata})}\label{nfs__tools_8c_a9}


lru\_\-data\_\-clean\_\-entry: a function used to clean up a LRU entry during cache inode gc.

a function used to clean up a LRU entry during cache inode gc.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em entry}][INOUT] the entry to be cleaned up. \item[{\em adddata}][IN] a buffer with additional input parameters.\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 if successful, other values show an error. \end{Desc}


Definition at line 239 of file nfs\_\-tools.c.\index{nfs_tools.c@{nfs\_\-tools.c}!lru_data_entry_to_str@{lru\_\-data\_\-entry\_\-to\_\-str}}
\index{lru_data_entry_to_str@{lru\_\-data\_\-entry\_\-to\_\-str}!nfs_tools.c@{nfs\_\-tools.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int lru\_\-data\_\-entry\_\-to\_\-str (LRU\_\-data\_\-t {\em data}, char $\ast$ {\em str})}\label{nfs__tools_8c_a7}


lru\_\-data\_\-entry\_\-to\_\-str: printing function for internal worker's LRU.

printing function for internal worker's LRU.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em data}][IN] the LRU data to be printed. \item[{\em str}][OUT] the string result.\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]the length of the computed string of -1 if failed. \end{Desc}


Definition at line 204 of file nfs\_\-tools.c.\index{nfs_tools.c@{nfs\_\-tools.c}!lru_inode_clean_entry@{lru\_\-inode\_\-clean\_\-entry}}
\index{lru_inode_clean_entry@{lru\_\-inode\_\-clean\_\-entry}!nfs_tools.c@{nfs\_\-tools.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int lru\_\-inode\_\-clean\_\-entry (LRU\_\-entry\_\-t $\ast$ {\em entry}, void $\ast$ {\em adddata})}\label{nfs__tools_8c_a8}


lru\_\-inode\_\-clean\_\-entry: a function used to clean up a LRU entry during cache inode gc.

a function used to clean up a LRU entry during cache inode gc.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em entry}][INOUT] the entry to be cleaned up. \item[{\em adddata}][IN] a buffer with additional input parameters.\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 if successful, other values show an error. \end{Desc}


Definition at line 222 of file nfs\_\-tools.c.\index{nfs_tools.c@{nfs\_\-tools.c}!lru_inode_entry_to_str@{lru\_\-inode\_\-entry\_\-to\_\-str}}
\index{lru_inode_entry_to_str@{lru\_\-inode\_\-entry\_\-to\_\-str}!nfs_tools.c@{nfs\_\-tools.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int lru\_\-inode\_\-entry\_\-to\_\-str (LRU\_\-data\_\-t {\em data}, char $\ast$ {\em str})}\label{nfs__tools_8c_a6}


lru\_\-inode\_\-entry\_\-to\_\-str: printing function for internal worker's LRU.

printing function for internal worker's LRU.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em data}][IN] the LRU data to be printed. \item[{\em str}][OUT] the string result.\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]the length of the computed string of -1 if failed. \end{Desc}


Definition at line 187 of file nfs\_\-tools.c.\index{nfs_tools.c@{nfs\_\-tools.c}!print_cache@{print\_\-cache}}
\index{print_cache@{print\_\-cache}!nfs_tools.c@{nfs\_\-tools.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int print\_\-cache (LRU\_\-data\_\-t {\em data}, char $\ast$ {\em str})}\label{nfs__tools_8c_a4}




Definition at line 163 of file nfs\_\-tools.c.\index{nfs_tools.c@{nfs\_\-tools.c}!socket_setoptions@{socket\_\-setoptions}}
\index{socket_setoptions@{socket\_\-setoptions}!nfs_tools.c@{nfs\_\-tools.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void socket\_\-setoptions (int {\em socket\-Fd})}\label{nfs__tools_8c_a10}




Definition at line 245 of file nfs\_\-tools.c.

Referenced by nfs\_\-Init\_\-svc().