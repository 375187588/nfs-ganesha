<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Support routines layer: nfs_ip_stats.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>nfs_ip_stats.c File Reference</h1>
<p>The management of the IP stats per machines.  
<a href="#_details">More...</a></p>
<code>#include &quot;HashData.h&quot;</code><br/>
<code>#include &quot;HashTable.h&quot;</code><br/>
<code>#include &quot;log_functions.h&quot;</code><br/>
<code>#include &quot;stuff_alloc.h&quot;</code><br/>
<code>#include &quot;nfs_core.h&quot;</code><br/>
<code>#include &quot;nfs_exports.h&quot;</code><br/>
<code>#include &quot;config_parsing.h&quot;</code><br/>
<code>#include &quot;nfs_ip_stats.h&quot;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>

<p><a href="nfs__ip__stats_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__ip__stats_8c.html#ab9192ba250fe972c9b04033036875529">ip_stats_value_hash_func</a> (hash_parameter_t *p_hparam, hash_buffer_t *buffclef)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__ip__stats_8c.html#ad5c78cc75d125550c0b1759eba07a8b5">ip_stats_rbt_hash_func</a> (hash_parameter_t *p_hparam, hash_buffer_t *buffclef)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__ip__stats_8c.html#afa644f9b00bc7c357cf4ff6c3e325bc2">compare_ip_stats</a> (hash_buffer_t *buff1, hash_buffer_t *buff2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__ip__stats_8c.html#ab0773add333c73fd03ffdba1b74dbbb8">display_ip_stats</a> (hash_buffer_t *pbuff, char *str)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__ip__stats_8c.html#af1717d2844930f64e2c84d147d4205e5">nfs_ip_stats_add</a> (hash_table_t *ht_ip_stats, unsigned int ipaddr, nfs_ip_stats_t *nfs_ip_stats_pool)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__ip__stats_8c.html#aa390daede2c83a9b0fb541a37389fe47">nfs_ip_stats_incr</a> (hash_table_t *ht_ip_stats, unsigned int ipaddr, unsigned int nfs_prog, unsigned int mnt_prog, struct svc_req *ptr_req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__ip__stats_8c.html#a3b2293b5294cc59351948bc315cb6927">nfs_ip_stats_get</a> (hash_table_t *ht_ip_stats, unsigned int ipaddr, nfs_ip_stats_t **pnfs_ip_stats)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__ip__stats_8c.html#a4a193be85632dac59085e111c633bd7d">nfs_ip_stats_remove</a> (hash_table_t *ht_ip_stats, int ipaddr, nfs_ip_stats_t *nfs_ip_stats_pool)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">hash_table_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__ip__stats_8c.html#a0d8c2547a2519ab8d1fdc0639ee3fe2a">nfs_Init_ip_stats</a> (nfs_ip_stats_parameter_t param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__ip__stats_8c.html#a87a643a18cf220f9d848f0eeea0569a6">nfs_ip_stats_dump</a> (hash_table_t **ht_ip_stats, unsigned int nb_worker, char *path_stat)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">nfs_parameter_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__ip__stats_8c.html#aeb8fc46586993cf210777049fca03969">nfs_param</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The management of the IP stats per machines. </p>
<dl class="author"><dt><b>Author:</b></dt><dd></dd></dl>
<dl class="rcs"><dt><b>Author</b></dt><dd>leibovic </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd></dd></dl>
<dl class="rcs"><dt><b>Date</b></dt><dd>2006/01/24 13:49:12 </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd></dd></dl>
<dl class="rcs"><dt><b>Revision</b></dt><dd>1.4 </dd></dl>
<p><a class="el" href="nfs__ip__stats_8c.html" title="The management of the IP stats per machines.">nfs_ip_stats.c</a> : The management of the IP stats per machines.</p>
<dl class="rcs"><dt><b>Header</b></dt><dd>/cea/S/home/cvs/cvs/SHERPA/BaseCvs/GANESHA/src/support/nfs_ip_stats.c,v 1.4 2006/01/24 13:49:12 leibovic Exp </dd></dl>
<dl class="rcs"><dt><b>Log</b></dt><dd><a class="el" href="nfs__ip__stats_8c.html" title="The management of the IP stats per machines.">nfs_ip_stats.c</a>,v </dd></dl>
<p>Revision 1.4 2006/01/24 13:49:12 leibovic Adding missing includes.</p>
<p>Revision 1.3 2006/01/20 07:39:23 leibovic Back to the previous version.</p>
<p>Revision 1.1 2005/11/30 09:28:42 deniel IP/stats cache per thread (no bottleneck) is complete </p>

<p>Definition in file <a class="el" href="nfs__ip__stats_8c_source.html">nfs_ip_stats.c</a>.</p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="afa644f9b00bc7c357cf4ff6c3e325bc2"></a><!-- doxytag: member="nfs_ip_stats.c::compare_ip_stats" ref="afa644f9b00bc7c357cf4ff6c3e325bc2" args="(hash_buffer_t *buff1, hash_buffer_t *buff2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int compare_ip_stats </td>
          <td>(</td>
          <td class="paramtype">hash_buffer_t *&nbsp;</td>
          <td class="paramname"> <em>buff1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hash_buffer_t *&nbsp;</td>
          <td class="paramname"> <em>buff2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>compare_ip_stats: compares the ip address stored in the key buffers.</p>
<p>compare the ip address stored in the key buffers. This function is to be used as 'compare_key' field in the hashtable storing the nfs duplicated requests.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buff1</em>&nbsp;</td><td>[IN] first key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buff2</em>&nbsp;</td><td>[IN] second key</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if keys are identifical, 1 if they are different. </dd></dl>

<p>Definition at line <a class="el" href="nfs__ip__stats_8c_source.html#l00129">129</a> of file <a class="el" href="nfs__ip__stats_8c_source.html">nfs_ip_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab0773add333c73fd03ffdba1b74dbbb8"></a><!-- doxytag: member="nfs_ip_stats.c::display_ip_stats" ref="ab0773add333c73fd03ffdba1b74dbbb8" args="(hash_buffer_t *pbuff, char *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int display_ip_stats </td>
          <td>(</td>
          <td class="paramtype">hash_buffer_t *&nbsp;</td>
          <td class="paramname"> <em>pbuff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>str</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>display_ip_stats: displays the ip_stats stored in the buffer.</p>
<p>displays the ip_stats stored in the buffer. This function is to be used as 'key_to_str' field in the hashtable storing the nfs duplicated requests.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buff1</em>&nbsp;</td><td>[IN] buffer to display </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buff2</em>&nbsp;</td><td>[OUT] output string</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of character written. </dd></dl>

<p>Definition at line <a class="el" href="nfs__ip__stats_8c_source.html#l00149">149</a> of file <a class="el" href="nfs__ip__stats_8c_source.html">nfs_ip_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad5c78cc75d125550c0b1759eba07a8b5"></a><!-- doxytag: member="nfs_ip_stats.c::ip_stats_rbt_hash_func" ref="ad5c78cc75d125550c0b1759eba07a8b5" args="(hash_parameter_t *p_hparam, hash_buffer_t *buffclef)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long int ip_stats_rbt_hash_func </td>
          <td>(</td>
          <td class="paramtype">hash_parameter_t *&nbsp;</td>
          <td class="paramname"> <em>p_hparam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hash_buffer_t *&nbsp;</td>
          <td class="paramname"> <em>buffclef</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>ip_stats_rbt_hash_func: computes the rbt value for the entry in IP stats cache.</p>
<p>Computes the rbt value for the entry in IP stats cache. In fact, it just use the address value itself (which is an unsigned integer) as the rbt value. This function is called internal in the HasTable_* function</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hparam</em>&nbsp;</td><td>[IN] hash table parameter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffcleff[in]</em>&nbsp;</td><td>pointer to the hash key buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the computed rbt value.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>HashTable_Init </dd></dl>

<p>Definition at line <a class="el" href="nfs__ip__stats_8c_source.html#l00109">109</a> of file <a class="el" href="nfs__ip__stats_8c_source.html">nfs_ip_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab9192ba250fe972c9b04033036875529"></a><!-- doxytag: member="nfs_ip_stats.c::ip_stats_value_hash_func" ref="ab9192ba250fe972c9b04033036875529" args="(hash_parameter_t *p_hparam, hash_buffer_t *buffclef)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long int ip_stats_value_hash_func </td>
          <td>(</td>
          <td class="paramtype">hash_parameter_t *&nbsp;</td>
          <td class="paramname"> <em>p_hparam</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hash_buffer_t *&nbsp;</td>
          <td class="paramname"> <em>buffclef</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>ip_stats_rbt_hash_func: computes the hash value for the entry in IP stats cache.</p>
<p>Computes the hash value for the entry in IP stats cache. In fact, it just use addresse as value (identity function) modulo the size of the hash. This function is called internal in the HasTable_* function</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hparam</em>&nbsp;</td><td>[IN] hash table parameter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffcleff[in]</em>&nbsp;</td><td>pointer to the hash key buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the computed hash value.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>HashTable_Init </dd></dl>

<p>Definition at line <a class="el" href="nfs__ip__stats_8c_source.html#l00087">87</a> of file <a class="el" href="nfs__ip__stats_8c_source.html">nfs_ip_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0d8c2547a2519ab8d1fdc0639ee3fe2a"></a><!-- doxytag: member="nfs_ip_stats.c::nfs_Init_ip_stats" ref="a0d8c2547a2519ab8d1fdc0639ee3fe2a" args="(nfs_ip_stats_parameter_t param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hash_table_t* nfs_Init_ip_stats </td>
          <td>(</td>
          <td class="paramtype">nfs_ip_stats_parameter_t&nbsp;</td>
          <td class="paramname"> <em>param</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs_Init_ip_stats: Init the hashtable for IP stats cache.</p>
<p>Perform all the required initialization for hashtable IP stats cache</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>param</em>&nbsp;</td><td>[IN] parameter used to init the duplicate request cache</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful, -1 otherwise </dd></dl>

<p>Definition at line <a class="el" href="nfs__ip__stats_8c_source.html#l00403">403</a> of file <a class="el" href="nfs__ip__stats_8c_source.html">nfs_ip_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="af1717d2844930f64e2c84d147d4205e5"></a><!-- doxytag: member="nfs_ip_stats.c::nfs_ip_stats_add" ref="af1717d2844930f64e2c84d147d4205e5" args="(hash_table_t *ht_ip_stats, unsigned int ipaddr, nfs_ip_stats_t *nfs_ip_stats_pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs_ip_stats_add </td>
          <td>(</td>
          <td class="paramtype">hash_table_t *&nbsp;</td>
          <td class="paramname"> <em>ht_ip_stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>ipaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nfs_ip_stats_t *&nbsp;</td>
          <td class="paramname"> <em>nfs_ip_stats_pool</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs_ip_stats_add: adds an entry in the duplicate requests cache.</p>
<p>Adds an entry in the duplicate requests cache.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ipaddr</em>&nbsp;</td><td>[IN] the ipaddr to be used as key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nfs_ip_stats_pool</em>&nbsp;</td><td>[INOUT] values pool for hash table</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>IP_STATS_SUCCESS if successfull<br/>
. </dd>
<dd>
IP_STATS_INSERT_MALLOC_ERROR if an error occured during the insertion process <br/>
 </dd>
<dd>
IP_STATS_NETDB_ERROR if an error occured during the netdb query (via gethostbyaddr). </dd></dl>

<p>Definition at line <a class="el" href="nfs__ip__stats_8c_source.html#l00176">176</a> of file <a class="el" href="nfs__ip__stats_8c_source.html">nfs_ip_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a87a643a18cf220f9d848f0eeea0569a6"></a><!-- doxytag: member="nfs_ip_stats.c::nfs_ip_stats_dump" ref="a87a643a18cf220f9d848f0eeea0569a6" args="(hash_table_t **ht_ip_stats, unsigned int nb_worker, char *path_stat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nfs_ip_stats_dump </td>
          <td>(</td>
          <td class="paramtype">hash_table_t **&nbsp;</td>
          <td class="paramname"> <em>ht_ip_stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>nb_worker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>path_stat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs_ip_stats_dump: Dumps the IP Stats for each client to a file per client</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ht_ip_stats</em>&nbsp;</td><td>[IN] hash table to be dumped </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path_stat</em>&nbsp;</td><td>[IN] pattern used to build path used for dumping stats</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing (void function). </dd></dl>

<p>Definition at line <a class="el" href="nfs__ip__stats_8c_source.html#l00426">426</a> of file <a class="el" href="nfs__ip__stats_8c_source.html">nfs_ip_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3b2293b5294cc59351948bc315cb6927"></a><!-- doxytag: member="nfs_ip_stats.c::nfs_ip_stats_get" ref="a3b2293b5294cc59351948bc315cb6927" args="(hash_table_t *ht_ip_stats, unsigned int ipaddr, nfs_ip_stats_t **pnfs_ip_stats)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs_ip_stats_get </td>
          <td>(</td>
          <td class="paramtype">hash_table_t *&nbsp;</td>
          <td class="paramname"> <em>ht_ip_stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>ipaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nfs_ip_stats_t **&nbsp;</td>
          <td class="paramname"> <em>pnfs_ip_stats</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs_ip_stats_get: gets the stats value.</p>
<p>gets the stats value.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ipaddr</em>&nbsp;</td><td>[IN] the ip address requested</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the computed number of call for this ipaddr. Negative value is a failure </dd></dl>

<p>Definition at line <a class="el" href="nfs__ip__stats_8c_source.html#l00322">322</a> of file <a class="el" href="nfs__ip__stats_8c_source.html">nfs_ip_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa390daede2c83a9b0fb541a37389fe47"></a><!-- doxytag: member="nfs_ip_stats.c::nfs_ip_stats_incr" ref="aa390daede2c83a9b0fb541a37389fe47" args="(hash_table_t *ht_ip_stats, unsigned int ipaddr, unsigned int nfs_prog, unsigned int mnt_prog, struct svc_req *ptr_req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs_ip_stats_incr </td>
          <td>(</td>
          <td class="paramtype">hash_table_t *&nbsp;</td>
          <td class="paramname"> <em>ht_ip_stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>ipaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>nfs_prog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>mnt_prog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct svc_req *&nbsp;</td>
          <td class="paramname"> <em>ptr_req</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs_ip_stats_incr: increments the stats value.</p>
<p>increments the stats value.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ipaddr</em>&nbsp;</td><td>[IN] the ip address requested</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the computed number of call for this ipaddr. Negative value is a failure </dd></dl>

<p>Definition at line <a class="el" href="nfs__ip__stats_8c_source.html#l00244">244</a> of file <a class="el" href="nfs__ip__stats_8c_source.html">nfs_ip_stats.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4a193be85632dac59085e111c633bd7d"></a><!-- doxytag: member="nfs_ip_stats.c::nfs_ip_stats_remove" ref="a4a193be85632dac59085e111c633bd7d" args="(hash_table_t *ht_ip_stats, int ipaddr, nfs_ip_stats_t *nfs_ip_stats_pool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs_ip_stats_remove </td>
          <td>(</td>
          <td class="paramtype">hash_table_t *&nbsp;</td>
          <td class="paramname"> <em>ht_ip_stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ipaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nfs_ip_stats_t *&nbsp;</td>
          <td class="paramname"> <em>nfs_ip_stats_pool</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs_ip_stats_remove: Tries to remove an entry for ip_stats cache</p>
<p>Tries to remove an entry for ip_stats cache.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ipaddr</em>&nbsp;</td><td>[IN] the ip address to be uncached. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nfs_ip_stats_pool</em>&nbsp;</td><td>[INOUT] values pool for hash table</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the result previously set if *pstatus == IP_STATS_SUCCESS </dd></dl>

<p>Definition at line <a class="el" href="nfs__ip__stats_8c_source.html#l00362">362</a> of file <a class="el" href="nfs__ip__stats_8c_source.html">nfs_ip_stats.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="aeb8fc46586993cf210777049fca03969"></a><!-- doxytag: member="nfs_ip_stats.c::nfs_param" ref="aeb8fc46586993cf210777049fca03969" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nfs_parameter_t <a class="el" href="nfs__state__id_8c.html#aeb8fc46586993cf210777049fca03969">nfs_param</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 15 Sep 2010 for Support routines layer by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
