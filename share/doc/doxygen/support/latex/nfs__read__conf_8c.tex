\section{nfs\_\-read\_\-conf.c File Reference}
\label{nfs__read__conf_8c}\index{nfs_read_conf.c@{nfs\_\-read\_\-conf.c}}
This file that contain the routine required for parsing the NFS specific configuraion file. 

{\tt \#include $<$stdio.h$>$}\par
{\tt \#include $<$string.h$>$}\par
{\tt \#include $<$pthread.h$>$}\par
{\tt \#include $<$fcntl.h$>$}\par
{\tt \#include $<$sys/file.h$>$}\par
{\tt \#include $<$rpc/types.h$>$}\par
{\tt \#include $<$rpc/rpc.h$>$}\par
{\tt \#include $<$rpc/auth.h$>$}\par
{\tt \#include $<$rpc/pmap\_\-clnt.h$>$}\par
{\tt \#include \char`\"{}log\_\-functions.h\char`\"{}}\par
{\tt \#include \char`\"{}stuff\_\-alloc.h\char`\"{}}\par
{\tt \#include \char`\"{}fsal.h\char`\"{}}\par
{\tt \#include \char`\"{}nfs23.h\char`\"{}}\par
{\tt \#include \char`\"{}nfs4.h\char`\"{}}\par
{\tt \#include \char`\"{}mount.h\char`\"{}}\par
{\tt \#include \char`\"{}nfs\_\-core.h\char`\"{}}\par
{\tt \#include \char`\"{}cache\_\-inode.h\char`\"{}}\par
{\tt \#include \char`\"{}cache\_\-content.h\char`\"{}}\par
{\tt \#include \char`\"{}nfs\_\-file\_\-handle.h\char`\"{}}\par
{\tt \#include \char`\"{}nfs\_\-exports.h\char`\"{}}\par
{\tt \#include \char`\"{}nfs\_\-tools.h\char`\"{}}\par
{\tt \#include \char`\"{}nfs\_\-proto\_\-functions.h\char`\"{}}\par
{\tt \#include \char`\"{}nfs\_\-dupreq.h\char`\"{}}\par
{\tt \#include \char`\"{}config\_\-parsing.h\char`\"{}}\par
\subsection*{Functions}
\begin{CompactItemize}
\item 
int {\bf nfs\_\-read\_\-worker\_\-conf} (config\_\-file\_\-t in\_\-config, nfs\_\-worker\_\-parameter\_\-t $\ast$pparam)
\item 
int {\bf nfs\_\-read\_\-core\_\-conf} (config\_\-file\_\-t in\_\-config, nfs\_\-core\_\-parameter\_\-t $\ast$pparam)
\item 
int {\bf nfs\_\-read\_\-dupreq\_\-hash\_\-conf} (config\_\-file\_\-t in\_\-config, nfs\_\-rpc\_\-dupreq\_\-parameter\_\-t $\ast$pparam)
\item 
int {\bf nfs\_\-read\_\-ip\_\-name\_\-conf} (config\_\-file\_\-t in\_\-config, nfs\_\-ip\_\-name\_\-parameter\_\-t $\ast$pparam)
\item 
int {\bf nfs\_\-read\_\-client\_\-id\_\-conf} (config\_\-file\_\-t in\_\-config, nfs\_\-client\_\-id\_\-parameter\_\-t $\ast$pparam)
\item 
int {\bf nfs\_\-read\_\-state\_\-id\_\-conf} (config\_\-file\_\-t in\_\-config, nfs\_\-state\_\-id\_\-parameter\_\-t $\ast$pparam)
\item 
int {\bf nfs\_\-read\_\-uidmap\_\-conf} (config\_\-file\_\-t in\_\-config, nfs\_\-idmap\_\-cache\_\-parameter\_\-t $\ast$pparam)
\item 
int {\bf nfs\_\-read\_\-gidmap\_\-conf} (config\_\-file\_\-t in\_\-config, nfs\_\-idmap\_\-cache\_\-parameter\_\-t $\ast$pparam)
\item 
int {\bf nfs\_\-read\_\-krb5\_\-conf} (config\_\-file\_\-t in\_\-config, nfs\_\-krb5\_\-parameter\_\-t $\ast$pparam)
\item 
int {\bf nfs\_\-read\_\-version4\_\-conf} (config\_\-file\_\-t in\_\-config, nfs\_\-version4\_\-parameter\_\-t $\ast$pparam)
\item 
void {\bf Print\_\-param\_\-worker\_\-in\_\-log} (nfs\_\-worker\_\-parameter\_\-t $\ast$pparam)
\item 
void {\bf Print\_\-param\_\-in\_\-log} (nfs\_\-parameter\_\-t $\ast$pparam)
\end{CompactItemize}


\subsection{Detailed Description}
This file that contain the routine required for parsing the NFS specific configuraion file. 

\begin{Desc}
\item[Author:]\begin{Desc}
\item[Author]deniel \end{Desc}
\end{Desc}
\begin{Desc}
\item[Date:]\begin{Desc}
\item[Date]2005/12/07 14:28:00 \end{Desc}
\end{Desc}
\begin{Desc}
\item[Version:]\begin{Desc}
\item[Revision]1.10 \end{Desc}
\end{Desc}
{\bf nfs\_\-read\_\-conf.c}{\rm (p.\,\pageref{nfs__read__conf_8c})} : This file that contain the routine required for parsing the NFS specific configuraion file.

\begin{Desc}
\item[Header]/cea/S/home/cvs/cvs/SHERPA/Base\-Cvs/GANESHA/src/support/nfs\_\-read\_\-conf.c,v 1.10 2005/12/07 14:28:00 deniel Exp \end{Desc}


\begin{Desc}
\item[Log]{\bf nfs\_\-read\_\-conf.c}{\rm (p.\,\pageref{nfs__read__conf_8c})},v \end{Desc}
Revision 1.10 2005/12/07 14:28:00 deniel Support of stats via stats\_\-thread was added

Revision 1.9 2005/11/30 15:41:15 deniel Added IP/stats conf

Revision 1.8 2005/11/29 13:38:18 deniel bottlenecked ip\_\-stats

Revision 1.7 2005/11/28 17:03:03 deniel Added Ce\-CILL headers

Revision 1.6 2005/11/08 15:22:24 deniel Wild\-Card and Netgroup entry for exportlist are now supported

Revision 1.5 2005/10/10 14:27:54 deniel mnt\_\-Mnt does not create root entries in Cache inode any more. This is done before the first request once the export list is read the first time .

Revision 1.4 2005/10/07 07:34:00 deniel Added default parameters support to be able to manage 'simplified' config file

Revision 1.3 2005/08/11 12:37:28 deniel Added statistics management

Revision 1.2 2005/08/03 13:14:00 deniel memset to zero before building the filehandles

Revision 1.1 2005/08/03 06:57:54 deniel Added a libsupport for miscellaneous service functions

Revision 1.1 2005/07/18 14:12:45 deniel Fusion of the dirrent layers in progreess via the implementation of mount protocol

Definition in file {\bf nfs\_\-read\_\-conf.c}.

\subsection{Function Documentation}
\index{nfs_read_conf.c@{nfs\_\-read\_\-conf.c}!nfs_read_client_id_conf@{nfs\_\-read\_\-client\_\-id\_\-conf}}
\index{nfs_read_client_id_conf@{nfs\_\-read\_\-client\_\-id\_\-conf}!nfs_read_conf.c@{nfs\_\-read\_\-conf.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int nfs\_\-read\_\-client\_\-id\_\-conf (config\_\-file\_\-t {\em in\_\-config}, nfs\_\-client\_\-id\_\-parameter\_\-t $\ast$ {\em pparam})}\label{nfs__read__conf_8c_a4}


nfs\_\-read\_\-ip\_\-name\_\-conf: reads the configuration for the Client/ID Cache

Reads the configuration for the Client/ID Cache

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in\_\-config}][IN] configuration file handle \item[{\em pparam}][OUT] read parameters\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 if ok, -1 if not, 1 is stanza is not there. \end{Desc}


Definition at line 548 of file nfs\_\-read\_\-conf.c.\index{nfs_read_conf.c@{nfs\_\-read\_\-conf.c}!nfs_read_core_conf@{nfs\_\-read\_\-core\_\-conf}}
\index{nfs_read_core_conf@{nfs\_\-read\_\-core\_\-conf}!nfs_read_conf.c@{nfs\_\-read\_\-conf.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int nfs\_\-read\_\-core\_\-conf (config\_\-file\_\-t {\em in\_\-config}, nfs\_\-core\_\-parameter\_\-t $\ast$ {\em pparam})}\label{nfs__read__conf_8c_a1}


nfs\_\-read\_\-core\_\-conf: read the configuration ite; for the worker theads.

Reads the configuration ite; for the worker theads.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in\_\-config}][IN] configuration file handle \item[{\em pparam}][OUT] read parameters\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 if ok, -1 if failed, 1 is stanza is not there. \end{Desc}


Definition at line 271 of file nfs\_\-read\_\-conf.c.\index{nfs_read_conf.c@{nfs\_\-read\_\-conf.c}!nfs_read_dupreq_hash_conf@{nfs\_\-read\_\-dupreq\_\-hash\_\-conf}}
\index{nfs_read_dupreq_hash_conf@{nfs\_\-read\_\-dupreq\_\-hash\_\-conf}!nfs_read_conf.c@{nfs\_\-read\_\-conf.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int nfs\_\-read\_\-dupreq\_\-hash\_\-conf (config\_\-file\_\-t {\em in\_\-config}, nfs\_\-rpc\_\-dupreq\_\-parameter\_\-t $\ast$ {\em pparam})}\label{nfs__read__conf_8c_a2}


nfs\_\-read\_\-dupreq\_\-hash\_\-conf: reads the configuration for the hash in Duplicate Request layer.

Reads the configuration for the hash in Duplicate Request layer

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in\_\-config}][IN] configuration file handle \item[{\em pparam}][OUT] read parameters\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 if ok, -1 if not, 1 is stanza is not there. \end{Desc}


Definition at line 391 of file nfs\_\-read\_\-conf.c.\index{nfs_read_conf.c@{nfs\_\-read\_\-conf.c}!nfs_read_gidmap_conf@{nfs\_\-read\_\-gidmap\_\-conf}}
\index{nfs_read_gidmap_conf@{nfs\_\-read\_\-gidmap\_\-conf}!nfs_read_conf.c@{nfs\_\-read\_\-conf.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int nfs\_\-read\_\-gidmap\_\-conf (config\_\-file\_\-t {\em in\_\-config}, nfs\_\-idmap\_\-cache\_\-parameter\_\-t $\ast$ {\em pparam})}\label{nfs__read__conf_8c_a7}


nfs\_\-read\_\-gidmap\_\-conf: reads the configuration for the GID\_\-MAPPER Cache

Reads the configuration for the GID\_\-MAPPER Cache

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in\_\-config}][IN] configuration file handle \item[{\em pparam}][OUT] read parameters\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 if ok, -1 if not, 1 is stanza is not there. \end{Desc}


Definition at line 775 of file nfs\_\-read\_\-conf.c.\index{nfs_read_conf.c@{nfs\_\-read\_\-conf.c}!nfs_read_ip_name_conf@{nfs\_\-read\_\-ip\_\-name\_\-conf}}
\index{nfs_read_ip_name_conf@{nfs\_\-read\_\-ip\_\-name\_\-conf}!nfs_read_conf.c@{nfs\_\-read\_\-conf.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int nfs\_\-read\_\-ip\_\-name\_\-conf (config\_\-file\_\-t {\em in\_\-config}, nfs\_\-ip\_\-name\_\-parameter\_\-t $\ast$ {\em pparam})}\label{nfs__read__conf_8c_a3}


nfs\_\-read\_\-ip\_\-name\_\-conf: reads the configuration for the IP/name.

Reads the configuration for the IP/name.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in\_\-config}][IN] configuration file handle \item[{\em pparam}][OUT] read parameters\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 if ok, -1 if not, 1 is stanza is not there. \end{Desc}


Definition at line 466 of file nfs\_\-read\_\-conf.c.\index{nfs_read_conf.c@{nfs\_\-read\_\-conf.c}!nfs_read_krb5_conf@{nfs\_\-read\_\-krb5\_\-conf}}
\index{nfs_read_krb5_conf@{nfs\_\-read\_\-krb5\_\-conf}!nfs_read_conf.c@{nfs\_\-read\_\-conf.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int nfs\_\-read\_\-krb5\_\-conf (config\_\-file\_\-t {\em in\_\-config}, nfs\_\-krb5\_\-parameter\_\-t $\ast$ {\em pparam})}\label{nfs__read__conf_8c_a8}


nfs\_\-read\_\-krb5\_\-conf: read the configuration for krb5 stuff

Read the configuration for krb5 stuff.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in\_\-config}][IN] configuration file handle \item[{\em pparam}][OUT] read parameters\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 if ok, -1 if failed,1 is stanza is not there \end{Desc}


Definition at line 853 of file nfs\_\-read\_\-conf.c.\index{nfs_read_conf.c@{nfs\_\-read\_\-conf.c}!nfs_read_state_id_conf@{nfs\_\-read\_\-state\_\-id\_\-conf}}
\index{nfs_read_state_id_conf@{nfs\_\-read\_\-state\_\-id\_\-conf}!nfs_read_conf.c@{nfs\_\-read\_\-conf.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int nfs\_\-read\_\-state\_\-id\_\-conf (config\_\-file\_\-t {\em in\_\-config}, nfs\_\-state\_\-id\_\-parameter\_\-t $\ast$ {\em pparam})}\label{nfs__read__conf_8c_a5}


nfs\_\-read\_\-ip\_\-name\_\-conf: reads the configuration for the Client/ID Cache

Reads the configuration for the Client/ID Cache

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in\_\-config}][IN] configuration file handle \item[{\em pparam}][OUT] read parameters\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 if ok, -1 if not, 1 is stanza is not there. \end{Desc}


Definition at line 622 of file nfs\_\-read\_\-conf.c.\index{nfs_read_conf.c@{nfs\_\-read\_\-conf.c}!nfs_read_uidmap_conf@{nfs\_\-read\_\-uidmap\_\-conf}}
\index{nfs_read_uidmap_conf@{nfs\_\-read\_\-uidmap\_\-conf}!nfs_read_conf.c@{nfs\_\-read\_\-conf.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int nfs\_\-read\_\-uidmap\_\-conf (config\_\-file\_\-t {\em in\_\-config}, nfs\_\-idmap\_\-cache\_\-parameter\_\-t $\ast$ {\em pparam})}\label{nfs__read__conf_8c_a6}


nfs\_\-read\_\-uidmap\_\-conf: reads the configuration for the UID\_\-MAPPER Cache

Reads the configuration for the UID\_\-MAPPER Cache

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in\_\-config}][IN] configuration file handle \item[{\em pparam}][OUT] read parameters\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 if ok, -1 if not, 1 is stanza is not there. \end{Desc}


Definition at line 697 of file nfs\_\-read\_\-conf.c.\index{nfs_read_conf.c@{nfs\_\-read\_\-conf.c}!nfs_read_version4_conf@{nfs\_\-read\_\-version4\_\-conf}}
\index{nfs_read_version4_conf@{nfs\_\-read\_\-version4\_\-conf}!nfs_read_conf.c@{nfs\_\-read\_\-conf.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int nfs\_\-read\_\-version4\_\-conf (config\_\-file\_\-t {\em in\_\-config}, nfs\_\-version4\_\-parameter\_\-t $\ast$ {\em pparam})}\label{nfs__read__conf_8c_a9}


nfs\_\-read\_\-version4\_\-conf: read the configuration for NFSv4 stuff

Read the configuration for NFSv4 stuff.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in\_\-config}][IN] configuration file handle \item[{\em pparam}][OUT] read parameters\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 if ok, -1 if failed,1 is stanza is not there \end{Desc}


Definition at line 924 of file nfs\_\-read\_\-conf.c.\index{nfs_read_conf.c@{nfs\_\-read\_\-conf.c}!nfs_read_worker_conf@{nfs\_\-read\_\-worker\_\-conf}}
\index{nfs_read_worker_conf@{nfs\_\-read\_\-worker\_\-conf}!nfs_read_conf.c@{nfs\_\-read\_\-conf.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int nfs\_\-read\_\-worker\_\-conf (config\_\-file\_\-t {\em in\_\-config}, nfs\_\-worker\_\-parameter\_\-t $\ast$ {\em pparam})}\label{nfs__read__conf_8c_a0}


nfs\_\-read\_\-worker\_\-conf: read the configuration ite; for the worker theads.

Reads the configuration ite; for the worker theads.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em in\_\-config}][IN] configuration file handle \item[{\em pparam}][OUT] read parameters\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 if ok, -1 if failed,1 is stanza is not there \end{Desc}


Definition at line 174 of file nfs\_\-read\_\-conf.c.\index{nfs_read_conf.c@{nfs\_\-read\_\-conf.c}!Print_param_in_log@{Print\_\-param\_\-in\_\-log}}
\index{Print_param_in_log@{Print\_\-param\_\-in\_\-log}!nfs_read_conf.c@{nfs\_\-read\_\-conf.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Print\_\-param\_\-in\_\-log (nfs\_\-parameter\_\-t $\ast$ {\em pparam})}\label{nfs__read__conf_8c_a11}


Print\_\-param\_\-in\_\-log : prints the nfs parameter structure into the logfile

prints the nfs parameter structure into the logfile

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em pparam}]Pointer to the nfs parameter\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]none (void function) \end{Desc}


Definition at line 1015 of file nfs\_\-read\_\-conf.c.

References Print\_\-param\_\-worker\_\-in\_\-log().\index{nfs_read_conf.c@{nfs\_\-read\_\-conf.c}!Print_param_worker_in_log@{Print\_\-param\_\-worker\_\-in\_\-log}}
\index{Print_param_worker_in_log@{Print\_\-param\_\-worker\_\-in\_\-log}!nfs_read_conf.c@{nfs\_\-read\_\-conf.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Print\_\-param\_\-worker\_\-in\_\-log (nfs\_\-worker\_\-parameter\_\-t $\ast$ {\em pparam})}\label{nfs__read__conf_8c_a10}


Print\_\-param\_\-in\_\-log : prints the nfs worker parameter structure into the logfile

prints the nfs worker parameter structure into the logfile

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em pparam}]Pointer to the nfs worker parameter\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]none (void function) \end{Desc}


Definition at line 996 of file nfs\_\-read\_\-conf.c.

Referenced by Print\_\-param\_\-in\_\-log().