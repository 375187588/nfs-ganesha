<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>NFS and Mount protocols layer: nfs_proto_tools.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>nfs_proto_tools.c File Reference</h1>
<p>A set of functions used to managed NFS.  
<a href="#_details">More...</a></p>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;pthread.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>
<code>#include &lt;sys/file.h&gt;</code><br/>
<code>#include &lt;pwd.h&gt;</code><br/>
<code>#include &lt;grp.h&gt;</code><br/>
<code>#include &quot;HashData.h&quot;</code><br/>
<code>#include &quot;HashTable.h&quot;</code><br/>
<code>#include &lt;rpc/types.h&gt;</code><br/>
<code>#include &lt;rpc/rpc.h&gt;</code><br/>
<code>#include &lt;rpc/auth.h&gt;</code><br/>
<code>#include &lt;rpc/pmap_clnt.h&gt;</code><br/>
<code>#include &quot;log_macros.h&quot;</code><br/>
<code>#include &quot;stuff_alloc.h&quot;</code><br/>
<code>#include &quot;nfs23.h&quot;</code><br/>
<code>#include &quot;nfs4.h&quot;</code><br/>
<code>#include &quot;mount.h&quot;</code><br/>
<code>#include &quot;nfs_core.h&quot;</code><br/>
<code>#include &quot;cache_inode.h&quot;</code><br/>
<code>#include &quot;cache_content.h&quot;</code><br/>
<code>#include &quot;nfs_exports.h&quot;</code><br/>
<code>#include &quot;nfs_creds.h&quot;</code><br/>
<code>#include &quot;nfs_proto_functions.h&quot;</code><br/>
<code>#include &quot;nfs_tools.h&quot;</code><br/>
<code>#include &quot;nfs_file_handle.h&quot;</code><br/>
<code>#include &quot;nfs_proto_tools.h&quot;</code><br/>

<p><a href="nfs__proto__tools_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cache_entry_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#a23b31825c77acbdf14159a818cfc5bb6">nfs_FhandleToCache</a> (u_long rq_vers, fhandle2 *pfh2, nfs_fh3 *pfh3, nfs_fh4 *pfh4, nfsstat2 *pstatus2, nfsstat3 *pstatus3, nfsstat4 *pstatus4, fsal_attrib_list_t *pattr, fsal_op_context_t *pcontext, cache_inode_client_t *pclient, hash_table_t *ht, int *prc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#ae97b4e7d590d92266c94bf1e921e1318">nfs_SetPostOpAttr</a> (fsal_op_context_t *pcontext, exportlist_t *pexport, cache_entry_t *pentry, fsal_attrib_list_t *pfsal_attr, post_op_attr *presult)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#a1af0b19592ea464c9a7aadd563a42e92">nfs_SetPreOpAttr</a> (fsal_attrib_list_t *pfsal_attr, pre_op_attr *pattr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#a59e0bde56bc1855420c304e57334a8ec">nfs_SetWccData</a> (fsal_op_context_t *pcontext, exportlist_t *pexport, cache_entry_t *pentry, fsal_attrib_list_t *pbefore_attr, fsal_attrib_list_t *pafter_attr, wcc_data *pwcc_data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#a42b9be27d5c5fd939c1eeb7e8b9e96df">nfs_RetryableError</a> (cache_inode_status_t cache_status)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#ac2de99fb1ffdf13ba2047ff934da0956">nfs_SetFailedStatus</a> (fsal_op_context_t *pcontext, exportlist_t *pexport, int version, cache_inode_status_t status, nfsstat2 *pstatus2, nfsstat3 *pstatus3, cache_entry_t *pentry0, post_op_attr *ppost_op_attr, cache_entry_t *pentry1, fsal_attrib_list_t *ppre_vattr1, wcc_data *pwcc_data1, cache_entry_t *pentry2, fsal_attrib_list_t *ppre_vattr2, wcc_data *pwcc_data2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#a9e8f27b3fcc6c910f3d30f3aeaf29c9f">nfs4_FSALattr_To_Fattr</a> (exportlist_t *pexport, fsal_attrib_list_t *pattr, fattr4 *Fattr, compound_data_t *data, nfs_fh4 *objFH, bitmap4 *Bitmap)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#afa5cb503998a8ee2352fbe0486578cf1">nfs3_Sattr_To_FSALattr</a> (fsal_attrib_list_t *pFSAL_attr, sattr3 *psattr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#ac4a0005c73ef75953f6980cd4566aac4">nfs2_FSALattr_To_Fattr</a> (exportlist_t *pexport, fsal_attrib_list_t *pFSAL_attr, fattr2 *pFattr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#a10fae48fe98b321c91a8332850977ab1">nfs4_SetCompoundExport</a> (compound_data_t *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#a992c1d741c7335ee2f5870c131190f29">nfs4_FhandleToExId</a> (nfs_fh4 *fh4p, unsigned short *ExIdp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#ac22b02db820e76d8c29039a8590b3bf0">nfs4_stringid_split</a> (char *buff, char *uidname, char *domainname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#aa48e0669eae8c05f43ed96006a494221">utf82str</a> (char *str, utf8string *utf8str)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#a1113f595b919b5c955131797fcf8715f">str2utf8</a> (char *str, utf8string *utf8str)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">seqid4&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#ac572290aea3c97830aab4602d4ebd6e3">nfs4_NextSeqId</a> (seqid4 seqid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#abd872db7513463c6ddadeec986c69051">nfs4_bitmap4_to_list</a> (bitmap4 *b, uint_t *plen, uint32_t *pval)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#ace19ec7de38a21ce9aecf64fadedc507">nfs4_list_to_bitmap4</a> (bitmap4 *b, uint_t *plen, uint32_t *pval)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#ac8abe56c4ae2bd2c2f7b54ab4b8af81e">nfs3_FSALattr_To_Fattr</a> (exportlist_t *pexport, fsal_attrib_list_t *FSAL_attr, fattr3 *Fattr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#aaed2fe122b07a4b259a3184a61fa057f">nfs2_Sattr_To_FSALattr</a> (fsal_attrib_list_t *pFSAL_attr, sattr2 *Fattr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#ab6df9722693803a2f08f7c8b161999ee">nfs4_Fattr_Check_Access</a> (fattr4 *Fattr, int access)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#a1b540b58ace7db01da59ffae1c434b7d">nfs4_Fattr_Check_Access_Bitmap</a> (bitmap4 *pbitmap, int access)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#addc36314c9324c0075e3cc510f3fa3d3">nfs4_Fattr_Supported</a> (fattr4 *Fattr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#a777415bca67416b566197f41ae273435">nfs4_Fattr_Supported_Bitmap</a> (bitmap4 *pbitmap)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#ad200b7297f523e28015b9da6df084f0d">nfs4_Fattr_cmp</a> (fattr4 *Fattr1, fattr4 *Fattr2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#a2bc1c0e13e12ae4b8655041c2e924e94">nfs4_Fattr_To_FSAL_attr</a> (fsal_attrib_list_t *pFSAL_attr, fattr4 *Fattr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">nfsstat4&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#ae5dbdad76b79459bab895e61f800278d">nfs4_Errno</a> (cache_inode_status_t error)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">nfsstat3&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#aa4f9710cdfa7157d9b730110d4cb0621">nfs3_Errno</a> (cache_inode_status_t error)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">nfsstat2&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#a90fe1b6090478dd005254a847ecb287e">nfs2_Errno</a> (cache_inode_status_t error)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#a9f988a714dadc7d8a6c107bc864d30ff">nfs4_AllocateFH</a> (nfs_fh4 *fh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#ac5009440881d6a4d6789eff4c3609224">nfs4_MakeCred</a> (compound_data_t *data)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">nfs_parameter_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="nfs__proto__tools_8c.html#aeb8fc46586993cf210777049fca03969">nfs_param</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A set of functions used to managed NFS. </p>
<dl class="author"><dt><b>Author:</b></dt><dd></dd></dl>
<dl class="rcs"><dt><b>Author</b></dt><dd>leibovic </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd></dd></dl>
<dl class="rcs"><dt><b>Date</b></dt><dd>2006/01/31 10:06:00 </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd></dd></dl>
<dl class="rcs"><dt><b>Revision</b></dt><dd>1.48 </dd></dl>
<p><a class="el" href="nfs__proto__tools_8c.html" title="A set of functions used to managed NFS.">nfs_proto_tools.c</a> - A set of functions used to managed NFS. </p>

<p>Definition in file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a90fe1b6090478dd005254a847ecb287e"></a><!-- doxytag: member="nfs_proto_tools.c::nfs2_Errno" ref="a90fe1b6090478dd005254a847ecb287e" args="(cache_inode_status_t error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nfsstat2 nfs2_Errno </td>
          <td>(</td>
          <td class="paramtype">cache_inode_status_t&nbsp;</td>
          <td class="paramname"> <em>error</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs2_Errno: Converts a cache_inode status to a nfsv2 status.</p>
<p>Converts a cache_inode status to a nfsv2 status.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>[IN] Input cache inode ewrror.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the converted NFSv2 status. </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l03344">3344</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac4a0005c73ef75953f6980cd4566aac4"></a><!-- doxytag: member="nfs_proto_tools.c::nfs2_FSALattr_To_Fattr" ref="ac4a0005c73ef75953f6980cd4566aac4" args="(exportlist_t *pexport, fsal_attrib_list_t *pFSAL_attr, fattr2 *pFattr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs2_FSALattr_To_Fattr </td>
          <td>(</td>
          <td class="paramtype">exportlist_t *&nbsp;</td>
          <td class="paramname"> <em>pexport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_attrib_list_t *&nbsp;</td>
          <td class="paramname"> <em>pFSAL_attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fattr2 *&nbsp;</td>
          <td class="paramname"> <em>pFattr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs2_FSALattr_To_Fattr: Converts FSAL Attributes to NFSv2 attributes.</p>
<p>Converts FSAL Attributes to NFSv2 attributes.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pexport</em>&nbsp;</td><td>[IN] the related export entry. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FSAL_attr</em>&nbsp;</td><td>[IN] pointer to FSAL attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Fattr</em>&nbsp;</td><td>[OUT] pointer to NFSv2 attributes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if successful, 0 otherwise. </dd></dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000018">Todo:</a></b></dt><dd>mode mask ? </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000019">Todo:</a></b></dt><dd>mode mask ? </dd></dl>
</p>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l01714">1714</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="aaed2fe122b07a4b259a3184a61fa057f"></a><!-- doxytag: member="nfs_proto_tools.c::nfs2_Sattr_To_FSALattr" ref="aaed2fe122b07a4b259a3184a61fa057f" args="(fsal_attrib_list_t *pFSAL_attr, sattr2 *Fattr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs2_Sattr_To_FSALattr </td>
          <td>(</td>
          <td class="paramtype">fsal_attrib_list_t *&nbsp;</td>
          <td class="paramname"> <em>pFSAL_attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sattr2 *&nbsp;</td>
          <td class="paramname"> <em>Fattr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs2_Sattr_To_FSALattr: Converts NFSv2 Set Attributes to FSAL attributes.</p>
<p>Converts NFSv2 Set Attributes to FSAL attributes.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>FSAL_attr</em>&nbsp;</td><td>[IN] pointer to FSAL attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Fattr</em>&nbsp;</td><td>[OUT] pointer to NFSv2 set attributes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if successful, 0 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l02253">2253</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa4f9710cdfa7157d9b730110d4cb0621"></a><!-- doxytag: member="nfs_proto_tools.c::nfs3_Errno" ref="aa4f9710cdfa7157d9b730110d4cb0621" args="(cache_inode_status_t error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nfsstat3 nfs3_Errno </td>
          <td>(</td>
          <td class="paramtype">cache_inode_status_t&nbsp;</td>
          <td class="paramname"> <em>error</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs3_Errno: Converts a cache_inode status to a nfsv3 status.</p>
<p>Converts a cache_inode status to a nfsv3 status.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>[IN] Input cache inode ewrror.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the converted NFSv3 status. </dd></dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000020">Todo:</a></b></dt><dd>: Check if this works by making stress tests </dd></dl>
</p>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l03223">3223</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac8abe56c4ae2bd2c2f7b54ab4b8af81e"></a><!-- doxytag: member="nfs_proto_tools.c::nfs3_FSALattr_To_Fattr" ref="ac8abe56c4ae2bd2c2f7b54ab4b8af81e" args="(exportlist_t *pexport, fsal_attrib_list_t *FSAL_attr, fattr3 *Fattr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs3_FSALattr_To_Fattr </td>
          <td>(</td>
          <td class="paramtype">exportlist_t *&nbsp;</td>
          <td class="paramname"> <em>pexport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_attrib_list_t *&nbsp;</td>
          <td class="paramname"> <em>FSAL_attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fattr3 *&nbsp;</td>
          <td class="paramname"> <em>Fattr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs3_FSALattr_To_Fattr: Converts FSAL Attributes to NFSv3 attributes.</p>
<p>Converts FSAL Attributes to NFSv3 attributes.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pexport</em>&nbsp;</td><td>[IN] the related export entry </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FSAL_attr</em>&nbsp;</td><td>[IN] pointer to FSAL attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Fattr</em>&nbsp;</td><td>[OUT] pointer to NFSv3 attributes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if successful, 0 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l02160">2160</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="afa5cb503998a8ee2352fbe0486578cf1"></a><!-- doxytag: member="nfs_proto_tools.c::nfs3_Sattr_To_FSALattr" ref="afa5cb503998a8ee2352fbe0486578cf1" args="(fsal_attrib_list_t *pFSAL_attr, sattr3 *psattr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs3_Sattr_To_FSALattr </td>
          <td>(</td>
          <td class="paramtype">fsal_attrib_list_t *&nbsp;</td>
          <td class="paramname"> <em>pFSAL_attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sattr3 *&nbsp;</td>
          <td class="paramname"> <em>psattr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs3_Sattr_To_FSALattr: Converts NFSv3 Sattr to FSAL Attributes.</p>
<p>Converts NFSv3 Sattr to FSAL Attributes.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pFSAL_attr</em>&nbsp;</td><td>[OUT] computed FSAL attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>psattr</em>&nbsp;</td><td>[IN] NFSv3 sattr to be set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if failed, 1 if successful. </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l01616">1616</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9f988a714dadc7d8a6c107bc864d30ff"></a><!-- doxytag: member="nfs_proto_tools.c::nfs4_AllocateFH" ref="a9f988a714dadc7d8a6c107bc864d30ff" args="(nfs_fh4 *fh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs4_AllocateFH </td>
          <td>(</td>
          <td class="paramtype">nfs_fh4 *&nbsp;</td>
          <td class="paramname"> <em>fh</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs4_AllocateFH: Allocates a buffer to be used for storing a NFSv4 filehandle.</p>
<p>Allocates a buffer to be used for storing a NFSv4 filehandle.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fh</em>&nbsp;</td><td>[INOUT] the filehandle to manage.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>NFS4_OK if successful, NFS3ERR_SERVERFAULT, NFS4ERR_RESOURCE or NFS4ERR_STALE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l03447">3447</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="abd872db7513463c6ddadeec986c69051"></a><!-- doxytag: member="nfs_proto_tools.c::nfs4_bitmap4_to_list" ref="abd872db7513463c6ddadeec986c69051" args="(bitmap4 *b, uint_t *plen, uint32_t *pval)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nfs4_bitmap4_to_list </td>
          <td>(</td>
          <td class="paramtype">bitmap4 *&nbsp;</td>
          <td class="paramname"> <em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_t *&nbsp;</td>
          <td class="paramname"> <em>plen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>pval</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs_bitmap4_to_list: convert an attribute's bitmap to a list of attributes.</p>
<p>Convert an attribute's bitmap to a list of attributes.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>[IN] bitmap to convert. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>plen</em>&nbsp;</td><td>[OUT] list's length. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>plval</em>&nbsp;</td><td>[OUT] list's values.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing (void function) </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l02039">2039</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae5dbdad76b79459bab895e61f800278d"></a><!-- doxytag: member="nfs_proto_tools.c::nfs4_Errno" ref="ae5dbdad76b79459bab895e61f800278d" args="(cache_inode_status_t error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nfsstat4 nfs4_Errno </td>
          <td>(</td>
          <td class="paramtype">cache_inode_status_t&nbsp;</td>
          <td class="paramname"> <em>error</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs4_Errno: Converts a cache_inode status to a nfsv4 status.</p>
<p>Converts a cache_inode status to a nfsv4 status.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>[IN] Input cache inode ewrror.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the converted NFSv4 status. </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l03105">3105</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab6df9722693803a2f08f7c8b161999ee"></a><!-- doxytag: member="nfs_proto_tools.c::nfs4_Fattr_Check_Access" ref="ab6df9722693803a2f08f7c8b161999ee" args="(fattr4 *Fattr, int access)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs4_Fattr_Check_Access </td>
          <td>(</td>
          <td class="paramtype">fattr4 *&nbsp;</td>
          <td class="paramname"> <em>Fattr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>access</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs4_Fattr_Check_Access: checks if attributes have READ or WRITE access.</p>
<p>Checks if attributes have READ or WRITE access.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Fattr</em>&nbsp;</td><td>[IN] pointer to NFSv4 attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>access</em>&nbsp;</td><td>[IN] access to be checked, either FATTR4_ATTR_READ or FATTR4_ATTR_WRITE</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if successful, 0 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l02347">2347</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1b540b58ace7db01da59ffae1c434b7d"></a><!-- doxytag: member="nfs_proto_tools.c::nfs4_Fattr_Check_Access_Bitmap" ref="a1b540b58ace7db01da59ffae1c434b7d" args="(bitmap4 *pbitmap, int access)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs4_Fattr_Check_Access_Bitmap </td>
          <td>(</td>
          <td class="paramtype">bitmap4 *&nbsp;</td>
          <td class="paramname"> <em>pbitmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>access</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs4_Fattr_Check_Access_Bitmap: checks if attributes bitmaps have READ or WRITE access.</p>
<p>Checks if attributes have READ or WRITE access.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pbitmap</em>&nbsp;</td><td>[IN] pointer to NFSv4 attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>access</em>&nbsp;</td><td>[IN] access to be checked, either FATTR4_ATTR_READ or FATTR4_ATTR_WRITE</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if successful, 0 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l02396">2396</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad200b7297f523e28015b9da6df084f0d"></a><!-- doxytag: member="nfs_proto_tools.c::nfs4_Fattr_cmp" ref="ad200b7297f523e28015b9da6df084f0d" args="(fattr4 *Fattr1, fattr4 *Fattr2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs4_Fattr_cmp </td>
          <td>(</td>
          <td class="paramtype">fattr4 *&nbsp;</td>
          <td class="paramname"> <em>Fattr1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fattr4 *&nbsp;</td>
          <td class="paramname"> <em>Fattr2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs4_Fattr_cmp: compares 2 fattr4 buffers.</p>
<p>Compares 2 fattr4 buffers.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Fattr1</em>&nbsp;</td><td>[IN] pointer to NFSv4 attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Fattr2</em>&nbsp;</td><td>[IN] pointer to NFSv4 attributes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if attributes are the same, FALSE otherwise, but -1 if RDATTR_ERROR is set </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l02533">2533</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="addc36314c9324c0075e3cc510f3fa3d3"></a><!-- doxytag: member="nfs_proto_tools.c::nfs4_Fattr_Supported" ref="addc36314c9324c0075e3cc510f3fa3d3" args="(fattr4 *Fattr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs4_Fattr_Supported </td>
          <td>(</td>
          <td class="paramtype">fattr4 *&nbsp;</td>
          <td class="paramname"> <em>Fattr</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs4_Fattr_Supported: Checks if an attribute is supported.</p>
<p>Checks if an attribute is supported.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Fattr</em>&nbsp;</td><td>[IN] pointer to NFSv4 attributes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if successful, 0 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l02440">2440</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="a777415bca67416b566197f41ae273435"></a><!-- doxytag: member="nfs_proto_tools.c::nfs4_Fattr_Supported_Bitmap" ref="a777415bca67416b566197f41ae273435" args="(bitmap4 *pbitmap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs4_Fattr_Supported_Bitmap </td>
          <td>(</td>
          <td class="paramtype">bitmap4 *&nbsp;</td>
          <td class="paramname"> <em>pbitmap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs4_Fattr_Supported: Checks if an attribute is supported.</p>
<p>Checks if an attribute is supported.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Fattr</em>&nbsp;</td><td>[IN] pointer to NFSv4 attributes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if successful, 0 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l02487">2487</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2bc1c0e13e12ae4b8655041c2e924e94"></a><!-- doxytag: member="nfs_proto_tools.c::nfs4_Fattr_To_FSAL_attr" ref="a2bc1c0e13e12ae4b8655041c2e924e94" args="(fsal_attrib_list_t *pFSAL_attr, fattr4 *Fattr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs4_Fattr_To_FSAL_attr </td>
          <td>(</td>
          <td class="paramtype">fsal_attrib_list_t *&nbsp;</td>
          <td class="paramname"> <em>pFSAL_attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fattr4 *&nbsp;</td>
          <td class="paramname"> <em>Fattr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs4_Fattr_To_FSAL_attr: Converts NFSv4 attributes buffer to a FSAL attributes structure.</p>
<p>Converts NFSv4 attributes buffer to a FSAL attributes structure.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pFSAL_attr</em>&nbsp;</td><td>[OUT] pointer to FSAL attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Fattr</em>&nbsp;</td><td>[IN] pointer to NFSv4 attributes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if successful, 0 if not supported, -1 if argument is badly formed </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l02702">2702</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="a992c1d741c7335ee2f5870c131190f29"></a><!-- doxytag: member="nfs_proto_tools.c::nfs4_FhandleToExId" ref="a992c1d741c7335ee2f5870c131190f29" args="(nfs_fh4 *fh4p, unsigned short *ExIdp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs4_FhandleToExId </td>
          <td>(</td>
          <td class="paramtype">nfs_fh4 *&nbsp;</td>
          <td class="paramname"> <em>fh4p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *&nbsp;</td>
          <td class="paramname"> <em>ExIdp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs4_FhandleToExId</p>
<p>This routine extracts the export id from the filehandle</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fh4p</em>&nbsp;</td><td>[IN] pointer to file handle to be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ExIdp</em>&nbsp;</td><td>[OUT] pointer to buffer in which found export id will be stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE is successful, FALSE otherwise. </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l01853">1853</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9e8f27b3fcc6c910f3d30f3aeaf29c9f"></a><!-- doxytag: member="nfs_proto_tools.c::nfs4_FSALattr_To_Fattr" ref="a9e8f27b3fcc6c910f3d30f3aeaf29c9f" args="(exportlist_t *pexport, fsal_attrib_list_t *pattr, fattr4 *Fattr, compound_data_t *data, nfs_fh4 *objFH, bitmap4 *Bitmap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs4_FSALattr_To_Fattr </td>
          <td>(</td>
          <td class="paramtype">exportlist_t *&nbsp;</td>
          <td class="paramname"> <em>pexport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_attrib_list_t *&nbsp;</td>
          <td class="paramname"> <em>pattr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fattr4 *&nbsp;</td>
          <td class="paramname"> <em>Fattr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">compound_data_t *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nfs_fh4 *&nbsp;</td>
          <td class="paramname"> <em>objFH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bitmap4 *&nbsp;</td>
          <td class="paramname"> <em>Bitmap</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs4_FSALattr_To_Fattr: Converts FSAL Attributes to NFSv4 Fattr buffer.</p>
<p>Converts FSAL Attributes to NFSv4 Fattr buffer.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pexport</em>&nbsp;</td><td>[IN] the related export entry. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pattr</em>&nbsp;</td><td>[IN] pointer to FSAL attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Fattr</em>&nbsp;</td><td>[OUT] NFSv4 Fattr buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>[IN] NFSv4 compoud request's data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Bitmap</em>&nbsp;</td><td>[OUT] NFSv4 attributes bitmap to the Fattr buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 if failed, 0 if successful. </dd></dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000016">Todo:</a></b></dt><dd>: not the right answer, actual quotas should be implemented </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000017">Todo:</a></b></dt><dd>: not the right answer, actual quotas should be implemented </dd></dl>
</p>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l00444">444</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="ace19ec7de38a21ce9aecf64fadedc507"></a><!-- doxytag: member="nfs_proto_tools.c::nfs4_list_to_bitmap4" ref="ace19ec7de38a21ce9aecf64fadedc507" args="(bitmap4 *b, uint_t *plen, uint32_t *pval)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nfs4_list_to_bitmap4 </td>
          <td>(</td>
          <td class="paramtype">bitmap4 *&nbsp;</td>
          <td class="paramname"> <em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_t *&nbsp;</td>
          <td class="paramname"> <em>plen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>pval</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs4_list_to_bitmap4: convert a list of attributes to an attributes's bitmap.</p>
<p>Convert a list of attributes to an attributes's bitmap.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>[OUT] computed bitmap </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>plen</em>&nbsp;</td><td>[IN] list's length </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pval</em>&nbsp;</td><td>[IN] list's array</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing (void function). </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l02117">2117</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac5009440881d6a4d6789eff4c3609224"></a><!-- doxytag: member="nfs_proto_tools.c::nfs4_MakeCred" ref="ac5009440881d6a4d6789eff4c3609224" args="(compound_data_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs4_MakeCred </td>
          <td>(</td>
          <td class="paramtype">compound_data_t *&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs4_MakeCred</p>
<p>This routine fills in the pcontext field in the compound data.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pfh</em>&nbsp;</td><td>[INOUT] pointer to compound data to be used. NOT YET IMPLEMENTED</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>NFS4_OK if successful, NFS4ERR_WRONGSEC otherwise. </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l03487">3487</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac572290aea3c97830aab4602d4ebd6e3"></a><!-- doxytag: member="nfs_proto_tools.c::nfs4_NextSeqId" ref="ac572290aea3c97830aab4602d4ebd6e3" args="(seqid4 seqid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">seqid4 nfs4_NextSeqId </td>
          <td>(</td>
          <td class="paramtype">seqid4&nbsp;</td>
          <td class="paramname"> <em>seqid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs4_NextSeqId: compute the next nfsv4 sequence id.</p>
<p>Compute the next nfsv4 sequence id.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>seqid</em>&nbsp;</td><td>[IN] previous sequence number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the requested sequence number. </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l01982">1982</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="a10fae48fe98b321c91a8332850977ab1"></a><!-- doxytag: member="nfs_proto_tools.c::nfs4_SetCompoundExport" ref="a10fae48fe98b321c91a8332850977ab1" args="(compound_data_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs4_SetCompoundExport </td>
          <td>(</td>
          <td class="paramtype">compound_data_t *&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs4_SetCompoundExport</p>
<p>This routine fills in the pexport field in the compound data.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pfh</em>&nbsp;</td><td>[OUT] pointer to compound data to be used.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>NFS4_OK if successfull. Possible errors are NFS4ERR_BADHANDLE and NFS4ERR_WRONGSEC. </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l01820">1820</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac22b02db820e76d8c29039a8590b3bf0"></a><!-- doxytag: member="nfs_proto_tools.c::nfs4_stringid_split" ref="ac22b02db820e76d8c29039a8590b3bf0" args="(char *buff, char *uidname, char *domainname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nfs4_stringid_split </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>uidname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>domainname</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs4_stringid_split: Splits a domain stamped name in two different parts.</p>
<p>Splits a domain stamped name in two different parts.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buff</em>&nbsp;</td><td>[IN] the input string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>uidname</em>&nbsp;</td><td>[OUT] the extracted uid name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>domainname</em>&nbsp;</td><td>[OUT] the extracted fomain name</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing (void function) </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l01883">1883</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="a23b31825c77acbdf14159a818cfc5bb6"></a><!-- doxytag: member="nfs_proto_tools.c::nfs_FhandleToCache" ref="a23b31825c77acbdf14159a818cfc5bb6" args="(u_long rq_vers, fhandle2 *pfh2, nfs_fh3 *pfh3, nfs_fh4 *pfh4, nfsstat2 *pstatus2, nfsstat3 *pstatus3, nfsstat4 *pstatus4, fsal_attrib_list_t *pattr, fsal_op_context_t *pcontext, cache_inode_client_t *pclient, hash_table_t *ht, int *prc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cache_entry_t* nfs_FhandleToCache </td>
          <td>(</td>
          <td class="paramtype">u_long&nbsp;</td>
          <td class="paramname"> <em>rq_vers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fhandle2 *&nbsp;</td>
          <td class="paramname"> <em>pfh2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nfs_fh3 *&nbsp;</td>
          <td class="paramname"> <em>pfh3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nfs_fh4 *&nbsp;</td>
          <td class="paramname"> <em>pfh4</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nfsstat2 *&nbsp;</td>
          <td class="paramname"> <em>pstatus2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nfsstat3 *&nbsp;</td>
          <td class="paramname"> <em>pstatus3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nfsstat4 *&nbsp;</td>
          <td class="paramname"> <em>pstatus4</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_attrib_list_t *&nbsp;</td>
          <td class="paramname"> <em>pattr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_op_context_t *&nbsp;</td>
          <td class="paramname"> <em>pcontext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cache_inode_client_t *&nbsp;</td>
          <td class="paramname"> <em>pclient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hash_table_t *&nbsp;</td>
          <td class="paramname"> <em>ht</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>prc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs_FhandleToCache: Gets a cache entry using a file handle (v2 or v3) as input.</p>
<p>Gets a cache entry using a file handle (v2 or v3) as input.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rq_vers</em>&nbsp;</td><td>[IN] version of the NFS protocol to be used </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pfh2</em>&nbsp;</td><td>[IN] NFSv2 file handle or NULL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pfh3</em>&nbsp;</td><td>[IN] NFSv3 file handle or NULL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pfh4</em>&nbsp;</td><td>[IN] NFSv4 file handle or NULL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pstatus2</em>&nbsp;</td><td>[OUT] pointer to NFSv2 status or NULL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pstatus3</em>&nbsp;</td><td>[OUT] pointer to NFSv3 status or NULL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pstatus4</em>&nbsp;</td><td>[OUT] pointer to NFSv4 status or NULL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pattr</em>&nbsp;</td><td>[OUT] FSAL attributes related to this cache entry </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pcontext</em>&nbsp;</td><td>[IN] client's FSAL credentials </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pclient</em>&nbsp;</td><td>[IN] client's ressources to be used for accessing the Cache Inode </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ht</em>&nbsp;</td><td>[INOUT] Hash Table used to address the Cache Inode </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>prc</em>&nbsp;</td><td>[OUT] internal status for the request (NFS_REQ_DROP or NFS_REQ_OK)</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pointer to the related pentry if successful, NULL is returned in case of a failure. </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l00105">105</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="a42b9be27d5c5fd939c1eeb7e8b9e96df"></a><!-- doxytag: member="nfs_proto_tools.c::nfs_RetryableError" ref="a42b9be27d5c5fd939c1eeb7e8b9e96df" args="(cache_inode_status_t cache_status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs_RetryableError </td>
          <td>(</td>
          <td class="paramtype">cache_inode_status_t&nbsp;</td>
          <td class="paramname"> <em>cache_status</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs_RetryableError: Indicates if an error is retryable or not.</p>
<p>Indicates if an error is retryable or not.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cache_status</em>&nbsp;</td><td>[IN] input Cache Inode Status value, to be tested.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE if retryable, FALSE otherwise.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000015">Todo:</a></b></dt><dd>: Not implemented for NOW BUGAZEOMEU</dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l00303">303</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac2de99fb1ffdf13ba2047ff934da0956"></a><!-- doxytag: member="nfs_proto_tools.c::nfs_SetFailedStatus" ref="ac2de99fb1ffdf13ba2047ff934da0956" args="(fsal_op_context_t *pcontext, exportlist_t *pexport, int version, cache_inode_status_t status, nfsstat2 *pstatus2, nfsstat3 *pstatus3, cache_entry_t *pentry0, post_op_attr *ppost_op_attr, cache_entry_t *pentry1, fsal_attrib_list_t *ppre_vattr1, wcc_data *pwcc_data1, cache_entry_t *pentry2, fsal_attrib_list_t *ppre_vattr2, wcc_data *pwcc_data2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nfs_SetFailedStatus </td>
          <td>(</td>
          <td class="paramtype">fsal_op_context_t *&nbsp;</td>
          <td class="paramname"> <em>pcontext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">exportlist_t *&nbsp;</td>
          <td class="paramname"> <em>pexport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cache_inode_status_t&nbsp;</td>
          <td class="paramname"> <em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nfsstat2 *&nbsp;</td>
          <td class="paramname"> <em>pstatus2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nfsstat3 *&nbsp;</td>
          <td class="paramname"> <em>pstatus3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cache_entry_t *&nbsp;</td>
          <td class="paramname"> <em>pentry0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">post_op_attr *&nbsp;</td>
          <td class="paramname"> <em>ppost_op_attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cache_entry_t *&nbsp;</td>
          <td class="paramname"> <em>pentry1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_attrib_list_t *&nbsp;</td>
          <td class="paramname"> <em>ppre_vattr1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">wcc_data *&nbsp;</td>
          <td class="paramname"> <em>pwcc_data1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cache_entry_t *&nbsp;</td>
          <td class="paramname"> <em>pentry2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_attrib_list_t *&nbsp;</td>
          <td class="paramname"> <em>ppre_vattr2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">wcc_data *&nbsp;</td>
          <td class="paramname"> <em>pwcc_data2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l00390">390</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae97b4e7d590d92266c94bf1e921e1318"></a><!-- doxytag: member="nfs_proto_tools.c::nfs_SetPostOpAttr" ref="ae97b4e7d590d92266c94bf1e921e1318" args="(fsal_op_context_t *pcontext, exportlist_t *pexport, cache_entry_t *pentry, fsal_attrib_list_t *pfsal_attr, post_op_attr *presult)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nfs_SetPostOpAttr </td>
          <td>(</td>
          <td class="paramtype">fsal_op_context_t *&nbsp;</td>
          <td class="paramname"> <em>pcontext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">exportlist_t *&nbsp;</td>
          <td class="paramname"> <em>pexport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cache_entry_t *&nbsp;</td>
          <td class="paramname"> <em>pentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_attrib_list_t *&nbsp;</td>
          <td class="paramname"> <em>pfsal_attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">post_op_attr *&nbsp;</td>
          <td class="paramname"> <em>presult</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs_SetPostOpAttr: Converts FSAL Attributes to NFSv3 PostOp Attributes structure.</p>
<p>Converts FSAL Attributes to NFSv3 PostOp Attributes structure.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pexport</em>&nbsp;</td><td>[IN] the related export entry </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pfsal_attr</em>&nbsp;</td><td>[IN] FSAL attributes </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pattr</em>&nbsp;</td><td>[OUT] NFSv3 PostOp structure attributes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 in all cases (making it a void function maybe a good idea) </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l00202">202</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1af0b19592ea464c9a7aadd563a42e92"></a><!-- doxytag: member="nfs_proto_tools.c::nfs_SetPreOpAttr" ref="a1af0b19592ea464c9a7aadd563a42e92" args="(fsal_attrib_list_t *pfsal_attr, pre_op_attr *pattr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nfs_SetPreOpAttr </td>
          <td>(</td>
          <td class="paramtype">fsal_attrib_list_t *&nbsp;</td>
          <td class="paramname"> <em>pfsal_attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pre_op_attr *&nbsp;</td>
          <td class="paramname"> <em>pattr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs_SetPreOpAttr: Converts FSAL Attributes to NFSv3 PreOp Attributes structure.</p>
<p>Converts FSAL Attributes to NFSv3 PreOp Attributes structure.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pfsal_attr</em>&nbsp;</td><td>[IN] FSAL attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pattr</em>&nbsp;</td><td>[OUT] NFSv3 PreOp structure attributes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing (void function) </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l00240">240</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="a59e0bde56bc1855420c304e57334a8ec"></a><!-- doxytag: member="nfs_proto_tools.c::nfs_SetWccData" ref="a59e0bde56bc1855420c304e57334a8ec" args="(fsal_op_context_t *pcontext, exportlist_t *pexport, cache_entry_t *pentry, fsal_attrib_list_t *pbefore_attr, fsal_attrib_list_t *pafter_attr, wcc_data *pwcc_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nfs_SetWccData </td>
          <td>(</td>
          <td class="paramtype">fsal_op_context_t *&nbsp;</td>
          <td class="paramname"> <em>pcontext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">exportlist_t *&nbsp;</td>
          <td class="paramname"> <em>pexport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cache_entry_t *&nbsp;</td>
          <td class="paramname"> <em>pentry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_attrib_list_t *&nbsp;</td>
          <td class="paramname"> <em>pbefore_attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_attrib_list_t *&nbsp;</td>
          <td class="paramname"> <em>pafter_attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">wcc_data *&nbsp;</td>
          <td class="paramname"> <em>pwcc_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>nfs_SetWccData: Sets NFSv3 Weak Cache Coherency structure.</p>
<p>Sets NFSv3 Weak Cache Coherency structure.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pcontext</em>&nbsp;</td><td>[IN] credentials </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pentry</em>&nbsp;</td><td>[IN] related pentry </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pbefore_attr</em>&nbsp;</td><td>[IN] the attributes before the operation. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pafter_attr</em>&nbsp;</td><td>[IN] the attributes after the operation </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pwcc_data</em>&nbsp;</td><td>[OUT] the Weak Cache Coherency structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing (void function). </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l00275">275</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1113f595b919b5c955131797fcf8715f"></a><!-- doxytag: member="nfs_proto_tools.c::str2utf8" ref="a1113f595b919b5c955131797fcf8715f" args="(char *str, utf8string *utf8str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int str2utf8 </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">utf8string *&nbsp;</td>
          <td class="paramname"> <em>utf8str</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>str2utf8: converts a string buffer into a UTF8 string descriptor.</p>
<p>Converts a string buffer into a UTF8 string descriptor.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>[IN] input string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>utf8str</em>&nbsp;</td><td>[OUT] computed UTF8 string</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 if failed, 0 if successful. </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l01952">1952</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa48e0669eae8c05f43ed96006a494221"></a><!-- doxytag: member="nfs_proto_tools.c::utf82str" ref="aa48e0669eae8c05f43ed96006a494221" args="(char *str, utf8string *utf8str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int utf82str </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">utf8string *&nbsp;</td>
          <td class="paramname"> <em>utf8str</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>utf82str: converts a UTF8 string buffer into a string descriptor.</p>
<p>Converts a UTF8 string buffer into a string descriptor.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>[OUT] computed output string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>utf8str</em>&nbsp;</td><td>[IN] input UTF8 string</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 if failed, 0 if successful. </dd></dl>

<p>Definition at line <a class="el" href="nfs__proto__tools_8c_source.html#l01911">1911</a> of file <a class="el" href="nfs__proto__tools_8c_source.html">nfs_proto_tools.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="aeb8fc46586993cf210777049fca03969"></a><!-- doxytag: member="nfs_proto_tools.c::nfs_param" ref="aeb8fc46586993cf210777049fca03969" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nfs_parameter_t <a class="el" href="rquota__setquota_8c.html#aeb8fc46586993cf210777049fca03969">nfs_param</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 15 Sep 2010 for NFS and Mount protocols layer by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
