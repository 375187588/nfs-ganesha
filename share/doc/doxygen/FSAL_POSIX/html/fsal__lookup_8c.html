<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File System Abstraction Layer (POSIX) library: fsal_lookup.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>fsal_lookup.c File Reference</h1>
<p>Lookup operations.  
<a href="#_details">More...</a></p>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &quot;fsal.h&quot;</code><br/>
<code>#include &quot;fsal_internal.h&quot;</code><br/>
<code>#include &quot;fsal_convert.h&quot;</code><br/>

<p><a href="fsal__lookup_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__lookup_8c.html#a51c5f205cfd9a8a55a2452c7e4dde143">POSIXFSAL_lookup</a> (posixfsal_handle_t *p_parent_directory_handle, fsal_name_t *p_filename, posixfsal_op_context_t *p_context, posixfsal_handle_t *p_object_handle, fsal_attrib_list_t *p_object_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__lookup_8c.html#a26385f9f9a87162ad7a42f52dbe2c8e0">POSIXFSAL_lookupPath</a> (fsal_path_t *p_path, posixfsal_op_context_t *p_context, posixfsal_handle_t *object_handle, fsal_attrib_list_t *object_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__lookup_8c.html#a00e9d409b15c29b741b594366cece02b">POSIXFSAL_lookupJunction</a> (posixfsal_handle_t *p_junction_handle, posixfsal_op_context_t *p_context, posixfsal_handle_t *p_fsoot_handle, fsal_attrib_list_t *p_fsroot_attributes)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Lookup operations. </p>
<dl class="author"><dt><b>Author:</b></dt><dd></dd></dl>
<dl class="rcs"><dt><b>Author</b></dt><dd>leibovic </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd></dd></dl>
<dl class="rcs"><dt><b>Date</b></dt><dd>2006/01/24 13:45:37 </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd></dd></dl>
<dl class="rcs"><dt><b>Revision</b></dt><dd>1.17 </dd></dl>

<p>Definition in file <a class="el" href="fsal__lookup_8c_source.html">fsal_lookup.c</a>.</p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a51c5f205cfd9a8a55a2452c7e4dde143"></a><!-- doxytag: member="fsal_lookup.c::POSIXFSAL_lookup" ref="a51c5f205cfd9a8a55a2452c7e4dde143" args="(posixfsal_handle_t *p_parent_directory_handle, fsal_name_t *p_filename, posixfsal_op_context_t *p_context, posixfsal_handle_t *p_object_handle, fsal_attrib_list_t *p_object_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fsal_status_t POSIXFSAL_lookup </td>
          <td>(</td>
          <td class="paramtype">posixfsal_handle_t *&nbsp;</td>
          <td class="paramname"> <em>p_parent_directory_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_name_t *&nbsp;</td>
          <td class="paramname"> <em>p_filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">posixfsal_op_context_t *&nbsp;</td>
          <td class="paramname"> <em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">posixfsal_handle_t *&nbsp;</td>
          <td class="paramname"> <em>p_object_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_attrib_list_t *&nbsp;</td>
          <td class="paramname"> <em>p_object_attributes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_lookup : Looks up for an object into a directory.</p>
<p>Note : if parent handle and filename are NULL, this retrieves root's handle.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>parent_directory_handle</em>&nbsp;</td><td>(input) Handle of the parent directory to search the object in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>(input) The name of the object to find. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_context</em>&nbsp;</td><td>(input) Authentication context for the operation (user,...). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>object_handle</em>&nbsp;</td><td>(output) The handle of the object corresponding to filename. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>object_attributes</em>&nbsp;</td><td>(optional input/output) Pointer to the attributes of the object we found. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). It can be NULL (increases performances).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- ERR_FSAL_NO_ERROR, if no error.<ul>
<li>Another error code else. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="fsal__lookup_8c_source.html#l00049">49</a> of file <a class="el" href="fsal__lookup_8c_source.html">fsal_lookup.c</a>.</p>

<p>References <a class="el" href="fsal__internal_8c_source.html#l00555">fsal_internal_appendFSALNameToFSALPath()</a>, <a class="el" href="fsal__internal_8c_source.html#l00709">fsal_internal_getInfoFromName()</a>, <a class="el" href="fsal__internal_8c_source.html#l00589">fsal_internal_getPathFromHandle()</a>, <a class="el" href="fsal__internal_8c_source.html#l00499">fsal_internal_posix2posixdb_fileinfo()</a>, <a class="el" href="fsal__convert_8c_source.html#l00039">posix2fsal_error()</a>, and <a class="el" href="fsal__internal_8c_source.html#l00242">TakeTokenFSCall()</a>.</p>

<p>Referenced by <a class="el" href="fsal__lookup_8c_source.html#l00224">POSIXFSAL_lookupPath()</a>, and <a class="el" href="fsal__fileop_8c_source.html#l00060">POSIXFSAL_open_by_name()</a>.</p>

</div>
</div>
<a class="anchor" id="a00e9d409b15c29b741b594366cece02b"></a><!-- doxytag: member="fsal_lookup.c::POSIXFSAL_lookupJunction" ref="a00e9d409b15c29b741b594366cece02b" args="(posixfsal_handle_t *p_junction_handle, posixfsal_op_context_t *p_context, posixfsal_handle_t *p_fsoot_handle, fsal_attrib_list_t *p_fsroot_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fsal_status_t POSIXFSAL_lookupJunction </td>
          <td>(</td>
          <td class="paramtype">posixfsal_handle_t *&nbsp;</td>
          <td class="paramname"> <em>p_junction_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">posixfsal_op_context_t *&nbsp;</td>
          <td class="paramname"> <em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">posixfsal_handle_t *&nbsp;</td>
          <td class="paramname"> <em>p_fsoot_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_attrib_list_t *&nbsp;</td>
          <td class="paramname"> <em>p_fsroot_attributes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_lookupJunction : Get the fileset root for a junction.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_junction_handle</em>&nbsp;</td><td>(input) Handle of the junction to be looked up. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_context</em>&nbsp;</td><td>(input) Authentication context for the operation (user,...). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_fsroot_handle</em>&nbsp;</td><td>(output) The handle of root directory of the fileset. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_fsroot_attributes</em>&nbsp;</td><td>(optional input/output) Pointer to the attributes of the root directory for the fileset. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). It can be NULL (increases performances).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- ERR_FSAL_NO_ERROR, if no error.<ul>
<li>Another error code else. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="fsal__lookup_8c_source.html#l00358">358</a> of file <a class="el" href="fsal__lookup_8c_source.html">fsal_lookup.c</a>.</p>

</div>
</div>
<a class="anchor" id="a26385f9f9a87162ad7a42f52dbe2c8e0"></a><!-- doxytag: member="fsal_lookup.c::POSIXFSAL_lookupPath" ref="a26385f9f9a87162ad7a42f52dbe2c8e0" args="(fsal_path_t *p_path, posixfsal_op_context_t *p_context, posixfsal_handle_t *object_handle, fsal_attrib_list_t *object_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fsal_status_t POSIXFSAL_lookupPath </td>
          <td>(</td>
          <td class="paramtype">fsal_path_t *&nbsp;</td>
          <td class="paramname"> <em>p_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">posixfsal_op_context_t *&nbsp;</td>
          <td class="paramname"> <em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">posixfsal_handle_t *&nbsp;</td>
          <td class="paramname"> <em>object_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_attrib_list_t *&nbsp;</td>
          <td class="paramname"> <em>object_attributes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_lookupPath : Looks up for an object into the namespace.</p>
<p>Note : if path equals "/", this retrieves root's handle.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>(input) The path of the object to find. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_context</em>&nbsp;</td><td>(input) Authentication context for the operation (user,...). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>object_handle</em>&nbsp;</td><td>(output) The handle of the object corresponding to filename. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>object_attributes</em>&nbsp;</td><td>(optional input/output) Pointer to the attributes of the object we found. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). It can be NULL (increases performances). </td></tr>
  </table>
  </dd>
</dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000007">Todo:</a></b></dt><dd>: Be carefull about junction crossing, symlinks, hardlinks,... </dd></dl>
</p>

<p>Definition at line <a class="el" href="fsal__lookup_8c_source.html#l00224">224</a> of file <a class="el" href="fsal__lookup_8c_source.html">fsal_lookup.c</a>.</p>

<p>References <a class="el" href="fsal__lookup_8c_source.html#l00049">POSIXFSAL_lookup()</a>.</p>

<p>Referenced by <a class="el" href="fsal__internal_8c_source.html#l00589">fsal_internal_getPathFromHandle()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 15 Sep 2010 for File System Abstraction Layer (POSIX) library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
