<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>File System Abstraction Layer (POSIX) library: fsal_ioctl.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>fsal_ioctl.c</h1><a href="fsal__ioctl_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 
00023 <span class="preprocessor">#include "fsal.h"</span>
00024 <span class="preprocessor">#include "fsal_internal.h"</span>
00025 <span class="preprocessor">#include "fsal_convert.h"</span>
00026 
00027 <span class="preprocessor">#include &lt;stdarg.h&gt;</span>
00028 
00029 
00030 <span class="comment">/* Defines the type of attribute  */</span>
00031 <span class="keyword">typedef</span> <span class="keyword">enum</span> named_attr_action_t { NAMEDATTR_GET = 1, NAMEDATTR_SET = 2 } named_attr_action_t;
00032 
00033 <span class="keyword">typedef</span> <span class="keyword">struct </span>fsal_named_attr__ {
00034   
00035     <span class="comment">/* attribute name */</span>
00036     <span class="keywordtype">char</span> * attrName;
00037     
00038     <span class="comment">/* function for handling the attribute */</span>
00039 <span class="comment">/*    fsal_status_t (*handleFunc)(named_attr_action_t,char *,char *,fsal_mdsize_t,int);*/</span>
00040 
00041 } fsal_named_attr_t;
00042 
00043 
00044 <span class="comment">/* Named attributes list */</span>
00045 <span class="comment">/*</span>
00046 <span class="comment">static fsal_named_attr_t  named_attrs[] =</span>
00047 <span class="comment">{  </span>
00048 <span class="comment">  "COS", HandleAttrCos,0,</span>
00049 <span class="comment">  "ReadCount",  HandleAttrRWcount,1,</span>
00050 <span class="comment">  "WriteCount", HandleAttrRWcount,2,</span>
00051 <span class="comment">*/</span>  
00052   <span class="comment">/* end of the list */</span>
00053 <span class="comment">/*  NULL,NULL  </span>
00054 <span class="comment">};</span>
00055 <span class="comment">*/</span>
00056     
00057     
00058 <span class="comment">/* named attributes count */</span>
00059 <span class="preprocessor">#define FSAL_NB_NAMED_ATTRS 3</span>
00060 <span class="preprocessor"></span>
00061     
00062     
<a name="l00067"></a><a class="code" href="fsal__ioctl_8c.html#a5">00067</a> fsal_status_t <a class="code" href="fsal__ioctl_8c.html#a5">FSAL_ioctl</a>(
00068     fsal_handle_t * objecthandle,  <span class="comment">/* IN */</span>
00069     <span class="keywordtype">int</span>           action_id,       <span class="comment">/* IN */</span>
00070     ...  <span class="comment">/* function specific arguments */</span>
00071 ){
00072   
00073 <span class="comment">/*   va_list ioctl_args;*/</span>
00074    
00075   <span class="keywordflow">switch</span>(action_id){
00076     
00077     <span class="keywordflow">case</span> FSAL_IOCTL_GETATTR :
00078       
00081       Return(ERR_FSAL_ATTRNOTSUPP ,0 , INDEX_FSAL_ioctl);      
00082       <span class="keywordflow">break</span>;
00083     
00084     <span class="keywordflow">case</span> FSAL_IOCTL_SETATTR :
00085       
00086        <span class="comment">/* No specific attributes */</span>
00087        Return(ERR_FSAL_ATTRNOTSUPP ,0 , INDEX_FSAL_ioctl);      
00088       <span class="keywordflow">break</span>;
00089 
00090     <span class="keywordflow">case</span> FSAL_IOCTL_GET_ATTRCNT :
00091       
00092        <span class="comment">/* return the number of named attributes */</span>
00093       
00094 <span class="comment">/*       va_start( ioctl_args, action_id );*/</span>
00095        
00096        
00097       
00098       
00099        Return(ERR_FSAL_ATTRNOTSUPP ,0 , INDEX_FSAL_ioctl);      
00100       <span class="keywordflow">break</span>;
00101 
00102     <span class="keywordflow">case</span> FSAL_IOCTL_GET_ATTRNAME :
00103       
00104        <span class="comment">/* No specific attributes */</span>
00105        Return(ERR_FSAL_ATTRNOTSUPP ,0 , INDEX_FSAL_ioctl);      
00106       <span class="keywordflow">break</span>;
00107       
00108                 
00109     <span class="keywordflow">default</span>:   
00110       Return(ERR_FSAL_INVAL ,0 , INDEX_FSAL_ioctl);
00111   }
00112 
00113 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Fri Dec 22 15:04:08 2006 for File System Abstraction Layer (POSIX) library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
