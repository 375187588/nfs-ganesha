.TH "fsal_convert.c" 3 "15 Sep 2010" "Version 0.1" "File System Abstraction Layer (POSIX) library" \" -*- nroff -*-
.ad l
.nh
.SH NAME
fsal_convert.c \- 
.PP
HPSS-FSAL type translation functions.  

.SH SYNOPSIS
.br
.PP
\fC#include 'fsal_convert.h'\fP
.br
\fC#include 'fsal_internal.h'\fP
.br
\fC#include <sys/types.h>\fP
.br
\fC#include <sys/stat.h>\fP
.br
\fC#include <errno.h>\fP
.br
\fC#include <string.h>\fP
.br

.SS "Defines"

.in +1c
.ti -1c
.RI "#define \fBMAX_2\fP(x, y)   ( (x) > (y) ? (x) : (y) )"
.br
.ti -1c
.RI "#define \fBMAX_3\fP(x, y, z)   ( (x) > (y) ? MAX_2((x),(z)) : MAX_2((y),(z)) )"
.br
.in -1c
.SS "Functions"

.in +1c
.ti -1c
.RI "int \fBposix2fsal_error\fP (int posix_errorcode)"
.br
.ti -1c
.RI "int \fBfsal2posix_openflags\fP (fsal_openflags_t fsal_flags, int *p_posix_flags)"
.br
.ti -1c
.RI "fsal_status_t \fBposix2fsal_attributes\fP (struct stat *p_buffstat, fsal_attrib_list_t *p_fsalattr_out)"
.br
.ti -1c
.RI "fsal_status_t \fBposixdb2fsal_error\fP (fsal_posixdb_status_t statusdb)"
.br
.in -1c
.SH "Detailed Description"
.PP 
HPSS-FSAL type translation functions. 

\fBAuthor:\fP
.RS 4
.RE
.PP
\fBAuthor\fP.RS 4
leibovic 
.RE
.PP
\fBDate:\fP
.RS 4
.RE
.PP
\fBDate\fP.RS 4
2006/01/17 15:53:39 
.RE
.PP
\fBVersion:\fP
.RS 4
.RE
.PP
\fBRevision\fP.RS 4
1.31 
.RE
.PP

.PP
Definition in file \fBfsal_convert.c\fP.
.SH "Function Documentation"
.PP 
.SS "int fsal2posix_openflags (fsal_openflags_t fsal_flags, int * p_posix_flags)"fsal2posix_openflags: Convert FSAL open flags to Posix open flags.
.PP
\fBParameters:\fP
.RS 4
\fIfsal_flags\fP (input): The FSAL open flags to be translated. 
.br
\fIp_hpss_flags\fP (output): Pointer to the POSIX open flags.
.RE
.PP
\fBReturns:\fP
.RS 4
- ERR_FSAL_NO_ERROR (no error).
.IP "\(bu" 2
ERR_FSAL_FAULT (p_hpss_flags is a NULL pointer).
.IP "\(bu" 2
ERR_FSAL_INVAL (invalid or incompatible input flags). 
.PP
.RE
.PP

.PP
Definition at line 233 of file fsal_convert.c.
.PP
Referenced by POSIXFSAL_open().
.SS "int posix2fsal_error (int posix_errorcode)"posix2fsal_error : Convert POSIX error codes to FSAL error codes.
.PP
\fBParameters:\fP
.RS 4
\fIposix_errorcode\fP (input): The error code returned from POSIX.
.RE
.PP
\fBReturns:\fP
.RS 4
The FSAL error code associated to posix_errorcode. 
.RE
.PP

.PP
\fBTodo\fP
.RS 4
: The EBADF error also happens when file is opened for reading, and we try writting in it. In this case, we return ERR_FSAL_NOT_OPENED, but it doesn't seems to be a correct error translation. 
.RE
.PP
.PP
\fBWarning:\fP
.RS 4
AIX returns EEXIST where BSD uses ENOTEMPTY; We want ENOTEMPTY to be interpreted anyway on AIX plateforms. Thus, we explicitely write its value (87).
.RE
.PP

.PP
Definition at line 39 of file fsal_convert.c.
.PP
Referenced by POSIXFSAL_close(), POSIXFSAL_closedir(), POSIXFSAL_create(), POSIXFSAL_dynamic_fsinfo(), POSIXFSAL_get_quota(), POSIXFSAL_link(), POSIXFSAL_lookup(), POSIXFSAL_mkdir(), POSIXFSAL_mknode(), POSIXFSAL_open(), POSIXFSAL_opendir(), POSIXFSAL_rcp(), POSIXFSAL_read(), POSIXFSAL_readdir(), POSIXFSAL_readlink(), POSIXFSAL_rename(), POSIXFSAL_set_quota(), POSIXFSAL_setattrs(), POSIXFSAL_symlink(), POSIXFSAL_truncate(), POSIXFSAL_unlink(), and POSIXFSAL_write().
.SS "fsal_status_t posixdb2fsal_error (fsal_posixdb_status_t statusdb)"Concert fsal_posixdb_status_t to fsal_status_t 
.PP
Definition at line 411 of file fsal_convert.c.
.PP
Referenced by fsal_internal_getInfoFromChildrenList(), fsal_internal_getInfoFromName(), fsal_internal_getPathFromHandle(), POSIXFSAL_readdir(), POSIXFSAL_rename(), and POSIXFSAL_unlink().
.SH "Author"
.PP 
Generated automatically by Doxygen for File System Abstraction Layer (POSIX) library from the source code.
