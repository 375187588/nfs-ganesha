\section{fsal\_\-symlinks.c File Reference}
\label{fsal__symlinks_8c}\index{fsal\_\-symlinks.c@{fsal\_\-symlinks.c}}
symlinks operations.  


{\tt \#include \char`\"{}fsal.h\char`\"{}}\par
{\tt \#include \char`\"{}fsal\_\-internal.h\char`\"{}}\par
{\tt \#include \char`\"{}fsal\_\-convert.h\char`\"{}}\par
{\tt \#include $<$string.h$>$}\par
\subsection*{Functions}
\begin{CompactItemize}
\item 
fsal\_\-status\_\-t {\bf FSAL\_\-readlink} (fsal\_\-handle\_\-t $\ast$p\_\-linkhandle, fsal\_\-op\_\-context\_\-t $\ast$p\_\-context, fsal\_\-path\_\-t $\ast$p\_\-link\_\-content, fsal\_\-attrib\_\-list\_\-t $\ast$p\_\-link\_\-attributes)
\item 
fsal\_\-status\_\-t {\bf FSAL\_\-symlink} (fsal\_\-handle\_\-t $\ast$p\_\-parent\_\-directory\_\-handle, fsal\_\-name\_\-t $\ast$p\_\-linkname, fsal\_\-path\_\-t $\ast$p\_\-linkcontent, fsal\_\-op\_\-context\_\-t $\ast$p\_\-context, fsal\_\-accessmode\_\-t accessmode, fsal\_\-handle\_\-t $\ast$p\_\-link\_\-handle, fsal\_\-attrib\_\-list\_\-t $\ast$p\_\-link\_\-attributes)
\end{CompactItemize}


\subsection{Detailed Description}
symlinks operations. 

\begin{Desc}
\item[Author:]\end{Desc}
\begin{Desc}
\item[Author]leibovic \end{Desc}
\begin{Desc}
\item[Date:]\end{Desc}
\begin{Desc}
\item[Date]2005/07/29 09:39:04 \end{Desc}
\begin{Desc}
\item[Version:]\end{Desc}
\begin{Desc}
\item[Revision]1.15 \end{Desc}


Definition in file {\bf fsal\_\-symlinks.c}.

\subsection{Function Documentation}
\index{fsal\_\-symlinks.c@{fsal\_\-symlinks.c}!FSAL\_\-readlink@{FSAL\_\-readlink}}
\index{FSAL\_\-readlink@{FSAL\_\-readlink}!fsal_symlinks.c@{fsal\_\-symlinks.c}}
\subsubsection[{FSAL\_\-readlink}]{\setlength{\rightskip}{0pt plus 5cm}fsal\_\-status\_\-t FSAL\_\-readlink (fsal\_\-handle\_\-t $\ast$ {\em p\_\-linkhandle}, \/  fsal\_\-op\_\-context\_\-t $\ast$ {\em p\_\-context}, \/  fsal\_\-path\_\-t $\ast$ {\em p\_\-link\_\-content}, \/  fsal\_\-attrib\_\-list\_\-t $\ast$ {\em p\_\-link\_\-attributes})}\label{fsal__symlinks_8c_c6a33c4a1cf8d89d48ebf73ac49c0b0f}


FSAL\_\-readlink: Read the content of a symbolic link.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em linkhandle}](input): Handle of the link to be read. \item[{\em cred}](input): Authentication context for the operation (user,...). \item[{\em p\_\-link\_\-content}](output): Pointer to an fsal path structure where the link content is to be stored.. \item[{\em link\_\-attributes}](optionnal input/output): The post operation attributes of the symlink link. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL.\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Major error codes :\begin{itemize}
\item ERR\_\-FSAL\_\-NO\_\-ERROR (no error)\item Another error code if an error occured. \end{itemize}
\end{Desc}


Definition at line 47 of file fsal\_\-symlinks.c.

References FSAL\_\-getattrs(), fsal\_\-internal\_\-getPathFromHandle(), FSAL\_\-str2path(), posix2fsal\_\-error(), and TakeTokenFSCall().\index{fsal\_\-symlinks.c@{fsal\_\-symlinks.c}!FSAL\_\-symlink@{FSAL\_\-symlink}}
\index{FSAL\_\-symlink@{FSAL\_\-symlink}!fsal_symlinks.c@{fsal\_\-symlinks.c}}
\subsubsection[{FSAL\_\-symlink}]{\setlength{\rightskip}{0pt plus 5cm}fsal\_\-status\_\-t FSAL\_\-symlink (fsal\_\-handle\_\-t $\ast$ {\em p\_\-parent\_\-directory\_\-handle}, \/  fsal\_\-name\_\-t $\ast$ {\em p\_\-linkname}, \/  fsal\_\-path\_\-t $\ast$ {\em p\_\-linkcontent}, \/  fsal\_\-op\_\-context\_\-t $\ast$ {\em p\_\-context}, \/  fsal\_\-accessmode\_\-t {\em accessmode}, \/  fsal\_\-handle\_\-t $\ast$ {\em p\_\-link\_\-handle}, \/  fsal\_\-attrib\_\-list\_\-t $\ast$ {\em p\_\-link\_\-attributes})}\label{fsal__symlinks_8c_e9c8504226932bb21bdf56e667c8d001}


FSAL\_\-symlink: Create a symbolic link.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em parent\_\-directory\_\-handle}](input): Handle of the parent directory where the link is to be created. \item[{\em p\_\-linkname}](input): Name of the link to be created. \item[{\em p\_\-linkcontent}](input): Content of the link to be created. \item[{\em cred}](input): Authentication context for the operation (user,...). \item[{\em accessmode}](ignored input): Mode of the link to be created. It has no sense in HPSS nor UNIX filesystems. \item[{\em link\_\-handle}](output): Pointer to the handle of the created symlink. \item[{\em link\_\-attributes}](optionnal input/output): Attributes of the newly created symlink. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL.\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Major error codes :\begin{itemize}
\item ERR\_\-FSAL\_\-NO\_\-ERROR (no error)\item Another error code if an error occured. \end{itemize}
\end{Desc}


Definition at line 142 of file fsal\_\-symlinks.c.

References fsal\_\-internal\_\-appendFSALNameToFSALPath(), fsal\_\-internal\_\-getPathFromHandle(), fsal\_\-internal\_\-posix2posixdb\_\-fileinfo(), posix2fsal\_\-error(), and TakeTokenFSCall().