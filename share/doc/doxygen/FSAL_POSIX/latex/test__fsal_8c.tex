\section{test\_\-fsal.c File Reference}
\label{test__fsal_8c}\index{test\_\-fsal.c@{test\_\-fsal.c}}


Program for testing fsal.  
{\ttfamily \#include \char`\"{}fsal.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}log\_\-macros.h\char`\"{}}\par
{\ttfamily \#include $<$unistd.h$>$}\par
{\ttfamily \#include $<$stdlib.h$>$}\par
{\ttfamily \#include $<$string.h$>$}\par
{\ttfamily \#include $<$sys/types.h$>$}\par
{\ttfamily \#include \char`\"{}BuddyMalloc.h\char`\"{}}\par
\subsection*{Defines}
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries READDIR\_\-SIZE}~5\label{test__fsal_8c_a23f27c010a8ef80f23da9070400f3244}

\item 
\#define {\bfseries CHANGE\_\-ATTRS}(str\_\-nom, nom, flag, new\_\-val)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void {\bfseries printmask} (fsal\_\-attrib\_\-mask\_\-t mask)\label{test__fsal_8c_a97f533a652ce754b0d9faf4a52572e62}

\item 
char $\ast$ {\bfseries strtype} (fsal\_\-nodetype\_\-t type)\label{test__fsal_8c_a55da3e758cacb2e7378990063ef42124}

\item 
void {\bfseries printattributes} (fsal\_\-attrib\_\-list\_\-t attrs)\label{test__fsal_8c_a39093f42286fd46a5becd50e021cc4ae}

\item 
void {\bfseries usage} ()\label{test__fsal_8c_a2ef30c42cbc289d899a8be5d2d8f77d0}

\item 
int {\bfseries main} (int argc, char $\ast$$\ast$argv)\label{test__fsal_8c_a3c04138a5bfe5d72780bb7e82a18e627}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Program for testing fsal. \begin{DoxyAuthor}{Author}

\end{DoxyAuthor}
Author}
leibovic \begin{DoxyDate}{Date}

\end{DoxyDate}
Date}
2006/02/09 12:40:52 \begin{DoxyVersion}{Version}

\end{DoxyVersion}
Revision}
1.25 

Definition in file {\bf test\_\-fsal.c}.

\subsection{Define Documentation}
\index{test\_\-fsal.c@{test\_\-fsal.c}!CHANGE\_\-ATTRS@{CHANGE\_\-ATTRS}}
\index{CHANGE\_\-ATTRS@{CHANGE\_\-ATTRS}!test_fsal.c@{test\_\-fsal.c}}
\subsubsection[{CHANGE\_\-ATTRS}]{\setlength{\rightskip}{0pt plus 5cm}\#define CHANGE\_\-ATTRS(str\_\-nom, \/  nom, \/  flag, \/  new\_\-val)}\label{test__fsal_8c_a73abd6e98454080c0b9aec2922f9694a}
{\bfseries Value:}
\begin{DoxyCode}
do {\
  memset(&attr_set, 0, sizeof(fsal_attrib_list_t) );    \
  Logtest("\nTry to change '%s' :",str_nom);           \
  FSAL_SET_MASK( attr_set.asked_attributes , flag );    \
  attr_set.nom = new_val;                               \
  attribs.asked_attributes = attr_set.asked_attributes; \
/*  attribs.asked_attributes = mask;                      */\
  st = FSAL_setattrs( &dir_hdl, &op_ctx, &attr_set, &attribs );\
  if ( FSAL_IS_ERROR(st) )                              \
    LogError(COMPONENT_FSAL,ERR_FSAL,st.major,st.minor);\
  else                                                  \
    printattributes( attribs );                         \
  } while(0)
\end{DoxyCode}
