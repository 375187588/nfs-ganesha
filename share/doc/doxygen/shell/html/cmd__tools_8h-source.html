<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ganeshell: cmd_tools.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>cmd_tools.h</h1><a href="cmd__tools_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 
00057 <span class="preprocessor">#ifndef _CMD_TOOLS_H</span>
00058 <span class="preprocessor"></span><span class="preprocessor">#define _CMD_TOOLS_H</span>
00059 <span class="preprocessor"></span>
00060 <span class="preprocessor">#ifdef _LINUX</span>
00061 <span class="preprocessor"></span><span class="preprocessor">#include &lt;stddef.h&gt;</span>
00062 <span class="preprocessor">#endif</span>
00063 <span class="preprocessor"></span>
00064 <span class="preprocessor">#include "fsal.h"</span>
00065 <span class="preprocessor">#include &lt;time.h&gt;</span>
00066 
00067 <span class="comment">/* thread-safe and PORTABLE version of localtime... */</span>
00068 <span class="keyword">struct </span>tm * <a class="code" href="cmd__tools_8h.html#a9">Localtime_r</a>( <span class="keyword">const</span> time_t * p_time, <span class="keyword">struct</span> tm * p_tm );
00069 
00079 <span class="keywordtype">int</span> <a class="code" href="cmd__tools_8h.html#a10">my_atoi</a>(<span class="keywordtype">char</span> * str);
00080 
00081 
00082 
00092 <span class="keywordtype">int</span> <a class="code" href="cmd__tools_8h.html#a11">atomode</a>(<span class="keywordtype">char</span> * str);
00093 
00094 
00095 <span class="keywordtype">int</span> <a class="code" href="cmd__tools_8h.html#a12">ato64</a>(<span class="keywordtype">char</span> * str, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> * out64);
00096 
00097 
00098 time_t <a class="code" href="cmd__tools_8h.html#a13">atotime</a>(<span class="keywordtype">char</span> * str);
00099 <span class="keywordtype">char</span> * <a class="code" href="cmd__tools_8h.html#a14">time2str</a>(time_t time_in,<span class="keywordtype">char</span> * str_out);
00100 
00101 
00111 <span class="keywordtype">void</span> <a class="code" href="cmd__tools_8h.html#a15">split_path</a>(<span class="keywordtype">char</span> * in_path, <span class="keywordtype">char</span> ** p_path, <span class="keywordtype">char</span> ** p_file);
00112 
00113 
00124 <span class="keywordtype">void</span> <a class="code" href="cmd__tools_8h.html#a16">clean_path</a>(<span class="keywordtype">char</span> * str,<span class="keywordtype">int</span> len);
00125 
00126 
00137 <span class="keywordtype">char</span> * <a class="code" href="cmd__tools_8h.html#a17">concat</a>( <span class="keywordtype">char</span> * str1, <span class="keywordtype">char</span> * str2, size_t max_len );
00138 
00139 
00149 <span class="keywordtype">void</span> <a class="code" href="cmd__tools_8h.html#a18">print_fsal_status</a>(FILE * output,fsal_status_t status);
00150 
00151 
00152 
00161 <span class="keywordtype">void</span> <a class="code" href="cmd__tools_8h.html#a19">print_fsal_attrib_mask</a>(fsal_attrib_mask_t mask,FILE * output);
00162 
00170 <span class="keywordtype">char</span> * <a class="code" href="cmd__tools_8h.html#a20">strtype</a>(fsal_nodetype_t type);
00171 
00172 
00181 <span class="keywordtype">void</span> <a class="code" href="cmd__tools_8h.html#a21">print_fsal_attributes</a>( fsal_attrib_list_t attrs,FILE * output);
00182 
00183 
00184 
00197 <span class="keywordtype">void</span> <a class="code" href="cmd__tools_8h.html#a22">print_item_line</a>( FILE * out,fsal_attrib_list_t * attrib, <span class="keywordtype">char</span> * name , <span class="keywordtype">char</span> * target);
00198 
00199 
00200 <span class="comment">/*</span>
00201 <span class="comment"> * Thoses structures are used to handle FSAL attributes.</span>
00202 <span class="comment"> */</span>
00203 
<a name="l00205"></a><a class="code" href="cmd__tools_8h.html#a26">00205</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="cmd__tools_8h.html#a26">shell_attr_type__</a> {  
00206   
00207   <a class="code" href="cmd__tools_8h.html#a26a4">ATTR_NONE</a> = 0, <span class="comment">/* this special value is used</span>
00208 <span class="comment">            to indicate the end of the attribute list */</span>
00209       
00210   ATTR_32, <span class="comment">/* 32 bits attribute */</span>
00211   ATTR_64, <span class="comment">/* 64 bits attribute */</span>
00212   ATTR_OCTAL, <span class="comment">/* octal number attribute */</span>
00213   <a class="code" href="cmd__tools_8h.html#a26a8">ATTR_TIME</a>   <span class="comment">/* YYYYMMDDhhmmss attribute */</span>
00214       
00215 } shell_attr_type_t;
00216 
00217 
<a name="l00219"></a><a class="code" href="structshell__attribute____.html">00219</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structshell__attribute____.html">shell_attribute__</a> {
00220   
<a name="l00221"></a><a class="code" href="structshell__attribute____.html#o0">00221</a>   <span class="keywordtype">char</span> *                attr_name ; <span class="comment">/* name of the attribute. */</span>
<a name="l00222"></a><a class="code" href="structshell__attribute____.html#o1">00222</a>   <a class="code" href="cmd__tools_8h.html#a1">shell_attr_type_t</a>     attr_type ; <span class="comment">/* type of the attribute. */</span>  
<a name="l00223"></a><a class="code" href="structshell__attribute____.html#o2">00223</a>   fsal_attrib_mask_t    attr_mask ; <span class="comment">/* fsal mask constant */</span>
<a name="l00224"></a><a class="code" href="structshell__attribute____.html#o3">00224</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>     attr_offset;<span class="comment">/* fsal field offset */</span>
00225   
00226 } <a class="code" href="structshell__attribute____.html">shell_attribute_t</a> ; 
00227 
00228 
00232 <span class="keyword">static</span> <a class="code" href="structshell__attribute____.html">shell_attribute_t</a>  shell_attr_list[] = {  
00233   
00234   {<span class="stringliteral">"SIZE"</span> , ATTR_64,     FSAL_ATTR_SIZE,  offsetof( fsal_attrib_list_t, filesize )},
00235   {<span class="stringliteral">"MODE"</span> , ATTR_OCTAL,  FSAL_ATTR_MODE,  offsetof( fsal_attrib_list_t, mode )},
00236   {<span class="stringliteral">"OWNER"</span>, ATTR_32,     FSAL_ATTR_OWNER, offsetof( fsal_attrib_list_t, owner )},
00237   {<span class="stringliteral">"GROUP"</span>, ATTR_32,     FSAL_ATTR_GROUP, offsetof( fsal_attrib_list_t, group )},
00238   {<span class="stringliteral">"ATIME"</span>, ATTR_TIME,   FSAL_ATTR_ATIME, offsetof( fsal_attrib_list_t, atime )},
00239   {<span class="stringliteral">"CTIME"</span>, ATTR_TIME,   FSAL_ATTR_CTIME, offsetof( fsal_attrib_list_t, ctime )},
00240   {<span class="stringliteral">"MTIME"</span>, ATTR_TIME,   FSAL_ATTR_MTIME, offsetof( fsal_attrib_list_t, mtime )},
00241       
00242   <span class="comment">/* end of the list */</span>
00243   {NULL, ATTR_NONE, 0, 0}
00244   
00245 };
00246 
00247 
00254 <span class="keywordtype">int</span> <a class="code" href="cmd__tools_8h.html#a23">MkFSALSetAttrStruct</a>( <span class="keywordtype">char</span> * attribute_list, fsal_attrib_list_t * fsal_set_attr_struct );
00255 
00256 
00257 
00258 
00259 <span class="comment">/* Time diffing function */</span>
00260 <span class="keyword">struct </span>timeval <a class="code" href="cmd__tools_8c.html#a19">time_diff</a>(struct timeval time_from, struct timeval time_to);
00261 
00262 <span class="comment">/* Timeval printing function */</span>
<a name="l00263"></a><a class="code" href="cmd__tools_8h.html#a0">00263</a> <span class="preprocessor">#define print_timeval(out,_tv_) fprintf(out,"%ld.%.6ld s\n",_tv_.tv_sec,_tv_.tv_usec)</span>
00264 <span class="preprocessor"></span>
00265 
00266 <span class="keywordtype">int</span> <a class="code" href="cmd__tools_8h.html#a25">getugroups</a>( <span class="keywordtype">int</span> maxcount, gid_t * grouplist, <span class="keywordtype">char</span> * username, gid_t gid );
00267 
00268 
00269 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Apr 9 08:24:34 2008 for ganeshell by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
