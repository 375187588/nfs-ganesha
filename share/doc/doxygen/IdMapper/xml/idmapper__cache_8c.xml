<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.6.1">
  <compounddef id="idmapper__cache_8c" kind="file">
    <compoundname>idmapper_cache.c</compoundname>
    <includes local="yes">HashData.h</includes>
    <includes local="yes">HashTable.h</includes>
    <includes local="yes">log_macros.h</includes>
    <includes local="yes">stuff_alloc.h</includes>
    <includes local="yes">nfs_core.h</includes>
    <includes local="yes">nfs_exports.h</includes>
    <includes local="yes">config_parsing.h</includes>
    <includes local="no">stdlib.h</includes>
    <includes local="no">string.h</includes>
    <includes local="no">strings.h</includes>
    <includes local="no">pwd.h</includes>
    <includes local="no">grp.h</includes>
    <incdepgraph>
      <node id="26">
        <label>grp.h</label>
      </node>
      <node id="21">
        <label>config_parsing.h</label>
      </node>
      <node id="17">
        <label>log_macros.h</label>
      </node>
      <node id="22">
        <label>stdlib.h</label>
      </node>
      <node id="14">
        <label>idmapper_cache.c</label>
        <link refid="idmapper_cache.c"/>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
      </node>
      <node id="23">
        <label>string.h</label>
      </node>
      <node id="16">
        <label>HashTable.h</label>
      </node>
      <node id="20">
        <label>nfs_exports.h</label>
      </node>
      <node id="19">
        <label>nfs_core.h</label>
      </node>
      <node id="24">
        <label>strings.h</label>
      </node>
      <node id="25">
        <label>pwd.h</label>
      </node>
      <node id="18">
        <label>stuff_alloc.h</label>
      </node>
      <node id="15">
        <label>HashData.h</label>
      </node>
    </incdepgraph>
      <sectiondef kind="var">
      <memberdef kind="variable" id="idmapper__cache_8c_1a527093d92c798ccda9b2f416a5ad1144" prot="public" static="no" mutable="no">
        <type>hash_table_t *</type>
        <definition>hash_table_t* ht_pwnam</definition>
        <argsstring></argsstring>
        <name>ht_pwnam</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="64" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="64" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="idmapper__cache_8c_1ae7494dde624c78de75de7e1e79922d3c" prot="public" static="no" mutable="no">
        <type>hash_table_t *</type>
        <definition>hash_table_t* ht_grnam</definition>
        <argsstring></argsstring>
        <name>ht_grnam</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="65" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="65" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="idmapper__cache_8c_1acc89124b9f3e051bb615be745629ee8c" prot="public" static="no" mutable="no">
        <type>hash_table_t *</type>
        <definition>hash_table_t* ht_pwuid</definition>
        <argsstring></argsstring>
        <name>ht_pwuid</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="66" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="66" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="idmapper__cache_8c_1a803ecbb68bca171e9bb89dfd8c38ed98" prot="public" static="no" mutable="no">
        <type>hash_table_t *</type>
        <definition>hash_table_t* ht_grgid</definition>
        <argsstring></argsstring>
        <name>ht_grgid</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="67" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="67" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="idmapper__cache_8c_1aa745101ed26cbf574e1c21a971999541" prot="public" static="no" mutable="no">
        <type>hash_table_t *</type>
        <definition>hash_table_t* ht_uidgid</definition>
        <argsstring></argsstring>
        <name>ht_uidgid</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="68" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="68" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="idmapper__cache_8c_1aeb8fc46586993cf210777049fca03969" prot="public" static="no" mutable="no">
        <type>nfs_parameter_t</type>
        <definition>nfs_parameter_t nfs_param</definition>
        <argsstring></argsstring>
        <name>nfs_param</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="70" bodyfile="/export/GANESHA/src/IdMapper/test_idmapper.c" bodystart="49" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="idmapper__cache_8c_1afc92d2231e45d19988c7894aa2a07f0c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>size_t</type>
        <definition>size_t strnlen</definition>
        <argsstring>(const char *s, size_t maxlen)</argsstring>
        <name>strnlen</name>
        <param>
          <type>const char *</type>
          <declname>s</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>maxlen</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="60"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a4bc99cf1d9dbf2c72bfcb18e3b9f96a9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>unsigned long</type>
        <definition>unsigned long idmapper_value_hash_func</definition>
        <argsstring>(hash_parameter_t *p_hparam, hash_buffer_t *buffclef)</argsstring>
        <name>idmapper_value_hash_func</name>
        <param>
          <type>hash_parameter_t *</type>
          <declname>p_hparam</declname>
        </param>
        <param>
          <type>hash_buffer_t *</type>
          <declname>buffclef</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>idmapper_rbt_hash_func: computes the hash value for the entry in id mapper stuff</para><para>Computes the hash value for the entry in id mapper stuff. In fact, it just use addresse as value (identity function) modulo the size of the hash. This function is called internal in the HasTable_* function</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>hparam</parametername>
</parameternamelist>
<parameterdescription>
<para>[IN] hash table parameter. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>buffcleff[in]</parametername>
</parameternamelist>
<parameterdescription>
<para>pointer to the hash key buffer</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>the computed hash value.</para></simplesect>
<simplesect kind="see"><para>HashTable_Init </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="89" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="87" bodyend="99"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a0a475fcc1e14b35db184e52752791043" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>unsigned long</type>
        <definition>unsigned long namemapper_value_hash_func</definition>
        <argsstring>(hash_parameter_t *p_hparam, hash_buffer_t *buffclef)</argsstring>
        <name>namemapper_value_hash_func</name>
        <param>
          <type>hash_parameter_t *</type>
          <declname>p_hparam</declname>
        </param>
        <param>
          <type>hash_buffer_t *</type>
          <declname>buffclef</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="103" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="101" bodyend="105"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a729313a803f3f4f39cfec7daf9a744bb" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>unsigned long</type>
        <definition>unsigned long idmapper_rbt_hash_func</definition>
        <argsstring>(hash_parameter_t *p_hparam, hash_buffer_t *buffclef)</argsstring>
        <name>idmapper_rbt_hash_func</name>
        <param>
          <type>hash_parameter_t *</type>
          <declname>p_hparam</declname>
        </param>
        <param>
          <type>hash_buffer_t *</type>
          <declname>buffclef</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>idmapper_rbt_hash_func: computes the rbt value for the entry in the id mapper stuff.</para><para>Computes the rbt value for the entry in the id mapper stuff.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>hparam</parametername>
</parameternamelist>
<parameterdescription>
<para>[IN] hash table parameter. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>buffcleff[in]</parametername>
</parameternamelist>
<parameterdescription>
<para>pointer to the hash key buffer</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>the computed rbt value.</para></simplesect>
<simplesect kind="see"><para>HashTable_Init </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="123" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="121" bodyend="131"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1adb422090da3e3064942f31392c46d449" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>unsigned long</type>
        <definition>unsigned long namemapper_rbt_hash_func</definition>
        <argsstring>(hash_parameter_t *p_hparam, hash_buffer_t *buffclef)</argsstring>
        <name>namemapper_rbt_hash_func</name>
        <param>
          <type>hash_parameter_t *</type>
          <declname>p_hparam</declname>
        </param>
        <param>
          <type>hash_buffer_t *</type>
          <declname>buffclef</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="135" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="133" bodyend="137"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a4652d8814116ae81f60dd134517dc4fa" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int compare_idmapper</definition>
        <argsstring>(hash_buffer_t *buff1, hash_buffer_t *buff2)</argsstring>
        <name>compare_idmapper</name>
        <param>
          <type>hash_buffer_t *</type>
          <declname>buff1</declname>
        </param>
        <param>
          <type>hash_buffer_t *</type>
          <declname>buff2</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>compare_idmapper: compares the values stored in the key buffers.</para><para>Compares the values stored in the key buffers. This function is to be used as &apos;compare_key&apos; field in the hashtable storing the nfs duplicated requests.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>buff1</parametername>
</parameternamelist>
<parameterdescription>
<para>[IN] first key </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>buff2</parametername>
</parameternamelist>
<parameterdescription>
<para>[IN] second key</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>0 if keys are identifical, 1 if they are different. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="153" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="152" bodyend="155"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a03c9e848d4ce5878e380c465d4d81985" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int compare_namemapper</definition>
        <argsstring>(hash_buffer_t *buff1, hash_buffer_t *buff2)</argsstring>
        <name>compare_namemapper</name>
        <param>
          <type>hash_buffer_t *</type>
          <declname>buff1</declname>
        </param>
        <param>
          <type>hash_buffer_t *</type>
          <declname>buff2</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="158" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="157" bodyend="163"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a14ec9f64a8035fdaed98ec6674bdf871" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int display_idmapper_key</definition>
        <argsstring>(hash_buffer_t *pbuff, char *str)</argsstring>
        <name>display_idmapper_key</name>
        <param>
          <type>hash_buffer_t *</type>
          <declname>pbuff</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>str</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>display_idmapper_key: displays the entry key stored in the buffer.</para><para>Displays the entry key stored in the buffer. This function is to be used as &apos;key_to_str&apos; field in the hashtable storing the id mapper stuff</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>buff1</parametername>
</parameternamelist>
<parameterdescription>
<para>[IN] buffer to display </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>buff2</parametername>
</parameternamelist>
<parameterdescription>
<para>[OUT] output string</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>number of character written. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="179" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="178" bodyend="181"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1adadfbdb8951a6c3d44a36e536484169b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int display_idmapper_val</definition>
        <argsstring>(hash_buffer_t *pbuff, char *str)</argsstring>
        <name>display_idmapper_val</name>
        <param>
          <type>hash_buffer_t *</type>
          <declname>pbuff</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>str</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>display_idmapper_val: displays the entry key stored in the buffer.</para><para>Displays the entry key stored in the buffer. This function is to be used as &apos;val_to_str&apos; field in the hashtable storing the id mapper stuff</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>buff1</parametername>
</parameternamelist>
<parameterdescription>
<para>[IN] buffer to display </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>buff2</parametername>
</parameternamelist>
<parameterdescription>
<para>[OUT] output string</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>number of character written. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="197" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="196" bodyend="199"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1abf9c2ab28fa414eb449b28eaaf3112ba" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int idmap_uid_init</definition>
        <argsstring>(nfs_idmap_cache_parameter_t param)</argsstring>
        <name>idmap_uid_init</name>
        <param>
          <type>nfs_idmap_cache_parameter_t</type>
          <declname>param</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>idmap_uid_init: Inits the hashtable for UID mapping.</para><para>Inits the hashtable for UID mapping.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>param</parametername>
</parameternamelist>
<parameterdescription>
<para>[IN] parameter used to init the uid map cache</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>0 if successful, -1 otherwise </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="213" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="212" bodyend="221"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a0925c482c1d623eaabbe130c2c3f1fc3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int uidgidmap_init</definition>
        <argsstring>(nfs_idmap_cache_parameter_t param)</argsstring>
        <name>uidgidmap_init</name>
        <param>
          <type>nfs_idmap_cache_parameter_t</type>
          <declname>param</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="224" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="223" bodyend="232"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a05807941c6f652ce30fea46008172f1f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int idmap_uname_init</definition>
        <argsstring>(nfs_idmap_cache_parameter_t param)</argsstring>
        <name>idmap_uname_init</name>
        <param>
          <type>nfs_idmap_cache_parameter_t</type>
          <declname>param</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="235" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="234" bodyend="243"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a2631dd65acc2e38bb9719c4c9fd75193" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int idmap_gid_init</definition>
        <argsstring>(nfs_idmap_cache_parameter_t param)</argsstring>
        <name>idmap_gid_init</name>
        <param>
          <type>nfs_idmap_cache_parameter_t</type>
          <declname>param</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>idmap_gid_init: Inits the hashtable for GID mapping.</para><para>Inits the hashtable for GID mapping.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>param</parametername>
</parameternamelist>
<parameterdescription>
<para>[IN] parameter used to init the gid map cache</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>0 if successful, -1 otherwise </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="257" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="256" bodyend="265"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1ae0cd9a5dca7f19fb5daa33e69607b32b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int idmap_gname_init</definition>
        <argsstring>(nfs_idmap_cache_parameter_t param)</argsstring>
        <name>idmap_gname_init</name>
        <param>
          <type>nfs_idmap_cache_parameter_t</type>
          <declname>param</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="268" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="267" bodyend="276"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a796df37f78d861ddd66eec516048fd86" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int idmap_compute_hash_value</definition>
        <argsstring>(char *name, uint32_t *phashval)</argsstring>
        <name>idmap_compute_hash_value</name>
        <param>
          <type>char *</type>
          <declname>name</declname>
        </param>
        <param>
          <type>uint32_t *</type>
          <declname>phashval</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>idmap_compute_hash_value: computes the hash value, based on the string.</para><para>Computes the computes the hash value, based on the string. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="287" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="286" bodyend="379"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1ab9e636f85fac1edc57f0da904965b8c1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int idmap_add</definition>
        <argsstring>(hash_table_t *ht, char *key, unsigned int val)</argsstring>
        <name>idmap_add</name>
        <param>
          <type>hash_table_t *</type>
          <declname>ht</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>key</declname>
        </param>
        <param>
          <type>unsigned int</type>
          <declname>val</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>idmap_add: Adds a value by key</para><para>Adss a value by key.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ht</parametername>
</parameternamelist>
<parameterdescription>
<para>[INOUT] the hash table to be used </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>key</parametername>
</parameternamelist>
<parameterdescription>
<para>[IN] the ip address requested </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>val</parametername>
</parameternamelist>
<parameterdescription>
<para>[OUT] the value</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>ID_MAPPER_SUCCESS, ID_MAPPER_INSERT_MALLOC_ERROR, ID_MAPPER_INVALID_ARGUMENT </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="395" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="394" bodyend="422"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a95d746a55519b611246b4c9326a28ac1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int namemap_add</definition>
        <argsstring>(hash_table_t *ht, unsigned int key, char *val)</argsstring>
        <name>namemap_add</name>
        <param>
          <type>hash_table_t *</type>
          <declname>ht</declname>
        </param>
        <param>
          <type>unsigned int</type>
          <declname>key</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>val</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="425" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="424" bodyend="452"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a37f367aefcc87bca067606b2fc2af379" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int uidgidmap_add</definition>
        <argsstring>(unsigned int key, unsigned int value)</argsstring>
        <name>uidgidmap_add</name>
        <param>
          <type>unsigned int</type>
          <declname>key</declname>
        </param>
        <param>
          <type>unsigned int</type>
          <declname>value</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="455" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="454" bodyend="477"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a474f4be51671ef038fb49a35223bc42d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int uidmap_add</definition>
        <argsstring>(char *key, unsigned int val)</argsstring>
        <name>uidmap_add</name>
        <param>
          <type>char *</type>
          <declname>key</declname>
        </param>
        <param>
          <type>unsigned int</type>
          <declname>val</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="480" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="479" bodyend="493"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1ab58b924b503182d75dabd08fbe3e6889" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int unamemap_add</definition>
        <argsstring>(unsigned int key, char *val)</argsstring>
        <name>unamemap_add</name>
        <param>
          <type>unsigned int</type>
          <declname>key</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>val</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="496" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="495" bodyend="509"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a946524da4c88b16a9c634714e4521ec5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int gidmap_add</definition>
        <argsstring>(char *key, unsigned int val)</argsstring>
        <name>gidmap_add</name>
        <param>
          <type>char *</type>
          <declname>key</declname>
        </param>
        <param>
          <type>unsigned int</type>
          <declname>val</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="512" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="511" bodyend="525"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a1db6c0f855c9e70ecd4c1da4146b7cad" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int gnamemap_add</definition>
        <argsstring>(unsigned int key, char *val)</argsstring>
        <name>gnamemap_add</name>
        <param>
          <type>unsigned int</type>
          <declname>key</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>val</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="528" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="527" bodyend="541"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a3a0f02f2bbe56b5306ece7a6f02b700f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int idmap_get</definition>
        <argsstring>(hash_table_t *ht, char *key, unsigned long *pval)</argsstring>
        <name>idmap_get</name>
        <param>
          <type>hash_table_t *</type>
          <declname>ht</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>key</declname>
        </param>
        <param>
          <type>unsigned long *</type>
          <declname>pval</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>idmap_get: gets a value by key</para><para>Gets a value by key.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ht</parametername>
</parameternamelist>
<parameterdescription>
<para>[INOUT] the hash table to be used </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>key</parametername>
</parameternamelist>
<parameterdescription>
<para>[IN] the ip address requested </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>hostname</parametername>
</parameternamelist>
<parameterdescription>
<para>[OUT] the hostname</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>ID_MAPPER_SUCCESS or ID_MAPPER_NOT_FOUND </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="557" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="556" bodyend="580"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1abaf4277d2ef5a4f024fc74ab7ffe0a15" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int namemap_get</definition>
        <argsstring>(hash_table_t *ht, unsigned int key, char *pval)</argsstring>
        <name>namemap_get</name>
        <param>
          <type>hash_table_t *</type>
          <declname>ht</declname>
        </param>
        <param>
          <type>unsigned int</type>
          <declname>key</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>pval</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="583" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="582" bodyend="607"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a269a77994b587d6402e284613c870cf4" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int uidgidmap_get</definition>
        <argsstring>(unsigned int key, unsigned int *pval)</argsstring>
        <name>uidgidmap_get</name>
        <param>
          <type>unsigned int</type>
          <declname>key</declname>
        </param>
        <param>
          <type>unsigned int *</type>
          <declname>pval</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="610" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="609" bodyend="641"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a60fbcceae51d693699699230e0fcbf7b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int uidmap_get</definition>
        <argsstring>(char *key, unsigned long *pval)</argsstring>
        <name>uidmap_get</name>
        <param>
          <type>char *</type>
          <declname>key</declname>
        </param>
        <param>
          <type>unsigned long *</type>
          <declname>pval</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="644" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="643" bodyend="646"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a15f9362d5461b2bea8d056757947e7b1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int unamemap_get</definition>
        <argsstring>(unsigned int key, char *val)</argsstring>
        <name>unamemap_get</name>
        <param>
          <type>unsigned int</type>
          <declname>key</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>val</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="649" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="648" bodyend="651"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1ac6274e1cb3e953c94dd89967fcb820e7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int gidmap_get</definition>
        <argsstring>(char *key, unsigned long *pval)</argsstring>
        <name>gidmap_get</name>
        <param>
          <type>char *</type>
          <declname>key</declname>
        </param>
        <param>
          <type>unsigned long *</type>
          <declname>pval</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="654" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="653" bodyend="656"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1af687ca49f8c500b699a06b3acd9af505" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int gnamemap_get</definition>
        <argsstring>(unsigned int key, char *val)</argsstring>
        <name>gnamemap_get</name>
        <param>
          <type>unsigned int</type>
          <declname>key</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>val</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="659" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="658" bodyend="661"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a2e580f2891f7180bfbd3f5b5e91ce809" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int idmap_remove</definition>
        <argsstring>(hash_table_t *ht, char *key)</argsstring>
        <name>idmap_remove</name>
        <param>
          <type>hash_table_t *</type>
          <declname>ht</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>key</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>idmap_remove: Tries to remove an entry for ID_MAPPER</para><para>Tries to remove an entry for ID_MAPPER</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ht</parametername>
</parameternamelist>
<parameterdescription>
<para>[INOUT] the hash table to be used </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>key</parametername>
</parameternamelist>
<parameterdescription>
<para>[IN] the key uncached.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>the delete status </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="676" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="675" bodyend="697"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1adf881312f48dbb84cfff376819325718" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int namemap_remove</definition>
        <argsstring>(hash_table_t *ht, unsigned int key)</argsstring>
        <name>namemap_remove</name>
        <param>
          <type>hash_table_t *</type>
          <declname>ht</declname>
        </param>
        <param>
          <type>unsigned int</type>
          <declname>key</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="700" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="699" bodyend="722"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a679025ce0dfdd9766138e4def9e2baf0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int uidgidmap_remove</definition>
        <argsstring>(unsigned int key)</argsstring>
        <name>uidgidmap_remove</name>
        <param>
          <type>unsigned int</type>
          <declname>key</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="725" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="724" bodyend="743"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a6ff3b94fb24db4007e1f49d0fd5a977d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int uidmap_remove</definition>
        <argsstring>(char *key)</argsstring>
        <name>uidmap_remove</name>
        <param>
          <type>char *</type>
          <declname>key</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="746" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="745" bodyend="748"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1acaa7d9b0c6814446fe2e2a43650c863d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int unamemap_remove</definition>
        <argsstring>(unsigned int key)</argsstring>
        <name>unamemap_remove</name>
        <param>
          <type>unsigned int</type>
          <declname>key</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="751" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="750" bodyend="753"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a9fc5f69f85c2beb4a4287e1ad76c9268" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int gidmap_remove</definition>
        <argsstring>(char *key)</argsstring>
        <name>gidmap_remove</name>
        <param>
          <type>char *</type>
          <declname>key</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="756" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="755" bodyend="758"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1af635f984eba8175ca71481fed3c7c276" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int gnamemap_remove</definition>
        <argsstring>(unsigned int key)</argsstring>
        <name>gnamemap_remove</name>
        <param>
          <type>unsigned int</type>
          <declname>key</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="761" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="760" bodyend="763"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1ac270ed71910c69af03f5528a0abb444e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int idmap_populate</definition>
        <argsstring>(char *path, idmap_type_t maptype)</argsstring>
        <name>idmap_populate</name>
        <param>
          <type>char *</type>
          <declname>path</declname>
        </param>
        <param>
          <type>idmap_type_t</type>
          <declname>maptype</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>idmap_populate_by_conf: Use the configuration file to populate the ID_MAPPER.</para><para>Use the configuration file to populate the ID_MAPPER. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="774" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="773" bodyend="861"/>
      </memberdef>
      <memberdef kind="function" id="idmapper__cache_8c_1a4cf74570e95eae91dd4372619fcae7a3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void idmap_get_stats</definition>
        <argsstring>(idmap_type_t maptype, hash_stat_t *phstat, hash_stat_t *phstat_reverse)</argsstring>
        <name>idmap_get_stats</name>
        <param>
          <type>idmap_type_t</type>
          <declname>maptype</declname>
        </param>
        <param>
          <type>hash_stat_t *</type>
          <declname>phstat</declname>
        </param>
        <param>
          <type>hash_stat_t *</type>
          <declname>phstat_reverse</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>idmap_get_stats: gets the hash table statistics for the idmap et the reverse id map</para><para>Gets the hash table statistics for the idmap et the reverse idmap.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>maptype</parametername>
</parameternamelist>
<parameterdescription>
<para>[IN] type of the mapping to be queried (should be UIDMAP_TYPE or GIDMAP_TYPE) </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>phstat</parametername>
</parameternamelist>
<parameterdescription>
<para>[OUT] pointer to the resulting stats for direct map. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>phstat</parametername>
</parameternamelist>
<parameterdescription>
<para>[OUT] pointer to the resulting stats for reverse map.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>nothing (void function)</para></simplesect>
<simplesect kind="see"><para>HashTable_GetStats </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c" line="880" bodyfile="/export/GANESHA/src/IdMapper/idmapper_cache.c" bodystart="878" bodyend="905"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>Id mapping functions. </para>    </briefdescription>
    <detaileddescription>
<para><simplesect kind="author"><para></para></simplesect>
<simplesect kind="rcs"><title>Author</title><para>deniel </para></simplesect>
<simplesect kind="date"><para>$Date$ </para></simplesect>
<simplesect kind="version"><para>$Revision$ <ref refid="idmapper__cache_8c" kindref="compound">idmapper_cache.c</ref> : Id mapping functions, passwd and groups cache management. </para></simplesect>
</para>    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>vim:expandtab:shiftwidth=8:tabstop=8:</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>CEA/DAM/DIF<sp/><sp/>(2008)</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*<sp/>contributeur<sp/>:<sp/>Philippe<sp/>DENIEL<sp/><sp/><sp/>philippe.deniel@cea.fr</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Thomas<sp/>LEIBOVICI<sp/><sp/>thomas.leibovici@cea.fr</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/>*<sp/>This<sp/>program<sp/>is<sp/>free<sp/>software;<sp/>you<sp/>can<sp/>redistribute<sp/>it<sp/>and/or</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/>*<sp/>modify<sp/>it<sp/>under<sp/>the<sp/>terms<sp/>of<sp/>the<sp/>GNU<sp/>Lesser<sp/>General<sp/>Public</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/>*<sp/>License<sp/>as<sp/>published<sp/>by<sp/>the<sp/>Free<sp/>Software<sp/>Foundation;<sp/>either</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/>*<sp/>version<sp/>3<sp/>of<sp/>the<sp/>License,<sp/>or<sp/>(at<sp/>your<sp/>option)<sp/>any<sp/>later<sp/>version.</highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/>*<sp/>This<sp/>program<sp/>is<sp/>distributed<sp/>in<sp/>the<sp/>hope<sp/>that<sp/>it<sp/>will<sp/>be<sp/>useful,</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/>*<sp/>but<sp/>WITHOUT<sp/>ANY<sp/>WARRANTY;<sp/>without<sp/>even<sp/>the<sp/>implied<sp/>warranty<sp/>of</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>*<sp/>MERCHANTABILITY<sp/>or<sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE.<sp/><sp/>See<sp/>the<sp/>GNU</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/>*<sp/>Lesser<sp/>General<sp/>Public<sp/>License<sp/>for<sp/>more<sp/>details.</highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="19"><highlight class="comment"><sp/>*<sp/>You<sp/>should<sp/>have<sp/>received<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>GNU<sp/>Lesser<sp/>General<sp/>Public</highlight></codeline>
<codeline lineno="20"><highlight class="comment"><sp/>*<sp/>License<sp/>along<sp/>with<sp/>this<sp/>library;<sp/>if<sp/>not,<sp/>write<sp/>to<sp/>the<sp/>Free<sp/>Software</highlight></codeline>
<codeline lineno="21"><highlight class="comment"><sp/>*<sp/>Foundation,<sp/>Inc.,<sp/>51<sp/>Franklin<sp/>Street,<sp/>Fifth<sp/>Floor,<sp/>Boston,<sp/>MA<sp/><sp/>02110-1301<sp/><sp/>USA</highlight></codeline>
<codeline lineno="22"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="23"><highlight class="comment"><sp/>*<sp/>---------------------------------------</highlight></codeline>
<codeline lineno="24"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="preprocessor">#ifdef<sp/>HAVE_CONFIG_H</highlight></codeline>
<codeline lineno="37"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&quot;config.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="39"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_SOLARIS</highlight></codeline>
<codeline lineno="41"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&quot;solaris_port.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="43"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;HashData.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;HashTable.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;log_macros.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;stuff_alloc.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;nfs_core.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;nfs_exports.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;config_parsing.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdlib.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;strings.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;pwd.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;grp.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_APPLE</highlight></codeline>
<codeline lineno="58"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>strnlen(<sp/>s,<sp/>l<sp/>)<sp/>strlen(<sp/>s<sp/>)</highlight></codeline>
<codeline lineno="59"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#else</highlight></codeline>
<codeline lineno="60"><highlight class="preprocessor"></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1afc92d2231e45d19988c7894aa2a07f0c" kindref="member">strnlen</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*s,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>maxlen);</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="62"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Hashtable<sp/>used<sp/>to<sp/>cache<sp/>the<sp/>hostname,<sp/>accessed<sp/>by<sp/>their<sp/>IP<sp/>addess<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64" refid="idmapper__cache_8c_1a527093d92c798ccda9b2f416a5ad1144" refkind="member"><highlight class="normal">hash_table_t<sp/>*<ref refid="idmapper__cache_8c_1a527093d92c798ccda9b2f416a5ad1144" kindref="member">ht_pwnam</ref>;</highlight></codeline>
<codeline lineno="65" refid="idmapper__cache_8c_1ae7494dde624c78de75de7e1e79922d3c" refkind="member"><highlight class="normal">hash_table_t<sp/>*<ref refid="idmapper__cache_8c_1ae7494dde624c78de75de7e1e79922d3c" kindref="member">ht_grnam</ref>;</highlight></codeline>
<codeline lineno="66" refid="idmapper__cache_8c_1acc89124b9f3e051bb615be745629ee8c" refkind="member"><highlight class="normal">hash_table_t<sp/>*<ref refid="idmapper__cache_8c_1acc89124b9f3e051bb615be745629ee8c" kindref="member">ht_pwuid</ref>;</highlight></codeline>
<codeline lineno="67" refid="idmapper__cache_8c_1a803ecbb68bca171e9bb89dfd8c38ed98" refkind="member"><highlight class="normal">hash_table_t<sp/>*<ref refid="idmapper__cache_8c_1a803ecbb68bca171e9bb89dfd8c38ed98" kindref="member">ht_grgid</ref>;</highlight></codeline>
<codeline lineno="68" refid="idmapper__cache_8c_1aa745101ed26cbf574e1c21a971999541" refkind="member"><highlight class="normal">hash_table_t<sp/>*<ref refid="idmapper__cache_8c_1aa745101ed26cbf574e1c21a971999541" kindref="member">ht_uidgid</ref>;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/>nfs_parameter_t<sp/><ref refid="idmapper_8c_1aeb8fc46586993cf210777049fca03969" kindref="member">nfs_param</ref>;</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="87" refid="idmapper__cache_8c_1a4bc99cf1d9dbf2c72bfcb18e3b9f96a9" refkind="member"><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a4bc99cf1d9dbf2c72bfcb18e3b9f96a9" kindref="member">idmapper_value_hash_func</ref>(hash_parameter_t<sp/>*<sp/>p_hparam,</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hash_buffer_t<sp/>*<sp/>buffclef)</highlight></codeline>
<codeline lineno="89"><highlight class="normal">{</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>sum<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>c;</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Compute<sp/>the<sp/>sum<sp/>of<sp/>all<sp/>the<sp/>characters<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i<sp/>=<sp/>0,<sp/>c<sp/>=<sp/>((</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)buffclef-&gt;pdata)[0];<sp/>((</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)buffclef-&gt;pdata)[i]<sp/>!=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>c<sp/>=<sp/>((</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)buffclef-&gt;pdata)[++i],<sp/>sum<sp/>+=<sp/>c)<sp/>;</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">)(sum<sp/>%<sp/>p_hparam-&gt;index_size);</highlight></codeline>
<codeline lineno="99"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/><sp/>ip_name_value_hash_func<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101" refid="idmapper__cache_8c_1a0a475fcc1e14b35db184e52752791043" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a0a475fcc1e14b35db184e52752791043" kindref="member">namemapper_value_hash_func</ref>(hash_parameter_t<sp/>*<sp/>p_hparam,</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hash_buffer_t<sp/>*<sp/>buffclef)</highlight></codeline>
<codeline lineno="103"><highlight class="normal">{</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>((</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">)(buffclef-&gt;pdata)<sp/>%<sp/>p_hparam-&gt;index_size);</highlight></codeline>
<codeline lineno="105"><highlight class="normal">}</highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight></codeline>
<codeline lineno="121" refid="idmapper__cache_8c_1a729313a803f3f4f39cfec7daf9a744bb" refkind="member"><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a729313a803f3f4f39cfec7daf9a744bb" kindref="member">idmapper_rbt_hash_func</ref>(hash_parameter_t<sp/>*<sp/>p_hparam,</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hash_buffer_t<sp/>*<sp/>buffclef)</highlight></codeline>
<codeline lineno="123"><highlight class="normal">{</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<ref refid="idmapper__cache_8c_1a796df37f78d861ddd66eec516048fd86" kindref="member">idmap_compute_hash_value</ref>((</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)buffclef-&gt;pdata,</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(uint32_t<sp/>*)<sp/>&amp;<sp/>result)<sp/>!=<sp/>ID_MAPPER_SUCCESS)</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">)result;</highlight></codeline>
<codeline lineno="131"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>ip_name_rbt_hash_func<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133" refid="idmapper__cache_8c_1adb422090da3e3064942f31392c46d449" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1adb422090da3e3064942f31392c46d449" kindref="member">namemapper_rbt_hash_func</ref>(hash_parameter_t<sp/>*<sp/>p_hparam,</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hash_buffer_t<sp/>*<sp/>buffclef)</highlight></codeline>
<codeline lineno="135"><highlight class="normal">{</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">)(buffclef-&gt;pdata);</highlight></codeline>
<codeline lineno="137"><highlight class="normal">}</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="152" refid="idmapper__cache_8c_1a4652d8814116ae81f60dd134517dc4fa" refkind="member"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a4652d8814116ae81f60dd134517dc4fa" kindref="member">compare_idmapper</ref>(hash_buffer_t<sp/>*<sp/>buff1,<sp/>hash_buffer_t<sp/>*<sp/>buff2)</highlight></codeline>
<codeline lineno="153"><highlight class="normal">{</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>strncmp((</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)(buff1-&gt;pdata),<sp/>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)(buff2-&gt;pdata),<sp/>PWENT_MAX_LEN);</highlight></codeline>
<codeline lineno="155"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>compare_xid<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="157" refid="idmapper__cache_8c_1a03c9e848d4ce5878e380c465d4d81985" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a03c9e848d4ce5878e380c465d4d81985" kindref="member">compare_namemapper</ref>(hash_buffer_t<sp/>*<sp/>buff1,<sp/>hash_buffer_t<sp/>*<sp/>buff2)</highlight></codeline>
<codeline lineno="158"><highlight class="normal">{</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>xid1<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long)(buff1-&gt;pdata);</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>xid2<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long)(buff2-&gt;pdata);</highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(xid1<sp/>==<sp/>xid2)<sp/>?<sp/>0<sp/>:<sp/>1;</highlight></codeline>
<codeline lineno="163"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>compare_xid<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight></codeline>
<codeline lineno="178" refid="idmapper__cache_8c_1a14ec9f64a8035fdaed98ec6674bdf871" refkind="member"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a14ec9f64a8035fdaed98ec6674bdf871" kindref="member">display_idmapper_key</ref>(hash_buffer_t<sp/>*<sp/>pbuff,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*str)</highlight></codeline>
<codeline lineno="179"><highlight class="normal">{</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>sprintf(str,<sp/></highlight><highlight class="stringliteral">&quot;%s&quot;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)(pbuff-&gt;pdata));</highlight></codeline>
<codeline lineno="181"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>display_idmapper<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="196" refid="idmapper__cache_8c_1adadfbdb8951a6c3d44a36e536484169b" refkind="member"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1adadfbdb8951a6c3d44a36e536484169b" kindref="member">display_idmapper_val</ref>(hash_buffer_t<sp/>*<sp/>pbuff,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*str)</highlight></codeline>
<codeline lineno="197"><highlight class="normal">{</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>sprintf(str,<sp/></highlight><highlight class="stringliteral">&quot;%lu&quot;</highlight><highlight class="normal">,<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal">)(pbuff-&gt;pdata));</highlight></codeline>
<codeline lineno="199"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>display_idmapper_val<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight></codeline>
<codeline lineno="212" refid="idmapper__cache_8c_1abf9c2ab28fa414eb449b28eaaf3112ba" refkind="member"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1abf9c2ab28fa414eb449b28eaaf3112ba" kindref="member">idmap_uid_init</ref>(nfs_idmap_cache_parameter_t<sp/>param)</highlight></codeline>
<codeline lineno="213"><highlight class="normal">{</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((<ref refid="idmapper__cache_8c_1a527093d92c798ccda9b2f416a5ad1144" kindref="member">ht_pwnam</ref><sp/>=<sp/>HashTable_Init(param.hash_param))<sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>LogCrit(COMPONENT_IDMAPPER,<sp/></highlight><highlight class="stringliteral">&quot;NFS<sp/>ID<sp/>MAPPER:<sp/>Cannot<sp/>init<sp/>IDMAP_UID<sp/>cache&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="221"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>idmap_uid_init<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight></codeline>
<codeline lineno="223" refid="idmapper__cache_8c_1a0925c482c1d623eaabbe130c2c3f1fc3" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a0925c482c1d623eaabbe130c2c3f1fc3" kindref="member">uidgidmap_init</ref>(nfs_idmap_cache_parameter_t<sp/>param)</highlight></codeline>
<codeline lineno="224"><highlight class="normal">{</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((<ref refid="idmapper__cache_8c_1aa745101ed26cbf574e1c21a971999541" kindref="member">ht_uidgid</ref><sp/>=<sp/>HashTable_Init(param.hash_param))<sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>LogCrit(COMPONENT_IDMAPPER,<sp/></highlight><highlight class="stringliteral">&quot;NFS<sp/>UID/GID<sp/>MAPPER:<sp/>Cannot<sp/>init<sp/>UIDGID_MAP<sp/>cache&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="232"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>idmap_uid_init<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"></highlight></codeline>
<codeline lineno="234" refid="idmapper__cache_8c_1a05807941c6f652ce30fea46008172f1f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a05807941c6f652ce30fea46008172f1f" kindref="member">idmap_uname_init</ref>(nfs_idmap_cache_parameter_t<sp/>param)</highlight></codeline>
<codeline lineno="235"><highlight class="normal">{</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((<ref refid="idmapper__cache_8c_1acc89124b9f3e051bb615be745629ee8c" kindref="member">ht_pwuid</ref><sp/>=<sp/>HashTable_Init(param.hash_param))<sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>LogCrit(COMPONENT_IDMAPPER,<sp/></highlight><highlight class="stringliteral">&quot;NFS<sp/>ID<sp/>MAPPER:<sp/>Cannot<sp/>init<sp/>IDMAP_UNAME<sp/>cache&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="243"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>idmap_uid_init<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight></codeline>
<codeline lineno="256" refid="idmapper__cache_8c_1a2631dd65acc2e38bb9719c4c9fd75193" refkind="member"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a2631dd65acc2e38bb9719c4c9fd75193" kindref="member">idmap_gid_init</ref>(nfs_idmap_cache_parameter_t<sp/>param)</highlight></codeline>
<codeline lineno="257"><highlight class="normal">{</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((<ref refid="idmapper__cache_8c_1ae7494dde624c78de75de7e1e79922d3c" kindref="member">ht_grnam</ref><sp/>=<sp/>HashTable_Init(param.hash_param))<sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>LogCrit(COMPONENT_IDMAPPER,<sp/></highlight><highlight class="stringliteral">&quot;NFS<sp/>ID<sp/>MAPPER:<sp/>Cannot<sp/>init<sp/>IDMAP_GID<sp/>cache&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="263"><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="265"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>idmap_uid_init<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight></codeline>
<codeline lineno="267" refid="idmapper__cache_8c_1ae0cd9a5dca7f19fb5daa33e69607b32b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1ae0cd9a5dca7f19fb5daa33e69607b32b" kindref="member">idmap_gname_init</ref>(nfs_idmap_cache_parameter_t<sp/>param)</highlight></codeline>
<codeline lineno="268"><highlight class="normal">{</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((<ref refid="idmapper__cache_8c_1a803ecbb68bca171e9bb89dfd8c38ed98" kindref="member">ht_grgid</ref><sp/>=<sp/>HashTable_Init(param.hash_param))<sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>LogCrit(COMPONENT_IDMAPPER,<sp/></highlight><highlight class="stringliteral">&quot;NFS<sp/>ID<sp/>MAPPER:<sp/>Cannot<sp/>init<sp/>IDMAP_GNAME<sp/>cache&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="274"><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="276"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>idmap_uid_init<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="286" refid="idmapper__cache_8c_1a796df37f78d861ddd66eec516048fd86" refkind="member"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a796df37f78d861ddd66eec516048fd86" kindref="member">idmap_compute_hash_value</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name,<sp/>uint32_t<sp/>*<sp/>phashval)</highlight></codeline>
<codeline lineno="287"><highlight class="normal">{</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>padded_name[PWENT_MAX_LEN];</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/>uint64_t<sp/>computed_value<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>offset<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/>uint64_t<sp/>extract<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/>uint64_t<sp/>sum<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/>uint64_t<sp/>i1;</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/>uint64_t<sp/>i2;</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/>uint64_t<sp/>i3;</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/>uint64_t<sp/>i4;</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/>uint64_t<sp/>i5;</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/>uint64_t<sp/>i6;</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/>uint64_t<sp/>i7;</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/>uint64_t<sp/>i8;</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/>uint64_t<sp/>i9;</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/>uint64_t<sp/>l;</highlight></codeline>
<codeline lineno="304"><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(name<sp/>==<sp/>NULL<sp/>||<sp/>phashval<sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_INVALID_ARGUMENT;</highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/>memset(padded_name,<sp/>0,<sp/>PWENT_MAX_LEN);</highlight></codeline>
<codeline lineno="309"><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Copy<sp/>the<sp/>string<sp/>to<sp/>the<sp/>padded<sp/>one<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/><ref refid="idmapper__cache_8c_1afc92d2231e45d19988c7894aa2a07f0c" kindref="member">strnlen</ref>(name,<sp/>PWENT_MAX_LEN);<sp/>padded_name[i]<sp/>=<sp/>name[i],<sp/>i++)<sp/>;</highlight></codeline>
<codeline lineno="312"><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>WITH_PRINTF_DEBUG_PWHASH_COMPUTE</highlight></codeline>
<codeline lineno="314"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;#%s#<sp/>:&quot;</highlight><highlight class="normal">,<sp/>padded_name);</highlight></codeline>
<codeline lineno="315"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="316"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>For<sp/>each<sp/>9<sp/>character<sp/>pack:</highlight></codeline>
<codeline lineno="318"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/>-<sp/>keep<sp/>the<sp/>7<sp/>first<sp/>bit<sp/>(the<sp/>8th<sp/>is<sp/>often<sp/>0:<sp/>ascii<sp/>string)<sp/></highlight></codeline>
<codeline lineno="319"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/>-<sp/>pack<sp/>7x9<sp/>bit<sp/>to<sp/>63<sp/>bits<sp/>using<sp/>xor</highlight></codeline>
<codeline lineno="320"><highlight class="comment"><sp/><sp/><sp/>*<sp/><sp/><sp/>-<sp/>xor<sp/>the<sp/>last<sp/>8th<sp/>bit<sp/>to<sp/>a<sp/>single<sp/>0<sp/>,<sp/>or-ed<sp/>with<sp/>the<sp/>rest</highlight></codeline>
<codeline lineno="321"><highlight class="comment"><sp/><sp/><sp/>*<sp/>Proceeding<sp/>with<sp/>the<sp/>next<sp/>9<sp/>bytes<sp/>pack<sp/>will<sp/>produce<sp/>a<sp/>new<sp/>value<sp/>that<sp/>is<sp/>xored<sp/>with<sp/>the<sp/></highlight></codeline>
<codeline lineno="322"><highlight class="comment"><sp/><sp/><sp/>*<sp/>one<sp/>of<sp/>the<sp/>previous<sp/>iteration<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(offset<sp/>=<sp/>0;<sp/>offset<sp/>&lt;<sp/>PWENT_MAX_LEN;<sp/>offset<sp/>+=<sp/>9)</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>input<sp/>name<sp/>is<sp/>ascii<sp/>string,<sp/>remove<sp/>8th<sp/>bit<sp/>on<sp/>each<sp/>byte,<sp/>not<sp/>significant<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>i1<sp/>=<sp/>padded_name[offset<sp/>+<sp/>0]<sp/>&amp;<sp/>0x7F;</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>i2<sp/>=<sp/>(uint64_t)<sp/>(padded_name[offset<sp/>+<sp/>1]<sp/>&amp;<sp/>0x7F)<sp/>&lt;&lt;<sp/>7;</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>i3<sp/>=<sp/>(uint64_t)<sp/>(padded_name[offset<sp/>+<sp/>2]<sp/>&amp;<sp/>0x7F)<sp/>&lt;&lt;<sp/>14;</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>i4<sp/>=<sp/>(uint64_t)<sp/>(padded_name[offset<sp/>+<sp/>3]<sp/>&amp;<sp/>0x7F)<sp/>&lt;&lt;<sp/>21;</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>i5<sp/>=<sp/>(uint64_t)<sp/>(padded_name[offset<sp/>+<sp/>4]<sp/>&amp;<sp/>0x7F)<sp/>&lt;&lt;<sp/>28;</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>i6<sp/>=<sp/>(uint64_t)<sp/>(padded_name[offset<sp/>+<sp/>5]<sp/>&amp;<sp/>0x7F)<sp/>&lt;&lt;<sp/>35;</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>i7<sp/>=<sp/>(uint64_t)<sp/>(padded_name[offset<sp/>+<sp/>6]<sp/>&amp;<sp/>0x7F)<sp/>&lt;&lt;<sp/>42;</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>i8<sp/>=<sp/>(uint64_t)<sp/>(padded_name[offset<sp/>+<sp/>7]<sp/>&amp;<sp/>0x7F)<sp/>&lt;&lt;<sp/>49;</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>i9<sp/>=<sp/>(uint64_t)<sp/>(padded_name[offset<sp/>+<sp/>8]<sp/>&amp;<sp/>0x7F)<sp/>&lt;&lt;<sp/>56;</highlight></codeline>
<codeline lineno="336"><highlight class="normal"></highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>sum<sp/>=<sp/>(uint64_t)<sp/>padded_name[offset<sp/>+<sp/>0]<sp/>+</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(uint64_t)<sp/>padded_name[offset<sp/>+<sp/>1]<sp/>+</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(uint64_t)<sp/>padded_name[offset<sp/>+<sp/>2]<sp/>+</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(uint64_t)<sp/>padded_name[offset<sp/>+<sp/>3]<sp/>+</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(uint64_t)<sp/>padded_name[offset<sp/>+<sp/>4]<sp/>+</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(uint64_t)<sp/>padded_name[offset<sp/>+<sp/>5]<sp/>+</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(uint64_t)<sp/>padded_name[offset<sp/>+<sp/>6]<sp/>+</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(uint64_t)<sp/>padded_name[offset<sp/>+<sp/>7]<sp/>+<sp/>(uint64_t)<sp/>padded_name[offset<sp/>+<sp/>8];</highlight></codeline>
<codeline lineno="345"><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>WITH_PRINTF_DEBUG_PWHASH_COMPUTE</highlight></codeline>
<codeline lineno="347"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;|%llx<sp/>|%llx<sp/>|%llx<sp/>|%llx<sp/>|%llx<sp/>|%llx<sp/>|%llx<sp/>|%llx<sp/>|%llx<sp/>|<sp/>=<sp/>&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i1,<sp/>i2,<sp/>i3,<sp/>i4,<sp/>i5,<sp/>i6,<sp/>i7,<sp/>i8,<sp/>i9);</highlight></codeline>
<codeline lineno="349"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="350"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>xor<sp/>combibation<sp/>of<sp/>all<sp/>the<sp/>8h<sp/>bit<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>l<sp/>=<sp/>(padded_name[offset<sp/>+<sp/>0]<sp/>&amp;<sp/>0x80)<sp/>^</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(padded_name[offset<sp/>+<sp/>1]<sp/>&amp;<sp/>0x80)<sp/>^</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(padded_name[offset<sp/>+<sp/>2]<sp/>&amp;<sp/>0x80)<sp/>^</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(padded_name[offset<sp/>+<sp/>3]<sp/>&amp;<sp/>0x80)<sp/>^</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(padded_name[offset<sp/>+<sp/>4]<sp/>&amp;<sp/>0x80)<sp/>^</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(padded_name[offset<sp/>+<sp/>5]<sp/>&amp;<sp/>0x80)<sp/>^</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(padded_name[offset<sp/>+<sp/>6]<sp/>&amp;<sp/>0x80)<sp/>^</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(padded_name[offset<sp/>+<sp/>7]<sp/>&amp;<sp/>0x80)<sp/>^<sp/>(padded_name[offset<sp/>+<sp/>8]<sp/>&amp;<sp/>0x80);</highlight></codeline>
<codeline lineno="360"><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>extract<sp/>=<sp/>i1<sp/>^<sp/>i2<sp/>^<sp/>i3<sp/>^<sp/>i4<sp/>^<sp/>i5<sp/>^<sp/>i6<sp/>^<sp/>i7<sp/>^<sp/>i8<sp/>^<sp/>i9<sp/>|<sp/>l;</highlight></codeline>
<codeline lineno="362"><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>WITH_PRINTF_DEBUG_PWHASH_COMPUTE</highlight></codeline>
<codeline lineno="364"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;%llx<sp/>&quot;</highlight><highlight class="normal">,<sp/>extract);</highlight></codeline>
<codeline lineno="365"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="366"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>computed_value<sp/>^=<sp/>extract;</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>computed_value<sp/>^=<sp/>sum;</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="370"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>WITH_PRINTF_DEBUG_PWHASH_COMPUTE</highlight></codeline>
<codeline lineno="371"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="372"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="373"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/>computed_value<sp/>=<sp/>(computed_value<sp/>&gt;&gt;<sp/>32)<sp/>+<sp/>(computed_value<sp/>&amp;<sp/>0x00000000FFFFFFFFLL);</highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/>*phashval<sp/>=<sp/>(uint32_t)<sp/>computed_value;</highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="379"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>idmap_compute_hash_value<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"></highlight></codeline>
<codeline lineno="394" refid="idmapper__cache_8c_1ab9e636f85fac1edc57f0da904965b8c1" refkind="member"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1ab9e636f85fac1edc57f0da904965b8c1" kindref="member">idmap_add</ref>(hash_table_t<sp/>*<sp/>ht,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*key,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>val)</highlight></codeline>
<codeline lineno="395"><highlight class="normal">{</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffkey;</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffdata;</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rc;</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>local_val<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long)val;</highlight></codeline>
<codeline lineno="400"><highlight class="normal"></highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(ht<sp/>==<sp/>NULL<sp/>||<sp/>key<sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_INVALID_ARGUMENT;</highlight></codeline>
<codeline lineno="403"><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((buffkey.pdata<sp/>=<sp/>(caddr_t)<sp/>Mem_Alloc(PWENT_MAX_LEN))<sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_INSERT_MALLOC_ERROR;</highlight></codeline>
<codeline lineno="406"><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Build<sp/>the<sp/>key<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/>strncpy((</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)(buffkey.pdata),<sp/>key,<sp/>PWENT_MAX_LEN);</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/>buffkey.len<sp/>=<sp/>PWENT_MAX_LEN;</highlight></codeline>
<codeline lineno="410"><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Build<sp/>the<sp/>value<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/>buffdata.pdata<sp/>=<sp/>(caddr_t)<sp/>local_val;</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/>buffdata.len<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long);</highlight></codeline>
<codeline lineno="414"><highlight class="normal"></highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/>rc<sp/>=<sp/>HashTable_Test_And_Set(ht,<sp/>&amp;buffkey,<sp/>&amp;buffdata,</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>HASHTABLE_SET_HOW_SET_NO_OVERWRITE);</highlight></codeline>
<codeline lineno="417"><highlight class="normal"></highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(rc<sp/>!=<sp/>HASHTABLE_SUCCESS<sp/>&amp;&amp;<sp/>rc<sp/>!=<sp/>HASHTABLE_ERROR_KEY_ALREADY_EXISTS)</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_INSERT_MALLOC_ERROR;</highlight></codeline>
<codeline lineno="420"><highlight class="normal"></highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="422"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>idmap_add<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="423"><highlight class="normal"></highlight></codeline>
<codeline lineno="424" refid="idmapper__cache_8c_1a95d746a55519b611246b4c9326a28ac1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a95d746a55519b611246b4c9326a28ac1" kindref="member">namemap_add</ref>(hash_table_t<sp/>*<sp/>ht,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*val)</highlight></codeline>
<codeline lineno="425"><highlight class="normal">{</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffkey;</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffdata;</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rc<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>local_key<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long)key;</highlight></codeline>
<codeline lineno="430"><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(ht<sp/>==<sp/>NULL<sp/>||<sp/>val<sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_INVALID_ARGUMENT;</highlight></codeline>
<codeline lineno="433"><highlight class="normal"></highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((buffdata.pdata<sp/>=<sp/>(caddr_t)<sp/>Mem_Alloc(PWENT_MAX_LEN))<sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_INSERT_MALLOC_ERROR;</highlight></codeline>
<codeline lineno="436"><highlight class="normal"></highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Build<sp/>the<sp/>data<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/>strncpy((</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)(buffdata.pdata),<sp/>val,<sp/>PWENT_MAX_LEN);</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/>buffdata.len<sp/>=<sp/>PWENT_MAX_LEN;</highlight></codeline>
<codeline lineno="440"><highlight class="normal"></highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Build<sp/>the<sp/>value<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/>buffkey.pdata<sp/>=<sp/>(caddr_t)<sp/>local_key;</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/>buffkey.len<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>int);</highlight></codeline>
<codeline lineno="444"><highlight class="normal"></highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/>rc<sp/>=<sp/>HashTable_Test_And_Set(ht,<sp/>&amp;buffkey,<sp/>&amp;buffdata,</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>HASHTABLE_SET_HOW_SET_NO_OVERWRITE);</highlight></codeline>
<codeline lineno="447"><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(rc<sp/>!=<sp/>HASHTABLE_SUCCESS<sp/>&amp;&amp;<sp/>rc<sp/>!=<sp/>HASHTABLE_ERROR_KEY_ALREADY_EXISTS)</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_INSERT_MALLOC_ERROR;</highlight></codeline>
<codeline lineno="450"><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="452"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>idmap_add<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"></highlight></codeline>
<codeline lineno="454" refid="idmapper__cache_8c_1a37f367aefcc87bca067606b2fc2af379" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a37f367aefcc87bca067606b2fc2af379" kindref="member">uidgidmap_add</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>value)</highlight></codeline>
<codeline lineno="455"><highlight class="normal">{</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffkey;</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffdata;</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rc<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>local_key<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long)key;</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>local_val<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long)value;</highlight></codeline>
<codeline lineno="461"><highlight class="normal"></highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Build<sp/>keys<sp/>and<sp/>data,<sp/>no<sp/>storage<sp/>is<sp/>used<sp/>there,<sp/>caddr_t<sp/>pointers<sp/>are<sp/>just<sp/>charged<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/>buffkey.pdata<sp/>=<sp/>(caddr_t)<sp/>local_key;</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/>buffkey.len<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>int);</highlight></codeline>
<codeline lineno="465"><highlight class="normal"></highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/>buffdata.pdata<sp/>=<sp/>(caddr_t)<sp/>local_val;</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/>buffdata.len<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>int);</highlight></codeline>
<codeline lineno="468"><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/>rc<sp/>=<sp/>HashTable_Test_And_Set(<ref refid="idmapper__cache_8c_1aa745101ed26cbf574e1c21a971999541" kindref="member">ht_uidgid</ref>,<sp/>&amp;buffkey,<sp/>&amp;buffdata,</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>HASHTABLE_SET_HOW_SET_OVERWRITE);</highlight></codeline>
<codeline lineno="471"><highlight class="normal"></highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(rc<sp/>!=<sp/>HASHTABLE_SUCCESS<sp/>&amp;&amp;<sp/>rc<sp/>!=<sp/>HASHTABLE_ERROR_KEY_ALREADY_EXISTS)</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_INSERT_MALLOC_ERROR;</highlight></codeline>
<codeline lineno="474"><highlight class="normal"></highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="476"><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>uidgidmap_add<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="478"><highlight class="normal"></highlight></codeline>
<codeline lineno="479" refid="idmapper__cache_8c_1a474f4be51671ef038fb49a35223bc42d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a474f4be51671ef038fb49a35223bc42d" kindref="member">uidmap_add</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*key,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>val)</highlight></codeline>
<codeline lineno="480"><highlight class="normal">{</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rc1<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rc2<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="483"><highlight class="normal"></highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/>rc1<sp/>=<sp/><ref refid="idmapper__cache_8c_1ab9e636f85fac1edc57f0da904965b8c1" kindref="member">idmap_add</ref>(<ref refid="idmapper__cache_8c_1a527093d92c798ccda9b2f416a5ad1144" kindref="member">ht_pwnam</ref>,<sp/>key,<sp/>val);</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/>rc2<sp/>=<sp/><ref refid="idmapper__cache_8c_1a95d746a55519b611246b4c9326a28ac1" kindref="member">namemap_add</ref>(<ref refid="idmapper__cache_8c_1acc89124b9f3e051bb615be745629ee8c" kindref="member">ht_pwuid</ref>,<sp/>val,<sp/>key);</highlight></codeline>
<codeline lineno="486"><highlight class="normal"></highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(rc1<sp/>!=<sp/>ID_MAPPER_SUCCESS)</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rc1;</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(rc2<sp/>!=<sp/>ID_MAPPER_SUCCESS)</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rc2;</highlight></codeline>
<codeline lineno="491"><highlight class="normal"></highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="493"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>uidmap_add<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="494"><highlight class="normal"></highlight></codeline>
<codeline lineno="495" refid="idmapper__cache_8c_1ab58b924b503182d75dabd08fbe3e6889" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1ab58b924b503182d75dabd08fbe3e6889" kindref="member">unamemap_add</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*val)</highlight></codeline>
<codeline lineno="496"><highlight class="normal">{</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rc1<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rc2<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="499"><highlight class="normal"></highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/>rc1<sp/>=<sp/><ref refid="idmapper__cache_8c_1a95d746a55519b611246b4c9326a28ac1" kindref="member">namemap_add</ref>(<ref refid="idmapper__cache_8c_1acc89124b9f3e051bb615be745629ee8c" kindref="member">ht_pwuid</ref>,<sp/>key,<sp/>val);</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/>rc2<sp/>=<sp/><ref refid="idmapper__cache_8c_1ab9e636f85fac1edc57f0da904965b8c1" kindref="member">idmap_add</ref>(<ref refid="idmapper__cache_8c_1a527093d92c798ccda9b2f416a5ad1144" kindref="member">ht_pwnam</ref>,<sp/>val,<sp/>key);</highlight></codeline>
<codeline lineno="502"><highlight class="normal"></highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(rc1<sp/>!=<sp/>ID_MAPPER_SUCCESS)</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rc1;</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(rc2<sp/>!=<sp/>ID_MAPPER_SUCCESS)</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rc2;</highlight></codeline>
<codeline lineno="507"><highlight class="normal"></highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="509"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>unamemap_add<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="510"><highlight class="normal"></highlight></codeline>
<codeline lineno="511" refid="idmapper__cache_8c_1a946524da4c88b16a9c634714e4521ec5" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a946524da4c88b16a9c634714e4521ec5" kindref="member">gidmap_add</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*key,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>val)</highlight></codeline>
<codeline lineno="512"><highlight class="normal">{</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rc1<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rc2<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="515"><highlight class="normal"></highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/>rc1<sp/>=<sp/><ref refid="idmapper__cache_8c_1ab9e636f85fac1edc57f0da904965b8c1" kindref="member">idmap_add</ref>(<ref refid="idmapper__cache_8c_1ae7494dde624c78de75de7e1e79922d3c" kindref="member">ht_grnam</ref>,<sp/>key,<sp/>val);</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/>rc2<sp/>=<sp/><ref refid="idmapper__cache_8c_1a95d746a55519b611246b4c9326a28ac1" kindref="member">namemap_add</ref>(<ref refid="idmapper__cache_8c_1a803ecbb68bca171e9bb89dfd8c38ed98" kindref="member">ht_grgid</ref>,<sp/>val,<sp/>key);</highlight></codeline>
<codeline lineno="518"><highlight class="normal"></highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(rc1<sp/>!=<sp/>ID_MAPPER_SUCCESS)</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rc1;</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(rc2<sp/>!=<sp/>ID_MAPPER_SUCCESS)</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rc2;</highlight></codeline>
<codeline lineno="523"><highlight class="normal"></highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="525"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>gidmap_add<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="526"><highlight class="normal"></highlight></codeline>
<codeline lineno="527" refid="idmapper__cache_8c_1a1db6c0f855c9e70ecd4c1da4146b7cad" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a1db6c0f855c9e70ecd4c1da4146b7cad" kindref="member">gnamemap_add</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*val)</highlight></codeline>
<codeline lineno="528"><highlight class="normal">{</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rc1<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rc2<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="531"><highlight class="normal"></highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/>rc1<sp/>=<sp/><ref refid="idmapper__cache_8c_1a95d746a55519b611246b4c9326a28ac1" kindref="member">namemap_add</ref>(<ref refid="idmapper__cache_8c_1a803ecbb68bca171e9bb89dfd8c38ed98" kindref="member">ht_grgid</ref>,<sp/>key,<sp/>val);</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/>rc2<sp/>=<sp/><ref refid="idmapper__cache_8c_1ab9e636f85fac1edc57f0da904965b8c1" kindref="member">idmap_add</ref>(<ref refid="idmapper__cache_8c_1ae7494dde624c78de75de7e1e79922d3c" kindref="member">ht_grnam</ref>,<sp/>val,<sp/>key);</highlight></codeline>
<codeline lineno="534"><highlight class="normal"></highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(rc1<sp/>!=<sp/>ID_MAPPER_SUCCESS)</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rc1;</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(rc2<sp/>!=<sp/>ID_MAPPER_SUCCESS)</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rc2;</highlight></codeline>
<codeline lineno="539"><highlight class="normal"></highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="541"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>gnamemap_add<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="542"><highlight class="normal"></highlight></codeline>
<codeline lineno="556" refid="idmapper__cache_8c_1a3a0f02f2bbe56b5306ece7a6f02b700f" refkind="member"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a3a0f02f2bbe56b5306ece7a6f02b700f" kindref="member">idmap_get</ref>(hash_table_t<sp/>*<sp/>ht,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*key,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>*pval)</highlight></codeline>
<codeline lineno="557"><highlight class="normal">{</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffkey;</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffval;</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="561"><highlight class="normal"></highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(ht<sp/>==<sp/>NULL<sp/>||<sp/>key<sp/>==<sp/>NULL<sp/>||<sp/>pval<sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_INVALID_ARGUMENT;</highlight></codeline>
<codeline lineno="564"><highlight class="normal"></highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/>buffkey.pdata<sp/>=<sp/>(caddr_t)<sp/>key;</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/>buffkey.len<sp/>=<sp/>PWENT_MAX_LEN;</highlight></codeline>
<codeline lineno="567"><highlight class="normal"></highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(HashTable_Get(ht,<sp/>&amp;buffkey,<sp/>&amp;buffval)<sp/>==<sp/>HASHTABLE_SUCCESS)</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>*pval<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long)buffval.pdata;</highlight></codeline>
<codeline lineno="571"><highlight class="normal"></highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/>ID_MAPPER_NOT_FOUND;</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="578"><highlight class="normal"></highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="580"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>idmap_get<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="581"><highlight class="normal"></highlight></codeline>
<codeline lineno="582" refid="idmapper__cache_8c_1abaf4277d2ef5a4f024fc74ab7ffe0a15" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1abaf4277d2ef5a4f024fc74ab7ffe0a15" kindref="member">namemap_get</ref>(hash_table_t<sp/>*<sp/>ht,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*pval)</highlight></codeline>
<codeline lineno="583"><highlight class="normal">{</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffkey;</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffval;</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>local_key<sp/>=<sp/>(long)key;</highlight></codeline>
<codeline lineno="588"><highlight class="normal"></highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(ht<sp/>==<sp/>NULL<sp/>||<sp/>pval<sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_INVALID_ARGUMENT;</highlight></codeline>
<codeline lineno="591"><highlight class="normal"></highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/>buffkey.pdata<sp/>=<sp/>(caddr_t)<sp/>local_key;</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/>buffkey.len<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long);</highlight></codeline>
<codeline lineno="594"><highlight class="normal"></highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(HashTable_Get(ht,<sp/>&amp;buffkey,<sp/>&amp;buffval)<sp/>==<sp/>HASHTABLE_SUCCESS)</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>strncpy(pval,<sp/>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)buffval.pdata,<sp/>PWENT_MAX_LEN);</highlight></codeline>
<codeline lineno="598"><highlight class="normal"></highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/>ID_MAPPER_NOT_FOUND;</highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="605"><highlight class="normal"></highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="607"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>idmap_get<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="608"><highlight class="normal"></highlight></codeline>
<codeline lineno="609" refid="idmapper__cache_8c_1a269a77994b587d6402e284613c870cf4" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a269a77994b587d6402e284613c870cf4" kindref="member">uidgidmap_get</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*pval)</highlight></codeline>
<codeline lineno="610"><highlight class="normal">{</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffkey;</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffval;</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>local_key<sp/>=<sp/>(long)key;</highlight></codeline>
<codeline lineno="615"><highlight class="normal"></highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pval<sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_INVALID_ARGUMENT;</highlight></codeline>
<codeline lineno="618"><highlight class="normal"></highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/>buffkey.pdata<sp/>=<sp/>(caddr_t)<sp/>local_key;</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/>buffkey.len<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long);</highlight></codeline>
<codeline lineno="621"><highlight class="normal"></highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(HashTable_Get(<ref refid="idmapper__cache_8c_1aa745101ed26cbf574e1c21a971999541" kindref="member">ht_uidgid</ref>,<sp/>&amp;buffkey,<sp/>&amp;buffval)<sp/>==<sp/>HASHTABLE_SUCCESS)</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>memcpy((</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)pval,<sp/>&amp;(buffval.pdata),<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>WIth<sp/>RPCSEC_GSS,<sp/>it<sp/>may<sp/>be<sp/>possible<sp/>that<sp/>0<sp/>is<sp/>not<sp/>mapped<sp/>to<sp/>root<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(key<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*pval<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/>ID_MAPPER_NOT_FOUND;</highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="638"><highlight class="normal"></highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="640"><highlight class="normal"></highlight></codeline>
<codeline lineno="641"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>uidgidmap_get<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="642"><highlight class="normal"></highlight></codeline>
<codeline lineno="643" refid="idmapper__cache_8c_1a60fbcceae51d693699699230e0fcbf7b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a60fbcceae51d693699699230e0fcbf7b" kindref="member">uidmap_get</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*key,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>*pval)</highlight></codeline>
<codeline lineno="644"><highlight class="normal">{</highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a3a0f02f2bbe56b5306ece7a6f02b700f" kindref="member">idmap_get</ref>(<ref refid="idmapper__cache_8c_1a527093d92c798ccda9b2f416a5ad1144" kindref="member">ht_pwnam</ref>,<sp/>key,<sp/>pval);</highlight></codeline>
<codeline lineno="646"><highlight class="normal">}</highlight></codeline>
<codeline lineno="647"><highlight class="normal"></highlight></codeline>
<codeline lineno="648" refid="idmapper__cache_8c_1a15f9362d5461b2bea8d056757947e7b1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a15f9362d5461b2bea8d056757947e7b1" kindref="member">unamemap_get</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*val)</highlight></codeline>
<codeline lineno="649"><highlight class="normal">{</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1abaf4277d2ef5a4f024fc74ab7ffe0a15" kindref="member">namemap_get</ref>(<ref refid="idmapper__cache_8c_1acc89124b9f3e051bb615be745629ee8c" kindref="member">ht_pwuid</ref>,<sp/>key,<sp/>val);</highlight></codeline>
<codeline lineno="651"><highlight class="normal">}</highlight></codeline>
<codeline lineno="652"><highlight class="normal"></highlight></codeline>
<codeline lineno="653" refid="idmapper__cache_8c_1ac6274e1cb3e953c94dd89967fcb820e7" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1ac6274e1cb3e953c94dd89967fcb820e7" kindref="member">gidmap_get</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*key,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>*pval)</highlight></codeline>
<codeline lineno="654"><highlight class="normal">{</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a3a0f02f2bbe56b5306ece7a6f02b700f" kindref="member">idmap_get</ref>(<ref refid="idmapper__cache_8c_1ae7494dde624c78de75de7e1e79922d3c" kindref="member">ht_grnam</ref>,<sp/>key,<sp/>pval);</highlight></codeline>
<codeline lineno="656"><highlight class="normal">}</highlight></codeline>
<codeline lineno="657"><highlight class="normal"></highlight></codeline>
<codeline lineno="658" refid="idmapper__cache_8c_1af687ca49f8c500b699a06b3acd9af505" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1af687ca49f8c500b699a06b3acd9af505" kindref="member">gnamemap_get</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*val)</highlight></codeline>
<codeline lineno="659"><highlight class="normal">{</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1abaf4277d2ef5a4f024fc74ab7ffe0a15" kindref="member">namemap_get</ref>(<ref refid="idmapper__cache_8c_1a803ecbb68bca171e9bb89dfd8c38ed98" kindref="member">ht_grgid</ref>,<sp/>key,<sp/>val);</highlight></codeline>
<codeline lineno="661"><highlight class="normal">}</highlight></codeline>
<codeline lineno="662"><highlight class="normal"></highlight></codeline>
<codeline lineno="675" refid="idmapper__cache_8c_1a2e580f2891f7180bfbd3f5b5e91ce809" refkind="member"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a2e580f2891f7180bfbd3f5b5e91ce809" kindref="member">idmap_remove</ref>(hash_table_t<sp/>*<sp/>ht,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*key)</highlight></codeline>
<codeline lineno="676"><highlight class="normal">{</highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffkey,<sp/>old_key;</highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="679"><highlight class="normal"></highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(ht<sp/>==<sp/>NULL<sp/>||<sp/>key<sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_INVALID_ARGUMENT;</highlight></codeline>
<codeline lineno="682"><highlight class="normal"></highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/>buffkey.pdata<sp/>=<sp/>(caddr_t)<sp/>key;</highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/>buffkey.len<sp/>=<sp/>PWENT_MAX_LEN;</highlight></codeline>
<codeline lineno="685"><highlight class="normal"></highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(HashTable_Del(ht,<sp/>&amp;buffkey,<sp/>&amp;old_key,<sp/>NULL)<sp/>==<sp/>HASHTABLE_SUCCESS)</highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>Mem_Free(old_key.pdata);</highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/>ID_MAPPER_NOT_FOUND;</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="695"><highlight class="normal"></highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="697"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>idmap_remove<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="698"><highlight class="normal"></highlight></codeline>
<codeline lineno="699" refid="idmapper__cache_8c_1adf881312f48dbb84cfff376819325718" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1adf881312f48dbb84cfff376819325718" kindref="member">namemap_remove</ref>(hash_table_t<sp/>*<sp/>ht,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key)</highlight></codeline>
<codeline lineno="700"><highlight class="normal">{</highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffkey,<sp/>old_data;</highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>local_key<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long)key;</highlight></codeline>
<codeline lineno="704"><highlight class="normal"></highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(ht<sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_INVALID_ARGUMENT;</highlight></codeline>
<codeline lineno="707"><highlight class="normal"></highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/>buffkey.pdata<sp/>=<sp/>(caddr_t)<sp/>local_key;</highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/>buffkey.len<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long);</highlight></codeline>
<codeline lineno="710"><highlight class="normal"></highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(HashTable_Del(ht,<sp/>&amp;buffkey,<sp/>NULL,<sp/>&amp;old_data)<sp/>==<sp/>HASHTABLE_SUCCESS)</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>Mem_Free(old_data.pdata);</highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/>ID_MAPPER_NOT_FOUND;</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="720"><highlight class="normal"></highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="722"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>idmap_remove<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="723"><highlight class="normal"></highlight></codeline>
<codeline lineno="724" refid="idmapper__cache_8c_1a679025ce0dfdd9766138e4def9e2baf0" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a679025ce0dfdd9766138e4def9e2baf0" kindref="member">uidgidmap_remove</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key)</highlight></codeline>
<codeline lineno="725"><highlight class="normal">{</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffkey,<sp/>old_data;</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/>local_key<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long)key;</highlight></codeline>
<codeline lineno="729"><highlight class="normal"></highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/>buffkey.pdata<sp/>=<sp/>(caddr_t)<sp/>local_key;</highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/>buffkey.len<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>long);</highlight></codeline>
<codeline lineno="732"><highlight class="normal"></highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(HashTable_Del(<ref refid="idmapper__cache_8c_1aa745101ed26cbf574e1c21a971999541" kindref="member">ht_uidgid</ref>,<sp/>&amp;buffkey,<sp/>NULL,<sp/>&amp;old_data)<sp/>==<sp/>HASHTABLE_SUCCESS)</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>status<sp/>=<sp/>ID_MAPPER_NOT_FOUND;</highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="741"><highlight class="normal"></highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>status;</highlight></codeline>
<codeline lineno="743"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>uidgidmap_remove<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="744"><highlight class="normal"></highlight></codeline>
<codeline lineno="745" refid="idmapper__cache_8c_1a6ff3b94fb24db4007e1f49d0fd5a977d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a6ff3b94fb24db4007e1f49d0fd5a977d" kindref="member">uidmap_remove</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*key)</highlight></codeline>
<codeline lineno="746"><highlight class="normal">{</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a2e580f2891f7180bfbd3f5b5e91ce809" kindref="member">idmap_remove</ref>(<ref refid="idmapper__cache_8c_1a527093d92c798ccda9b2f416a5ad1144" kindref="member">ht_pwnam</ref>,<sp/>key);</highlight></codeline>
<codeline lineno="748"><highlight class="normal">}</highlight></codeline>
<codeline lineno="749"><highlight class="normal"></highlight></codeline>
<codeline lineno="750" refid="idmapper__cache_8c_1acaa7d9b0c6814446fe2e2a43650c863d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1acaa7d9b0c6814446fe2e2a43650c863d" kindref="member">unamemap_remove</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key)</highlight></codeline>
<codeline lineno="751"><highlight class="normal">{</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1adf881312f48dbb84cfff376819325718" kindref="member">namemap_remove</ref>(<ref refid="idmapper__cache_8c_1acc89124b9f3e051bb615be745629ee8c" kindref="member">ht_pwuid</ref>,<sp/>key);</highlight></codeline>
<codeline lineno="753"><highlight class="normal">}</highlight></codeline>
<codeline lineno="754"><highlight class="normal"></highlight></codeline>
<codeline lineno="755" refid="idmapper__cache_8c_1a9fc5f69f85c2beb4a4287e1ad76c9268" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a9fc5f69f85c2beb4a4287e1ad76c9268" kindref="member">gidmap_remove</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*key)</highlight></codeline>
<codeline lineno="756"><highlight class="normal">{</highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a2e580f2891f7180bfbd3f5b5e91ce809" kindref="member">idmap_remove</ref>(<ref refid="idmapper__cache_8c_1ae7494dde624c78de75de7e1e79922d3c" kindref="member">ht_grnam</ref>,<sp/>key);</highlight></codeline>
<codeline lineno="758"><highlight class="normal">}</highlight></codeline>
<codeline lineno="759"><highlight class="normal"></highlight></codeline>
<codeline lineno="760" refid="idmapper__cache_8c_1af635f984eba8175ca71481fed3c7c276" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1af635f984eba8175ca71481fed3c7c276" kindref="member">gnamemap_remove</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key)</highlight></codeline>
<codeline lineno="761"><highlight class="normal">{</highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1adf881312f48dbb84cfff376819325718" kindref="member">namemap_remove</ref>(<ref refid="idmapper__cache_8c_1a803ecbb68bca171e9bb89dfd8c38ed98" kindref="member">ht_grgid</ref>,<sp/>key);</highlight></codeline>
<codeline lineno="763"><highlight class="normal">}</highlight></codeline>
<codeline lineno="764"><highlight class="normal"></highlight></codeline>
<codeline lineno="773" refid="idmapper__cache_8c_1ac270ed71910c69af03f5528a0abb444e" refkind="member"><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1ac270ed71910c69af03f5528a0abb444e" kindref="member">idmap_populate</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*path,<sp/>idmap_type_t<sp/>maptype)</highlight></codeline>
<codeline lineno="774"><highlight class="normal">{</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/>config_file_t<sp/>config_file;</highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/>config_item_t<sp/>block;</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>var_max;</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>var_index;</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>err;</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*key_name;</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*key_value;</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>label[MAXNAMLEN];</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/>hash_table_t<sp/>*ht<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/>hash_table_t<sp/>*ht_reverse<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>value<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rc<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="787"><highlight class="normal"></highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/><sp/>config_file<sp/>=<sp/>config_ParseFile(path);</highlight></codeline>
<codeline lineno="789"><highlight class="normal"></highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!config_file)</highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>LogCrit(COMPONENT_IDMAPPER,<sp/></highlight><highlight class="stringliteral">&quot;Can&apos;t<sp/>open<sp/>file<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>path);</highlight></codeline>
<codeline lineno="793"><highlight class="normal"></highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_INVALID_ARGUMENT;</highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="796"><highlight class="normal"></highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(maptype)</highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>UIDMAP_TYPE:</highlight></codeline>
<codeline lineno="800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>strncpy(label,<sp/>CONF_LABEL_UID_MAPPER_TABLE,<sp/>MAXNAMLEN);</highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ht<sp/>=<sp/><ref refid="idmapper__cache_8c_1a527093d92c798ccda9b2f416a5ad1144" kindref="member">ht_pwnam</ref>;</highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ht_reverse<sp/>=<sp/><ref refid="idmapper__cache_8c_1acc89124b9f3e051bb615be745629ee8c" kindref="member">ht_pwuid</ref>;</highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="804"><highlight class="normal"></highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>GIDMAP_TYPE:</highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>strncpy(label,<sp/>CONF_LABEL_GID_MAPPER_TABLE,<sp/>MAXNAMLEN);</highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ht<sp/>=<sp/><ref refid="idmapper__cache_8c_1ae7494dde624c78de75de7e1e79922d3c" kindref="member">ht_grnam</ref>;</highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ht_reverse<sp/>=<sp/><ref refid="idmapper__cache_8c_1a803ecbb68bca171e9bb89dfd8c38ed98" kindref="member">ht_grgid</ref>;</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="810"><highlight class="normal"></highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Using<sp/>incoherent<sp/>value<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_INVALID_ARGUMENT;</highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="815"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="816"><highlight class="normal"></highlight></codeline>
<codeline lineno="817"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>the<sp/>config<sp/>BLOCK<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((block<sp/>=<sp/>config_FindItemByName(config_file,<sp/>label))<sp/>==<sp/>NULL)</highlight></codeline>
<codeline lineno="819"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>LogCrit(COMPONENT_IDMAPPER,<sp/></highlight><highlight class="stringliteral">&quot;Can&apos;t<sp/>get<sp/>label<sp/>%s<sp/>in<sp/>file<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>label,<sp/>path);</highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_INVALID_ARGUMENT;</highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(config_ItemType(block)<sp/>!=<sp/>CONFIG_ITEM_BLOCK)</highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="825"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Expected<sp/>to<sp/>be<sp/>a<sp/>block<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>LogCrit(COMPONENT_IDMAPPER,<sp/></highlight><highlight class="stringliteral">&quot;Label<sp/>%s<sp/>in<sp/>file<sp/>%s<sp/>is<sp/>expected<sp/>to<sp/>be<sp/>a<sp/>block&quot;</highlight><highlight class="normal">,<sp/>label,<sp/>path);</highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_INVALID_ARGUMENT;</highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="829"><highlight class="normal"></highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/>var_max<sp/>=<sp/>config_GetNbItems(block);</highlight></codeline>
<codeline lineno="831"><highlight class="normal"></highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(var_index<sp/>=<sp/>0;<sp/>var_index<sp/>&lt;<sp/>var_max;<sp/>var_index++)</highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>config_item_t<sp/>item;</highlight></codeline>
<codeline lineno="835"><highlight class="normal"></highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>item<sp/>=<sp/>config_GetItemByIndex(block,<sp/>var_index);</highlight></codeline>
<codeline lineno="837"><highlight class="normal"></highlight></codeline>
<codeline lineno="838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Get<sp/>key&apos;s<sp/>name<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((err<sp/>=<sp/>config_GetKeyValue(item,<sp/>&amp;key_name,<sp/>&amp;key_value))<sp/>!=<sp/>0)</highlight></codeline>
<codeline lineno="840"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LogCrit(COMPONENT_IDMAPPER,</highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Error<sp/>reading<sp/>key[%d]<sp/>from<sp/>section<sp/>\&quot;%s\&quot;<sp/>of<sp/>configuration<sp/>file.\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>var_index,<sp/>label);</highlight></codeline>
<codeline lineno="844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_INVALID_ARGUMENT;</highlight></codeline>
<codeline lineno="845"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="846"><highlight class="normal"></highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>=<sp/>atoi(key_value);</highlight></codeline>
<codeline lineno="848"><highlight class="normal"></highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((rc<sp/>=<sp/><ref refid="idmapper__cache_8c_1ab9e636f85fac1edc57f0da904965b8c1" kindref="member">idmap_add</ref>(ht,<sp/>key_name,<sp/>value))<sp/>!=<sp/>ID_MAPPER_SUCCESS)</highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rc;</highlight></codeline>
<codeline lineno="851"><highlight class="normal"></highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">((rc<sp/>=<sp/><ref refid="idmapper__cache_8c_1a95d746a55519b611246b4c9326a28ac1" kindref="member">namemap_add</ref>(ht_reverse,<sp/>value,<sp/>key_name))<sp/>!=<sp/>ID_MAPPER_SUCCESS)</highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rc;</highlight></codeline>
<codeline lineno="854"><highlight class="normal"></highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="856"><highlight class="normal"></highlight></codeline>
<codeline lineno="857"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>HashTable_Log(<sp/>ht<sp/>)<sp/>;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="858"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>HashTable_Log(<sp/>ht_reverse<sp/>)<sp/>;<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="859"><highlight class="normal"></highlight></codeline>
<codeline lineno="860"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ID_MAPPER_SUCCESS;</highlight></codeline>
<codeline lineno="861"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>idmap_populate_by_conf<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="862"><highlight class="normal"></highlight></codeline>
<codeline lineno="878" refid="idmapper__cache_8c_1a4cf74570e95eae91dd4372619fcae7a3" refkind="member"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="idmapper__cache_8c_1a4cf74570e95eae91dd4372619fcae7a3" kindref="member">idmap_get_stats</ref>(idmap_type_t<sp/>maptype,<sp/>hash_stat_t<sp/>*<sp/>phstat,</highlight></codeline>
<codeline lineno="879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hash_stat_t<sp/>*<sp/>phstat_reverse)</highlight></codeline>
<codeline lineno="880"><highlight class="normal">{</highlight></codeline>
<codeline lineno="881"><highlight class="normal"><sp/><sp/>hash_table_t<sp/>*ht<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="882"><highlight class="normal"><sp/><sp/>hash_table_t<sp/>*ht_reverse<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="883"><highlight class="normal"></highlight></codeline>
<codeline lineno="884"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(maptype)</highlight></codeline>
<codeline lineno="885"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="886"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>UIDMAP_TYPE:</highlight></codeline>
<codeline lineno="887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ht<sp/>=<sp/><ref refid="idmapper__cache_8c_1a527093d92c798ccda9b2f416a5ad1144" kindref="member">ht_pwnam</ref>;</highlight></codeline>
<codeline lineno="888"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ht_reverse<sp/>=<sp/><ref refid="idmapper__cache_8c_1acc89124b9f3e051bb615be745629ee8c" kindref="member">ht_pwuid</ref>;</highlight></codeline>
<codeline lineno="889"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="890"><highlight class="normal"></highlight></codeline>
<codeline lineno="891"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>GIDMAP_TYPE:</highlight></codeline>
<codeline lineno="892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ht<sp/>=<sp/><ref refid="idmapper__cache_8c_1ae7494dde624c78de75de7e1e79922d3c" kindref="member">ht_grnam</ref>;</highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ht_reverse<sp/>=<sp/><ref refid="idmapper__cache_8c_1a803ecbb68bca171e9bb89dfd8c38ed98" kindref="member">ht_grgid</ref>;</highlight></codeline>
<codeline lineno="894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="895"><highlight class="normal"></highlight></codeline>
<codeline lineno="896"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Using<sp/>incoherent<sp/>value<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="900"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="901"><highlight class="normal"></highlight></codeline>
<codeline lineno="902"><highlight class="normal"><sp/><sp/>HashTable_GetStats(ht,<sp/>phstat);</highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/>HashTable_GetStats(ht_reverse,<sp/>phstat_reverse);</highlight></codeline>
<codeline lineno="904"><highlight class="normal"></highlight></codeline>
<codeline lineno="905"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>idmap_get_stats<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/export/GANESHA/src/IdMapper/idmapper_cache.c"/>
  </compounddef>
</doxygen>
