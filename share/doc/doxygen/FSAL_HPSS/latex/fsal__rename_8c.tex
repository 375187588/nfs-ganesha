\section{fsal\_\-rename.c File Reference}
\label{fsal__rename_8c}\index{fsal_rename.c@{fsal\_\-rename.c}}
object renaming/moving function. 

{\tt \#include \char`\"{}fsal.h\char`\"{}}\par
{\tt \#include \char`\"{}fsal\_\-internal.h\char`\"{}}\par
{\tt \#include \char`\"{}fsal\_\-convert.h\char`\"{}}\par
{\tt \#include \char`\"{}fsal\_\-common.h\char`\"{}}\par
\subsection*{Functions}
\begin{CompactItemize}
\item 
fsal\_\-status\_\-t {\bf FSAL\_\-rename} (fsal\_\-handle\_\-t $\ast$old\_\-parentdir\_\-handle, fsal\_\-name\_\-t $\ast$p\_\-old\_\-name, fsal\_\-handle\_\-t $\ast$new\_\-parentdir\_\-handle, fsal\_\-name\_\-t $\ast$p\_\-new\_\-name, fsal\_\-op\_\-context\_\-t $\ast$p\_\-context, fsal\_\-attrib\_\-list\_\-t $\ast$src\_\-dir\_\-attributes, fsal\_\-attrib\_\-list\_\-t $\ast$tgt\_\-dir\_\-attributes)
\end{CompactItemize}


\subsection{Detailed Description}
object renaming/moving function. 

\begin{Desc}
\item[Author:]\begin{Desc}
\item[Author]leibovic \end{Desc}
\end{Desc}
\begin{Desc}
\item[Date:]\begin{Desc}
\item[Date]2006/01/24 13:45:37 \end{Desc}
\end{Desc}
\begin{Desc}
\item[Version:]\begin{Desc}
\item[Revision]1.9 \end{Desc}
\end{Desc}


Definition in file {\bf fsal\_\-rename.c}.

\subsection{Function Documentation}
\index{fsal_rename.c@{fsal\_\-rename.c}!FSAL_rename@{FSAL\_\-rename}}
\index{FSAL_rename@{FSAL\_\-rename}!fsal_rename.c@{fsal\_\-rename.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}fsal\_\-status\_\-t FSAL\_\-rename (fsal\_\-handle\_\-t $\ast$ {\em old\_\-parentdir\_\-handle}, fsal\_\-name\_\-t $\ast$ {\em p\_\-old\_\-name}, fsal\_\-handle\_\-t $\ast$ {\em new\_\-parentdir\_\-handle}, fsal\_\-name\_\-t $\ast$ {\em p\_\-new\_\-name}, fsal\_\-op\_\-context\_\-t $\ast$ {\em p\_\-context}, fsal\_\-attrib\_\-list\_\-t $\ast$ {\em src\_\-dir\_\-attributes}, fsal\_\-attrib\_\-list\_\-t $\ast$ {\em tgt\_\-dir\_\-attributes})}\label{fsal__rename_8c_a0}


FSAL\_\-rename: Change name and/or parent dir of a filesystem object.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em old\_\-parentdir\_\-handle}](input): Source parent directory of the object is to be moved/renamed. \item[{\em p\_\-old\_\-name}](input): Pointer to the current name of the object to be moved/renamed. \item[{\em new\_\-parentdir\_\-handle}](input): Target parent directory for the object. \item[{\em p\_\-new\_\-name}](input): Pointer to the new name for the object. \item[{\em p\_\-context}](input): Authentication context for the operation (user,...). \item[{\em src\_\-dir\_\-attributes}](optionnal input/output): Post operation attributes for the source directory. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL. \item[{\em tgt\_\-dir\_\-attributes}](optionnal input/output): Post operation attributes for the target directory. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL.\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Major error codes :\begin{itemize}
\item ERR\_\-FSAL\_\-NO\_\-ERROR (no error)\item ERR\_\-FSAL\_\-STALE (a parent directory handle does not address an existing object)\item ERR\_\-FSAL\_\-NOTDIR (a parent directory handle does not address a directory)\item ERR\_\-FSAL\_\-NOENT (the object designated by p\_\-old\_\-name does not exist)\item ERR\_\-FSAL\_\-NOTEMPTY (the target object is a non empty directory)\item ERR\_\-FSAL\_\-XDEV (tried to move an object across different filesystems)\item ERR\_\-FSAL\_\-FAULT (a NULL pointer was passed as mandatory argument)\item Other error codes can be returned : ERR\_\-FSAL\_\-ACCESS, ERR\_\-FSAL\_\-IO, ... \end{itemize}
\end{Desc}


Definition at line 66 of file fsal\_\-rename.c.

References FSAL\_\-getattrs(), FSAL\_\-handlecmp(), hpss2fsal\_\-error(), and Take\-Token\-FSCall().