\section{fsal\_\-symlinks.c File Reference}
\label{fsal__symlinks_8c}\index{fsal_symlinks.c@{fsal\_\-symlinks.c}}
symlinks operations. 

{\tt \#include \char`\"{}fsal.h\char`\"{}}\par
{\tt \#include \char`\"{}fsal\_\-internal.h\char`\"{}}\par
{\tt \#include \char`\"{}fsal\_\-convert.h\char`\"{}}\par
{\tt \#include \char`\"{}fsal\_\-common.h\char`\"{}}\par
{\tt \#include $<$string.h$>$}\par
{\tt \#include \char`\"{}HPSSclapi\-Ext/hpssclapiext.h\char`\"{}}\par
\subsection*{Functions}
\begin{CompactItemize}
\item 
fsal\_\-status\_\-t {\bf FSAL\_\-readlink} (fsal\_\-handle\_\-t $\ast$linkhandle, fsal\_\-op\_\-context\_\-t $\ast$p\_\-context, fsal\_\-path\_\-t $\ast$p\_\-link\_\-content, fsal\_\-attrib\_\-list\_\-t $\ast$link\_\-attributes)
\item 
fsal\_\-status\_\-t {\bf FSAL\_\-symlink} (fsal\_\-handle\_\-t $\ast$parent\_\-directory\_\-handle, fsal\_\-name\_\-t $\ast$p\_\-linkname, fsal\_\-path\_\-t $\ast$p\_\-linkcontent, fsal\_\-op\_\-context\_\-t $\ast$p\_\-context, fsal\_\-accessmode\_\-t accessmode, fsal\_\-handle\_\-t $\ast$link\_\-handle, fsal\_\-attrib\_\-list\_\-t $\ast$link\_\-attributes)
\end{CompactItemize}


\subsection{Detailed Description}
symlinks operations. 

\begin{Desc}
\item[Author:]\begin{Desc}
\item[Author]leibovic \end{Desc}
\end{Desc}
\begin{Desc}
\item[Date:]\begin{Desc}
\item[Date]2005/07/29 09:39:04 \end{Desc}
\end{Desc}
\begin{Desc}
\item[Version:]\begin{Desc}
\item[Revision]1.15 \end{Desc}
\end{Desc}


Definition in file {\bf fsal\_\-symlinks.c}.

\subsection{Function Documentation}
\index{fsal_symlinks.c@{fsal\_\-symlinks.c}!FSAL_readlink@{FSAL\_\-readlink}}
\index{FSAL_readlink@{FSAL\_\-readlink}!fsal_symlinks.c@{fsal\_\-symlinks.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}fsal\_\-status\_\-t FSAL\_\-readlink (fsal\_\-handle\_\-t $\ast$ {\em linkhandle}, fsal\_\-op\_\-context\_\-t $\ast$ {\em p\_\-context}, fsal\_\-path\_\-t $\ast$ {\em p\_\-link\_\-content}, fsal\_\-attrib\_\-list\_\-t $\ast$ {\em link\_\-attributes})}\label{fsal__symlinks_8c_a0}


FSAL\_\-readlink: Read the content of a symbolic link.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em linkhandle}](input): Handle of the link to be read. \item[{\em cred}](input): Authentication context for the operation (user,...). \item[{\em p\_\-link\_\-content}](output): Pointer to an fsal path structure where the link content is to be stored.. \item[{\em link\_\-attributes}](optionnal input/output): The post operation attributes of the symlink link. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL.\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Major error codes :\begin{itemize}
\item ERR\_\-FSAL\_\-NO\_\-ERROR (no error)\item ERR\_\-FSAL\_\-STALE (linkhandle does not address an existing object)\item ERR\_\-FSAL\_\-INVAL (linkhandle does not address a symbolic link)\item ERR\_\-FSAL\_\-FAULT (a NULL pointer was passed as mandatory argument)\item Other error codes can be returned : ERR\_\-FSAL\_\-ACCESS, ERR\_\-FSAL\_\-IO, ... \end{itemize}
\end{Desc}


Definition at line 54 of file fsal\_\-symlinks.c.

References FSAL\_\-getattrs(), FSAL\_\-str2path(), hpss2fsal\_\-error(), and Take\-Token\-FSCall().\index{fsal_symlinks.c@{fsal\_\-symlinks.c}!FSAL_symlink@{FSAL\_\-symlink}}
\index{FSAL_symlink@{FSAL\_\-symlink}!fsal_symlinks.c@{fsal\_\-symlinks.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}fsal\_\-status\_\-t FSAL\_\-symlink (fsal\_\-handle\_\-t $\ast$ {\em parent\_\-directory\_\-handle}, fsal\_\-name\_\-t $\ast$ {\em p\_\-linkname}, fsal\_\-path\_\-t $\ast$ {\em p\_\-linkcontent}, fsal\_\-op\_\-context\_\-t $\ast$ {\em p\_\-context}, fsal\_\-accessmode\_\-t {\em accessmode}, fsal\_\-handle\_\-t $\ast$ {\em link\_\-handle}, fsal\_\-attrib\_\-list\_\-t $\ast$ {\em link\_\-attributes})}\label{fsal__symlinks_8c_a1}


FSAL\_\-symlink: Create a symbolic link.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em parent\_\-directory\_\-handle}](input): Handle of the parent directory where the link is to be created. \item[{\em p\_\-linkname}](input): Name of the link to be created. \item[{\em p\_\-linkcontent}](input): Content of the link to be created. \item[{\em cred}](input): Authentication context for the operation (user,...). \item[{\em accessmode}](ignored input): Mode of the link to be created. It has no sense in HPSS nor UNIX filesystems. \item[{\em link\_\-handle}](output): Pointer to the handle of the created symlink. \item[{\em link\_\-attributes}](optionnal input/output): Attributes of the newly created symlink. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL.\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Major error codes :\begin{itemize}
\item ERR\_\-FSAL\_\-NO\_\-ERROR (no error)\item ERR\_\-FSAL\_\-STALE (parent\_\-directory\_\-handle does not address an existing object)\item ERR\_\-FSAL\_\-NOTDIR (parent\_\-directory\_\-handle does not address a directory)\item ERR\_\-FSAL\_\-FAULT (a NULL pointer was passed as mandatory argument)\item Other error codes can be returned : ERR\_\-FSAL\_\-ACCESS, ERR\_\-FSAL\_\-IO, ... \end{itemize}
\end{Desc}


Definition at line 162 of file fsal\_\-symlinks.c.

References hpss2fsal\_\-attributes(), hpss2fsal\_\-error(), and Take\-Token\-FSCall().