\section{fsal\_\-convert.c File Reference}
\label{fsal__convert_8c}\index{fsal\_\-convert.c@{fsal\_\-convert.c}}


HPSS-\/FSAL type translation functions.  
{\ttfamily \#include \char`\"{}fsal\_\-convert.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}fsal\_\-internal.h\char`\"{}}\par
{\ttfamily \#include $<$sys/types.h$>$}\par
{\ttfamily \#include $<$errno.h$>$}\par
{\ttfamily \#include $<$hpss\_\-errno.h$>$}\par
\subsection*{Defines}
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries MAX\_\-2}(x, y)~( (x) $>$ (y) ? (x) : (y) )\label{fsal__convert_8c_a29bc465820d0719bc24cb339e75806d0}

\item 
\#define {\bfseries MAX\_\-3}(x, y, z)~( (x) $>$ (y) ? MAX\_\-2((x),(z)) : MAX\_\-2((y),(z)) )\label{fsal__convert_8c_ae28623bae2af7d233caa8038601aa853}

\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int {\bf hpss2fsal\_\-error} (int hpss\_\-errorcode)
\item 
int {\bf fsal2hpss\_\-testperm} (fsal\_\-accessflags\_\-t testperm)
\item 
int {\bf fsal2hpss\_\-openflags} (fsal\_\-openflags\_\-t fsal\_\-flags, int $\ast$p\_\-hpss\_\-flags)
\item 
fsal\_\-nodetype\_\-t {\bf hpss2fsal\_\-type} (unsigned32 hpss\_\-type\_\-in)
\item 
fsal\_\-time\_\-t {\bf hpss2fsal\_\-time} (timestamp\_\-sec\_\-t tsec)
\item 
fsal\_\-u64\_\-t {\bf hpss2fsal\_\-64} (u\_\-signed64 hpss\_\-size\_\-in)
\item 
u\_\-signed64 {\bf fsal2hpss\_\-64} (fsal\_\-u64\_\-t fsal\_\-size\_\-in)
\item 
fsal\_\-fsid\_\-t {\bf hpss2fsal\_\-fsid} (u\_\-signed64 hpss\_\-fsid\_\-in)
\item 
fsal\_\-accessmode\_\-t {\bf hpss2fsal\_\-mode} (unsigned32 uid\_\-bit, unsigned32 gid\_\-bit, unsigned32 sticky\_\-bit, unsigned32 user\_\-perms, unsigned32 group\_\-perms, unsigned32 other\_\-perms)
\item 
void {\bf fsal2hpss\_\-mode} (fsal\_\-accessmode\_\-t fsal\_\-mode, unsigned32 $\ast$uid\_\-bit, unsigned32 $\ast$gid\_\-bit, unsigned32 $\ast$sticky\_\-bit, unsigned32 $\ast$user\_\-perms, unsigned32 $\ast$group\_\-perms, unsigned32 $\ast$other\_\-perms)
\item 
fsal\_\-status\_\-t {\bf hpss2fsal\_\-attributes} (ns\_\-ObjHandle\_\-t $\ast$p\_\-hpss\_\-handle\_\-in, hpss\_\-Attrs\_\-t $\ast$p\_\-hpss\_\-attr\_\-in, fsal\_\-attrib\_\-list\_\-t $\ast$p\_\-fsalattr\_\-out)
\item 
fsal\_\-status\_\-t {\bf hpssHandle2fsalAttributes} (ns\_\-ObjHandle\_\-t $\ast$p\_\-hpsshandle\_\-in, fsal\_\-attrib\_\-list\_\-t $\ast$p\_\-fsalattr\_\-out)
\item 
fsal\_\-status\_\-t {\bf fsal2hpss\_\-attribset} (hpssfsal\_\-handle\_\-t $\ast$p\_\-fsal\_\-handle, fsal\_\-attrib\_\-list\_\-t $\ast$p\_\-attrib\_\-set, hpss\_\-fileattrbits\_\-t $\ast$p\_\-hpss\_\-attrmask, hpss\_\-Attrs\_\-t $\ast$p\_\-hpss\_\-attrs)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
HPSS-\/FSAL type translation functions. \begin{DoxyAuthor}{Author}

\end{DoxyAuthor}
Author}
leibovic \begin{DoxyDate}{Date}

\end{DoxyDate}
Date}
2006/02/08 12:46:59 \begin{DoxyVersion}{Version}

\end{DoxyVersion}
Revision}
1.32 

Definition in file {\bf fsal\_\-convert.c}.

\subsection{Function Documentation}
\index{fsal\_\-convert.c@{fsal\_\-convert.c}!fsal2hpss\_\-64@{fsal2hpss\_\-64}}
\index{fsal2hpss\_\-64@{fsal2hpss\_\-64}!fsal_convert.c@{fsal\_\-convert.c}}
\subsubsection[{fsal2hpss\_\-64}]{\setlength{\rightskip}{0pt plus 5cm}u\_\-signed64 fsal2hpss\_\-64 (fsal\_\-u64\_\-t {\em fsal\_\-size\_\-in})}\label{fsal__convert_8c_a3be6f72cf25b694659cd9bd268ba2eee}
fsal2hpss\_\-64: Convert fsal\_\-u64\_\-t type to HPSS u\_\-signed64 type.


\begin{DoxyParams}{Parameters}
\item[{\em fsal\_\-size\_\-in}](input): The FSAL 64 bits number.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ The HPSS 64 bits number. 
\end{DoxyReturn}


Definition at line 389 of file fsal\_\-convert.c.

Referenced by fsal2hpss\_\-attribset(), and HPSSFSAL\_\-truncate().\index{fsal\_\-convert.c@{fsal\_\-convert.c}!fsal2hpss\_\-attribset@{fsal2hpss\_\-attribset}}
\index{fsal2hpss\_\-attribset@{fsal2hpss\_\-attribset}!fsal_convert.c@{fsal\_\-convert.c}}
\subsubsection[{fsal2hpss\_\-attribset}]{\setlength{\rightskip}{0pt plus 5cm}fsal\_\-status\_\-t fsal2hpss\_\-attribset (hpssfsal\_\-handle\_\-t $\ast$ {\em p\_\-fsal\_\-handle}, \/  fsal\_\-attrib\_\-list\_\-t $\ast$ {\em p\_\-attrib\_\-set}, \/  hpss\_\-fileattrbits\_\-t $\ast$ {\em p\_\-hpss\_\-attrmask}, \/  hpss\_\-Attrs\_\-t $\ast$ {\em p\_\-hpss\_\-attrs})}\label{fsal__convert_8c_afbbd36d1e250d2ce9728eb6694ce408e}
fsal2hpss\_\-attribset: Converts an fsal attrib list to a hpss attrib list and values to be used in Setattr.


\begin{DoxyParams}{Parameters}
\item[{\em p\_\-fsal\_\-handle}](input): Pointer to the FSAL object handle. \item[{\em p\_\-attrib\_\-set}](input): Pointer to the FSAL attributes to be set. \item[{\em p\_\-hpss\_\-attrmask}](output): Pointer to the HPSS attribute list associated to the FSAL asked\_\-attributes. \item[{\em p\_\-hpss\_\-attrs}](output): Pointer to the HPSS attribute values associated to input attributes.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Major error codes:
\begin{DoxyItemize}
\item ERR\_\-FSAL\_\-NO\_\-ERROR: no error.
\item ERR\_\-FSAL\_\-FAULT: NULL pointer passed as parameter.
\item ERR\_\-FSAL\_\-ATTRNOTSUPP: Some of the asked attributes are not supported.
\item ERR\_\-FSAL\_\-INVAL: Some of the asked attributes are read-\/only.
\item ERR\_\-FSAL\_\-SERVERFAULT: Unexpected error. 
\end{DoxyItemize}
\end{DoxyReturn}


\begin{Desc}
\item[{\bf Todo}]: Define some constants for settable and supported attributes. \end{Desc}


\begin{Desc}
\item[{\bf Todo}]ACL management \end{Desc}


Definition at line 882 of file fsal\_\-convert.c.

References fsal2hpss\_\-64(), and fsal2hpss\_\-mode().

Referenced by HPSSFSAL\_\-setattrs().\index{fsal\_\-convert.c@{fsal\_\-convert.c}!fsal2hpss\_\-mode@{fsal2hpss\_\-mode}}
\index{fsal2hpss\_\-mode@{fsal2hpss\_\-mode}!fsal_convert.c@{fsal\_\-convert.c}}
\subsubsection[{fsal2hpss\_\-mode}]{\setlength{\rightskip}{0pt plus 5cm}void fsal2hpss\_\-mode (fsal\_\-accessmode\_\-t {\em fsal\_\-mode}, \/  unsigned32 $\ast$ {\em uid\_\-bit}, \/  unsigned32 $\ast$ {\em gid\_\-bit}, \/  unsigned32 $\ast$ {\em sticky\_\-bit}, \/  unsigned32 $\ast$ {\em user\_\-perms}, \/  unsigned32 $\ast$ {\em group\_\-perms}, \/  unsigned32 $\ast$ {\em other\_\-perms})}\label{fsal__convert_8c_a11565e39b6627a2e811d25b168eb7658}
fsal2hpss\_\-mode: converts FSAL mode to HPSS mode.


\begin{DoxyParams}{Parameters}
\item[{\em fsal\_\-mode}](input): The fsal mode to be translated. \item[{\em uid\_\-bit}](output): The uid\_\-bit field to be set in HPSS object attributes. \item[{\em gid\_\-bit}](output): The gid\_\-bit field to be set in HPSS object attributes. \item[{\em sticky\_\-bit}](output): The sticky\_\-bit field to be set in HPSS object attributes. \item[{\em user\_\-perms}](output): The user\_\-perms field to be set in HPSS object attributes. \item[{\em group\_\-perms}](output): The group\_\-perms field to be set in HPSS object attributes. \item[{\em other\_\-perms}](output): The other\_\-perms field to be set in HPSS object attributes.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Nothing. 
\end{DoxyReturn}


Definition at line 505 of file fsal\_\-convert.c.

Referenced by fsal2hpss\_\-attribset().\index{fsal\_\-convert.c@{fsal\_\-convert.c}!fsal2hpss\_\-openflags@{fsal2hpss\_\-openflags}}
\index{fsal2hpss\_\-openflags@{fsal2hpss\_\-openflags}!fsal_convert.c@{fsal\_\-convert.c}}
\subsubsection[{fsal2hpss\_\-openflags}]{\setlength{\rightskip}{0pt plus 5cm}int fsal2hpss\_\-openflags (fsal\_\-openflags\_\-t {\em fsal\_\-flags}, \/  int $\ast$ {\em p\_\-hpss\_\-flags})}\label{fsal__convert_8c_a835aedeac0e6677dcef16b69e42e2cde}
fsal2hpss\_\-openflags: Convert FSAL open flags to (HPSS) Posix open flags.


\begin{DoxyParams}{Parameters}
\item[{\em fsal\_\-flags}](input): The FSAL open flags to be translated. \item[{\em p\_\-hpss\_\-flags}](output): Pointer to the HPSS open flags.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ ERR\_\-FSAL\_\-NO\_\-ERROR (no error).
\begin{DoxyItemize}
\item ERR\_\-FSAL\_\-FAULT (p\_\-hpss\_\-flags is a NULL pointer).
\item ERR\_\-FSAL\_\-INVAL (invalid or incompatible input flags). 
\end{DoxyItemize}
\end{DoxyReturn}


Definition at line 252 of file fsal\_\-convert.c.

Referenced by HPSSFSAL\_\-open().\index{fsal\_\-convert.c@{fsal\_\-convert.c}!fsal2hpss\_\-testperm@{fsal2hpss\_\-testperm}}
\index{fsal2hpss\_\-testperm@{fsal2hpss\_\-testperm}!fsal_convert.c@{fsal\_\-convert.c}}
\subsubsection[{fsal2hpss\_\-testperm}]{\setlength{\rightskip}{0pt plus 5cm}int fsal2hpss\_\-testperm (fsal\_\-accessflags\_\-t {\em testperm})}\label{fsal__convert_8c_aa85a0a90dbf019ac770cbdc2c4b59ca2}
fsal2hpss\_\-testperm: Convert FSAL permission flags to (HPSS) Posix permission flags.


\begin{DoxyParams}{Parameters}
\item[{\em testperm}](input): The FSAL permission flags to be tested.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The HPSS permission flags to be tested. 
\end{DoxyReturn}


Definition at line 221 of file fsal\_\-convert.c.

Referenced by HPSSFSAL\_\-access().\index{fsal\_\-convert.c@{fsal\_\-convert.c}!hpss2fsal\_\-64@{hpss2fsal\_\-64}}
\index{hpss2fsal\_\-64@{hpss2fsal\_\-64}!fsal_convert.c@{fsal\_\-convert.c}}
\subsubsection[{hpss2fsal\_\-64}]{\setlength{\rightskip}{0pt plus 5cm}fsal\_\-u64\_\-t hpss2fsal\_\-64 (u\_\-signed64 {\em hpss\_\-size\_\-in})}\label{fsal__convert_8c_a1720b0c9b09fd3abc1b5384937d9c7f1}
hpss2fsal\_\-64: Convert HPSS u\_\-signed64 type to fsal\_\-u64\_\-t type.


\begin{DoxyParams}{Parameters}
\item[{\em hpss\_\-size\_\-in}](input): The HPSS 64 bits number.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ The FSAL 64 bits number. 
\end{DoxyReturn}


Definition at line 371 of file fsal\_\-convert.c.

Referenced by hpss2fsal\_\-attributes().\index{fsal\_\-convert.c@{fsal\_\-convert.c}!hpss2fsal\_\-attributes@{hpss2fsal\_\-attributes}}
\index{hpss2fsal\_\-attributes@{hpss2fsal\_\-attributes}!fsal_convert.c@{fsal\_\-convert.c}}
\subsubsection[{hpss2fsal\_\-attributes}]{\setlength{\rightskip}{0pt plus 5cm}fsal\_\-status\_\-t hpss2fsal\_\-attributes (ns\_\-ObjHandle\_\-t $\ast$ {\em p\_\-hpss\_\-handle\_\-in}, \/  hpss\_\-Attrs\_\-t $\ast$ {\em p\_\-hpss\_\-attr\_\-in}, \/  fsal\_\-attrib\_\-list\_\-t $\ast$ {\em p\_\-fsalattr\_\-out})}\label{fsal__convert_8c_aa38d336547d49c8dc635f4a0b473fbe5}
hpss2fsal\_\-attributes: Fills an FSAL attributes structure with the info provided by the hpss handle and the hpss attributes of an object.


\begin{DoxyParams}{Parameters}
\item[{\em p\_\-hpss\_\-handle\_\-in}](input): Pointer to the HPSS NS object handle. \item[{\em p\_\-hpss\_\-attr\_\-in}](input): Pointer to the HPSS attributes. \item[{\em p\_\-fsalattr\_\-out}](input/output): Pointer to the FSAL attributes. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). \item[{\em p\_\-cred}](input) HPSS Credential.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Major error codes:
\begin{DoxyItemize}
\item ERR\_\-FSAL\_\-NO\_\-ERROR: no error.
\item ERR\_\-FSAL\_\-FAULT: NULL pointer passed as input parameter.
\item ERR\_\-FSAL\_\-ATTRNOTSUPP: One of the asked attributes is not supported.
\item ERR\_\-FSAL\_\-SERVERFAULT: Unexpected error. 
\end{DoxyItemize}
\end{DoxyReturn}


\begin{Desc}
\item[{\bf Todo}]: This doesn't convert ACLs for the moment. \end{Desc}


Definition at line 602 of file fsal\_\-convert.c.

References hpss2fsal\_\-64(), hpss2fsal\_\-fsid(), hpss2fsal\_\-mode(), hpss2fsal\_\-time(), and hpss2fsal\_\-type().

Referenced by HPSSFSAL\_\-create(), HPSSFSAL\_\-getattrs(), HPSSFSAL\_\-lookup(), HPSSFSAL\_\-lookupJunction(), HPSSFSAL\_\-mkdir(), HPSSFSAL\_\-open(), HPSSFSAL\_\-readdir(), HPSSFSAL\_\-setattrs(), and HPSSFSAL\_\-symlink().\index{fsal\_\-convert.c@{fsal\_\-convert.c}!hpss2fsal\_\-error@{hpss2fsal\_\-error}}
\index{hpss2fsal\_\-error@{hpss2fsal\_\-error}!fsal_convert.c@{fsal\_\-convert.c}}
\subsubsection[{hpss2fsal\_\-error}]{\setlength{\rightskip}{0pt plus 5cm}int hpss2fsal\_\-error (int {\em hpss\_\-errorcode})}\label{fsal__convert_8c_a6348179c6dd9f68021108a1e7b1b53bc}
hpss2fsal\_\-error : Convert HPSS error codes to FSAL error codes.


\begin{DoxyParams}{Parameters}
\item[{\em hpss\_\-errorcode}](input): The error code returned from HPSS.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The FSAL error code associated to hpss\_\-errorcode. 
\end{DoxyReturn}


\begin{Desc}
\item[{\bf Todo}]: The EBADF error also happens when file is opened for reading, and we try writting in it. In this case, we return ERR\_\-FSAL\_\-NOT\_\-OPENED, but it doesn't seems to be a correct error translation. \end{Desc}


\begin{DoxyWarning}{Warning}
AIX returns EEXIST where BSD uses ENOTEMPTY; We want ENOTEMPTY to be interpreted anyway on AIX plateforms. Thus, we explicitely write its value (87).
\end{DoxyWarning}


Definition at line 38 of file fsal\_\-convert.c.

Referenced by HPSSFSAL\_\-access(), HPSSFSAL\_\-close(), HPSSFSAL\_\-create(), HPSSFSAL\_\-dynamic\_\-fsinfo(), HPSSFSAL\_\-getattrs(), HPSSFSAL\_\-GetXAttrValueById(), HPSSFSAL\_\-GetXAttrValueByName(), HPSSFSAL\_\-link(), HPSSFSAL\_\-lookup(), HPSSFSAL\_\-lookupJunction(), HPSSFSAL\_\-mkdir(), HPSSFSAL\_\-open(), HPSSFSAL\_\-rcp(), HPSSFSAL\_\-read(), HPSSFSAL\_\-readdir(), HPSSFSAL\_\-readlink(), HPSSFSAL\_\-rename(), HPSSFSAL\_\-setattrs(), HPSSFSAL\_\-symlink(), HPSSFSAL\_\-truncate(), HPSSFSAL\_\-unlink(), and HPSSFSAL\_\-write().\index{fsal\_\-convert.c@{fsal\_\-convert.c}!hpss2fsal\_\-fsid@{hpss2fsal\_\-fsid}}
\index{hpss2fsal\_\-fsid@{hpss2fsal\_\-fsid}!fsal_convert.c@{fsal\_\-convert.c}}
\subsubsection[{hpss2fsal\_\-fsid}]{\setlength{\rightskip}{0pt plus 5cm}fsal\_\-fsid\_\-t hpss2fsal\_\-fsid (u\_\-signed64 {\em hpss\_\-fsid\_\-in})}\label{fsal__convert_8c_ac54c0723f79f51a9516feb8d7ccfc0d8}
hpss2fsal\_\-fsid: Convert HPSS fsid type to FSAL fsid type.


\begin{DoxyParams}{Parameters}
\item[{\em hpss\_\-fsid\_\-in}](input): The HPSS fsid to be translated.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ The FSAL fsid associated to hpss\_\-fsid\_\-in. 
\end{DoxyReturn}


Definition at line 408 of file fsal\_\-convert.c.

Referenced by hpss2fsal\_\-attributes().\index{fsal\_\-convert.c@{fsal\_\-convert.c}!hpss2fsal\_\-mode@{hpss2fsal\_\-mode}}
\index{hpss2fsal\_\-mode@{hpss2fsal\_\-mode}!fsal_convert.c@{fsal\_\-convert.c}}
\subsubsection[{hpss2fsal\_\-mode}]{\setlength{\rightskip}{0pt plus 5cm}fsal\_\-accessmode\_\-t hpss2fsal\_\-mode (unsigned32 {\em uid\_\-bit}, \/  unsigned32 {\em gid\_\-bit}, \/  unsigned32 {\em sticky\_\-bit}, \/  unsigned32 {\em user\_\-perms}, \/  unsigned32 {\em group\_\-perms}, \/  unsigned32 {\em other\_\-perms})}\label{fsal__convert_8c_adcccec129d19a0f7a97aeb76420caf4e}
hpss2fsal\_\-mode: Convert HPSS mode to FSAL mode.


\begin{DoxyParams}{Parameters}
\item[{\em uid\_\-bit}](input): The uid\_\-bit field from HPSS object attributes. \item[{\em gid\_\-bit}](input): The gid\_\-bit field from HPSS object attributes. \item[{\em sticky\_\-bit}](input): The sticky\_\-bit field from HPSS object attributes. \item[{\em user\_\-perms}](input): The user\_\-perms field from HPSS object attributes. \item[{\em group\_\-perms}](input): The group\_\-perms field from HPSS object attributes. \item[{\em other\_\-perms}](input): The other\_\-perms field from HPSS object attributes.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The FSAL mode associated to input parameters. 
\end{DoxyReturn}


Definition at line 439 of file fsal\_\-convert.c.

Referenced by hpss2fsal\_\-attributes().\index{fsal\_\-convert.c@{fsal\_\-convert.c}!hpss2fsal\_\-time@{hpss2fsal\_\-time}}
\index{hpss2fsal\_\-time@{hpss2fsal\_\-time}!fsal_convert.c@{fsal\_\-convert.c}}
\subsubsection[{hpss2fsal\_\-time}]{\setlength{\rightskip}{0pt plus 5cm}fsal\_\-time\_\-t hpss2fsal\_\-time (timestamp\_\-sec\_\-t {\em tsec})}\label{fsal__convert_8c_a300abfc1218fa0f2814a0d6ab513a71c}
hpss2fsal\_\-time: Convert HPSS time structure (timestamp\_\-sec\_\-t) to FSAL time type (fsal\_\-time\_\-t). 

Definition at line 350 of file fsal\_\-convert.c.

Referenced by hpss2fsal\_\-attributes().\index{fsal\_\-convert.c@{fsal\_\-convert.c}!hpss2fsal\_\-type@{hpss2fsal\_\-type}}
\index{hpss2fsal\_\-type@{hpss2fsal\_\-type}!fsal_convert.c@{fsal\_\-convert.c}}
\subsubsection[{hpss2fsal\_\-type}]{\setlength{\rightskip}{0pt plus 5cm}fsal\_\-nodetype\_\-t hpss2fsal\_\-type (unsigned32 {\em hpss\_\-type\_\-in})}\label{fsal__convert_8c_a111704e087414214b69f8876316c5ca9}
hpss2fsal\_\-type: Convert HPSS NS object type to FSAL node type.


\begin{DoxyParams}{Parameters}
\item[{\em hpss\_\-type\_\-in}](input): The HPSS NS object type from NSObjHandle.Type.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ The FSAL node type associated to hpss\_\-type\_\-in.
\begin{DoxyItemize}
\item -\/1 if the input type is unknown. 
\end{DoxyItemize}
\end{DoxyReturn}


Definition at line 319 of file fsal\_\-convert.c.

Referenced by hpss2fsal\_\-attributes(), HPSSFSAL\_\-ExpandHandle(), HPSSFSAL\_\-lookup(), HPSSFSAL\_\-lookupJunction(), HPSSFSAL\_\-readdir(), and hpssHandle2fsalAttributes().\index{fsal\_\-convert.c@{fsal\_\-convert.c}!hpssHandle2fsalAttributes@{hpssHandle2fsalAttributes}}
\index{hpssHandle2fsalAttributes@{hpssHandle2fsalAttributes}!fsal_convert.c@{fsal\_\-convert.c}}
\subsubsection[{hpssHandle2fsalAttributes}]{\setlength{\rightskip}{0pt plus 5cm}fsal\_\-status\_\-t hpssHandle2fsalAttributes (ns\_\-ObjHandle\_\-t $\ast$ {\em p\_\-hpsshandle\_\-in}, \/  fsal\_\-attrib\_\-list\_\-t $\ast$ {\em p\_\-fsalattr\_\-out})}\label{fsal__convert_8c_af1b20dd7b00c695d3da12699a8ab4a93}
hpssHandle2fsalAttributes: Fills an FSAL attributes structure with the info provided (only) by the hpss handle of an object.


\begin{DoxyParams}{Parameters}
\item[{\em p\_\-hpsshandle\_\-in}](input): Pointer to the HPSS NS object handle. \item[{\em p\_\-fsalattr\_\-out}](input/output): Pointer to the FSAL attributes. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains).\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Major error codes:
\begin{DoxyItemize}
\item ERR\_\-FSAL\_\-NO\_\-ERROR: no error.
\item ERR\_\-FSAL\_\-FAULT: NULL pointer passed as input parameter.
\item ERR\_\-FSAL\_\-ATTRNOTSUPP: One of the asked attributes is not supported.
\item ERR\_\-FSAL\_\-SERVERFAULT: Unexpected error. 
\end{DoxyItemize}
\end{DoxyReturn}


Definition at line 816 of file fsal\_\-convert.c.

References hpss2fsal\_\-type().

Referenced by HPSSFSAL\_\-readdir().