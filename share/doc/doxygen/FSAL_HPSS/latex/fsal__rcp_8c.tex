\section{fsal\_\-rcp.c File Reference}
\label{fsal__rcp_8c}\index{fsal\_\-rcp.c@{fsal\_\-rcp.c}}


Transfer operations.  
{\ttfamily \#include $<$unistd.h$>$}\par
{\ttfamily \#include \char`\"{}fsal.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}fsal\_\-internal.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}fsal\_\-convert.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}stuff\_\-alloc.h\char`\"{}}\par
\subsection*{Defines}
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries RCP\_\-BUFFER\_\-SIZE}~1048576\label{fsal__rcp_8c_aa89c28e4de124af032c98de9f22616fe}

\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
fsal\_\-status\_\-t {\bf HPSSFSAL\_\-rcp} (hpssfsal\_\-handle\_\-t $\ast$filehandle, hpssfsal\_\-op\_\-context\_\-t $\ast$p\_\-context, fsal\_\-path\_\-t $\ast$p\_\-local\_\-path, fsal\_\-rcpflag\_\-t transfer\_\-opt)
\item 
fsal\_\-status\_\-t {\bfseries HPSSFSAL\_\-rcp\_\-by\_\-fileid} (hpssfsal\_\-handle\_\-t $\ast$filehandle, fsal\_\-u64\_\-t fileid, hpssfsal\_\-op\_\-context\_\-t $\ast$p\_\-context, fsal\_\-path\_\-t $\ast$p\_\-local\_\-path, fsal\_\-rcpflag\_\-t transfer\_\-opt)\label{fsal__rcp_8c_ad9d0ff9087d3a2bfefa4e416d76217aa}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Transfer operations. \begin{DoxyAuthor}{Author}

\end{DoxyAuthor}
Author}
leibovic \begin{DoxyDate}{Date}

\end{DoxyDate}
Date}
2006/01/24 13:45:37 \begin{DoxyVersion}{Version}

\end{DoxyVersion}
Revision}
1.7 

Definition in file {\bf fsal\_\-rcp.c}.

\subsection{Function Documentation}
\index{fsal\_\-rcp.c@{fsal\_\-rcp.c}!HPSSFSAL\_\-rcp@{HPSSFSAL\_\-rcp}}
\index{HPSSFSAL\_\-rcp@{HPSSFSAL\_\-rcp}!fsal_rcp.c@{fsal\_\-rcp.c}}
\subsubsection[{HPSSFSAL\_\-rcp}]{\setlength{\rightskip}{0pt plus 5cm}fsal\_\-status\_\-t HPSSFSAL\_\-rcp (hpssfsal\_\-handle\_\-t $\ast$ {\em filehandle}, \/  hpssfsal\_\-op\_\-context\_\-t $\ast$ {\em p\_\-context}, \/  fsal\_\-path\_\-t $\ast$ {\em p\_\-local\_\-path}, \/  fsal\_\-rcpflag\_\-t {\em transfer\_\-opt})}\label{fsal__rcp_8c_a35c444900ecb812ceaa216ad92ec175d}
FSAL\_\-rcp: Copy an HPSS file to/from a local filesystem.


\begin{DoxyParams}{Parameters}
\item[{\em filehandle}](input): Handle of the HPSS file to be copied. \item[{\em p\_\-context}](input): Authentication context for the operation (user,...). \item[{\em p\_\-local\_\-path}](input): Path of the file in the local filesystem. \item[{\em transfer\_\-opt}](input): Flags that indicate transfer direction and options. This consists of an inclusive OR between the following values :
\begin{DoxyItemize}
\item FSAL\_\-RCP\_\-FS\_\-TO\_\-LOCAL: Copy the file from the filesystem to a local path.
\item FSAL\_\-RCP\_\-LOCAL\_\-TO\_\-FS: Copy the file from local path to the filesystem.
\item FSAL\_\-RCP\_\-LOCAL\_\-CREAT: Create the target local file if it doesn't exist.
\item FSAL\_\-RCP\_\-LOCAL\_\-EXCL: Produce an error if the target local file already exists.
\end{DoxyItemize}\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Major error codes :
\begin{DoxyItemize}
\item ERR\_\-FSAL\_\-NO\_\-ERROR (no error)
\item ERR\_\-FSAL\_\-ACCESS (user doesn't have the permissions for opening the file)
\item ERR\_\-FSAL\_\-STALE (filehandle does not address an existing object)
\item ERR\_\-FSAL\_\-INVAL (filehandle does not address a regular file, or tranfert options are conflicting)
\item ERR\_\-FSAL\_\-FAULT (a NULL pointer was passed as mandatory argument)
\item Other error codes can be returned : ERR\_\-FSAL\_\-IO, ERR\_\-FSAL\_\-NOSPC, ERR\_\-FSAL\_\-DQUOT... 
\end{DoxyItemize}
\end{DoxyReturn}


Definition at line 57 of file fsal\_\-rcp.c.

References hpss2fsal\_\-error(), HPSSFSAL\_\-close(), HPSSFSAL\_\-open(), HPSSFSAL\_\-read(), and HPSSFSAL\_\-write().