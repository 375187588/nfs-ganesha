\section{fsal\_\-rcp.c File Reference}
\label{fsal__rcp_8c}\index{fsal_rcp.c@{fsal\_\-rcp.c}}
Transfer operations. 

{\tt \#include \char`\"{}fsal.h\char`\"{}}\par
{\tt \#include \char`\"{}fsal\_\-internal.h\char`\"{}}\par
{\tt \#include \char`\"{}fsal\_\-convert.h\char`\"{}}\par
{\tt \#include \char`\"{}stuff\_\-alloc.h\char`\"{}}\par
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define {\bf RCP\_\-BUFFER\_\-SIZE}\ 1048576\label{fsal__rcp_8c_a0}

\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
fsal\_\-status\_\-t {\bf FSAL\_\-rcp} (fsal\_\-handle\_\-t $\ast$filehandle, fsal\_\-op\_\-context\_\-t $\ast$p\_\-context, fsal\_\-path\_\-t $\ast$p\_\-local\_\-path, fsal\_\-rcpflag\_\-t transfer\_\-opt)
\item 
fsal\_\-status\_\-t {\bf FSAL\_\-rcp\_\-by\_\-fileid} (fsal\_\-handle\_\-t $\ast$filehandle, fsal\_\-u64\_\-t fileid, fsal\_\-op\_\-context\_\-t $\ast$p\_\-context, fsal\_\-path\_\-t $\ast$p\_\-local\_\-path, fsal\_\-rcpflag\_\-t transfer\_\-opt)\label{fsal__rcp_8c_a2}

\end{CompactItemize}


\subsection{Detailed Description}
Transfer operations. 

\begin{Desc}
\item[Author:]\begin{Desc}
\item[Author]leibovic \end{Desc}
\end{Desc}
\begin{Desc}
\item[Date:]\begin{Desc}
\item[Date]2006/01/24 13:45:37 \end{Desc}
\end{Desc}
\begin{Desc}
\item[Version:]\begin{Desc}
\item[Revision]1.7 \end{Desc}
\end{Desc}


Definition in file {\bf fsal\_\-rcp.c}.

\subsection{Function Documentation}
\index{fsal_rcp.c@{fsal\_\-rcp.c}!FSAL_rcp@{FSAL\_\-rcp}}
\index{FSAL_rcp@{FSAL\_\-rcp}!fsal_rcp.c@{fsal\_\-rcp.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}fsal\_\-status\_\-t FSAL\_\-rcp (fsal\_\-handle\_\-t $\ast$ {\em filehandle}, fsal\_\-op\_\-context\_\-t $\ast$ {\em p\_\-context}, fsal\_\-path\_\-t $\ast$ {\em p\_\-local\_\-path}, fsal\_\-rcpflag\_\-t {\em transfer\_\-opt})}\label{fsal__rcp_8c_a1}


FSAL\_\-rcp: Copy an HPSS file to/from a local filesystem.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em filehandle}](input): Handle of the HPSS file to be copied. \item[{\em p\_\-context}](input): Authentication context for the operation (user,...). \item[{\em p\_\-local\_\-path}](input): Path of the file in the local filesystem. \item[{\em transfer\_\-opt}](input): Flags that indicate transfer direction and options. This consists of an inclusive OR between the following values :\begin{itemize}
\item FSAL\_\-RCP\_\-FS\_\-TO\_\-LOCAL: Copy the file from the filesystem to a local path.\item FSAL\_\-RCP\_\-LOCAL\_\-TO\_\-FS: Copy the file from local path to the filesystem.\item FSAL\_\-RCP\_\-LOCAL\_\-CREAT: Create the target local file if it doesn't exist.\item FSAL\_\-RCP\_\-LOCAL\_\-EXCL: Produce an error if the target local file already exists.\end{itemize}
\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Major error codes :\begin{itemize}
\item ERR\_\-FSAL\_\-NO\_\-ERROR (no error)\item ERR\_\-FSAL\_\-ACCESS (user doesn't have the permissions for opening the file)\item ERR\_\-FSAL\_\-STALE (filehandle does not address an existing object)\item ERR\_\-FSAL\_\-INVAL (filehandle does not address a regular file, or tranfert options are conflicting)\item ERR\_\-FSAL\_\-FAULT (a NULL pointer was passed as mandatory argument)\item Other error codes can be returned : ERR\_\-FSAL\_\-IO, ERR\_\-FSAL\_\-NOSPC, ERR\_\-FSAL\_\-DQUOT... \end{itemize}
\end{Desc}


Definition at line 58 of file fsal\_\-rcp.c.

References FSAL\_\-close(), FSAL\_\-open(), FSAL\_\-read(), FSAL\_\-write(), and hpss2fsal\_\-error().