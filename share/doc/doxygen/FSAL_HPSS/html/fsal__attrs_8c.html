<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>File System Abstraction Layer (HPSS) library: fsal_attrs.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>fsal_attrs.c File Reference</h1>Attributes functions. <a href="#_details">More...</a>
<p>
<code>#include "fsal.h"</code><br>
<code>#include "fsal_internal.h"</code><br>
<code>#include "fsal_convert.h"</code><br>
<code>#include "HPSSclapiExt/hpssclapiext.h"</code><br>

<p>
<a href="fsal__attrs_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__attrs_8c.html#a0">FSAL_getattrs</a> (fsal_handle_t *filehandle, fsal_op_context_t *p_context, fsal_attrib_list_t *object_attributes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__attrs_8c.html#a1">FSAL_setattrs</a> (fsal_handle_t *filehandle, fsal_op_context_t *p_context, fsal_attrib_list_t *attrib_set, fsal_attrib_list_t *object_attributes)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Attributes functions. 
<p>
<dl compact><dt><b>Author:</b></dt><dd><dl compact><dt><b>Author</b></dt><dd>leibovic </dd></dl>
</dd></dl>
<dl compact><dt><b>Date:</b></dt><dd><dl compact><dt><b>Date</b></dt><dd>2005/09/09 15:22:49 </dd></dl>
</dd></dl>
<dl compact><dt><b>Version:</b></dt><dd><dl compact><dt><b>Revision</b></dt><dd>1.19 </dd></dl>
</dd></dl>

<p>
Definition in file <a class="el" href="fsal__attrs_8c-source.html">fsal_attrs.c</a>.<hr><h2>Function Documentation</h2>
<a class="anchor" name="a0" doxytag="fsal_attrs.c::FSAL_getattrs"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">fsal_status_t FSAL_getattrs           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">fsal_handle_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>filehandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fsal_op_context_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fsal_attrib_list_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>object_attributes</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
FSAL_getattrs: Get attributes for the object specified by its filehandle.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>filehandle</em>&nbsp;</td><td>(input): The handle of the object to get parameters. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_context</em>&nbsp;</td><td>(input): Authentication context for the operation (user, export...). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>object_attributes</em>&nbsp;</td><td>(mandatory input/output): The retrieved attributes for the object. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains).</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li><li>ERR_FSAL_STALE (object_handle does not address an existing object)</li><li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li><li>Another error code if an error occured. </li></ul>
</dd></dl>

<p>
Definition at line <a class="el" href="fsal__attrs_8c-source.html#l00044">44</a> of file <a class="el" href="fsal__attrs_8c-source.html">fsal_attrs.c</a>.
<p>
References <a class="el" href="fsal__convert_8c-source.html#l00631">hpss2fsal_attributes()</a>, <a class="el" href="fsal__convert_8c-source.html#l00038">hpss2fsal_error()</a>, and <a class="el" href="fsal__internal_8c-source.html#l00267">TakeTokenFSCall()</a>.
<p>
Referenced by <a class="el" href="fsal__access_8c-source.html#l00057">FSAL_access()</a>, <a class="el" href="fsal__create_8c-source.html#l00363">FSAL_link()</a>, <a class="el" href="fsal__lookup_8c-source.html#l00059">FSAL_lookup()</a>, <a class="el" href="fsal__symlinks_8c-source.html#l00054">FSAL_readlink()</a>, <a class="el" href="fsal__rename_8c-source.html#l00066">FSAL_rename()</a>, <a class="el" href="fsal__attrs_8c-source.html#l00138">FSAL_setattrs()</a>, <a class="el" href="fsal__truncate_8c-source.html#l00052">FSAL_truncate()</a>, and <a class="el" href="fsal__unlink_8c-source.html#l00052">FSAL_unlink()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="fsal_attrs.c::FSAL_setattrs"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">fsal_status_t FSAL_setattrs           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">fsal_handle_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>filehandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fsal_op_context_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fsal_attrib_list_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>attrib_set</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fsal_attrib_list_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>object_attributes</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
FSAL_setattrs: Set attributes for the object specified by its filehandle.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>filehandle</em>&nbsp;</td><td>(input): The handle of the object to get parameters. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_context</em>&nbsp;</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>attrib_set</em>&nbsp;</td><td>(mandatory input): The attributes to be set for the object. It defines the attributes that the caller wants to set and their values. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>object_attributes</em>&nbsp;</td><td>(optionnal input/output): The post operation attributes for the object. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li><li>ERR_FSAL_STALE (object_handle does not address an existing object)</li><li>ERR_FSAL_INVAL (tried to modify a read-only attribute)</li><li>ERR_FSAL_ATTRNOTSUPP (tried to modify a non-supported attribute)</li><li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li><li>Another error code if an error occured. NB: if getting postop attributes failed, the function does not return an error but the FSAL_ATTR_RDATTR_ERR bit is set in the object_attributes-&gt;asked_attributes field.</li></ul>
</dd></dl>
<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>: chown restricted seems to be OK. <p>
voir pourquoi hpss_fattr_out ne contient pas ce qu'il devrait contenir</dd></dl>

<p>
Definition at line <a class="el" href="fsal__attrs_8c-source.html#l00138">138</a> of file <a class="el" href="fsal__attrs_8c-source.html">fsal_attrs.c</a>.
<p>
References <a class="el" href="fsal__convert_8c-source.html#l00919">fsal2hpss_attribset()</a>, <a class="el" href="fsal__attrs_8c-source.html#l00044">FSAL_getattrs()</a>, <a class="el" href="fsal__convert_8c-source.html#l00631">hpss2fsal_attributes()</a>, <a class="el" href="fsal__convert_8c-source.html#l00038">hpss2fsal_error()</a>, and <a class="el" href="fsal__internal_8c-source.html#l00267">TakeTokenFSCall()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Wed Apr 9 08:24:43 2008 for File System Abstraction Layer (HPSS) library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
