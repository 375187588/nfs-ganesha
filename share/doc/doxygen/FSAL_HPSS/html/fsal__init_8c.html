<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>File System Abstraction Layer (HPSS) library: fsal_init.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>fsal_init.c File Reference</h1>Initialization functions.  
<a href="#_details">More...</a>
<p>
<code>#include &quot;fsal.h&quot;</code><br>
<code>#include &quot;fsal_internal.h&quot;</code><br>
<code>#include &quot;fsal_common.h&quot;</code><br>
<code>#include &quot;HPSSclapiExt/hpssclapiext.h&quot;</code><br>

<p>
<a href="fsal__init_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SET_BITMAP_PARAM</b>(api_cfg, p_init_info, _field)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SET_INTEGER_PARAM</b>(api_cfg, p_init_info, _field)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SET_STRING_PARAM</b>(api_cfg, p_init_info, _field)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__init_8c.html#0be44bf9d728985f8631b3aa8911b36f">FSAL_Init</a> (fsal_parameter_t *init_info)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="dabe2f2fc596731b07948fb0f9ae51db"></a><!-- doxytag: member="fsal_init.c::FSAL_terminate" ref="dabe2f2fc596731b07948fb0f9ae51db" args="()" -->
fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>FSAL_terminate</b> ()</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Initialization functions. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd></dd></dl>
<dl class="rcs" compact><dt><b>Author</b></dt><dd>leibovic </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd></dd></dl>
<dl class="rcs" compact><dt><b>Date</b></dt><dd>2006/01/24 13:45:37 </dd></dl>
<dl class="version" compact><dt><b>Version:</b></dt><dd></dd></dl>
<dl class="rcs" compact><dt><b>Revision</b></dt><dd>1.20 </dd></dl>

<p>Definition in file <a class="el" href="fsal__init_8c-source.html">fsal_init.c</a>.</p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="d4acf7e55a5ad7300edb9d27c5865001"></a><!-- doxytag: member="fsal_init.c::SET_BITMAP_PARAM" ref="d4acf7e55a5ad7300edb9d27c5865001" args="(api_cfg, p_init_info, _field)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_BITMAP_PARAM          </td>
          <td>(</td>
          <td class="paramtype">api_cfg,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">p_init_info,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_field&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">switch</span>( (p_init_info)-&gt;behaviors._field ){                \
      <span class="keywordflow">case</span> FSAL_INIT_FORCE_VALUE :                            \
        <span class="comment">/* force the value in any case */</span>                     \
        api_cfg._field = (p_init_info)-&gt;hpss_config._field;   \
        <span class="keywordflow">break</span>;                                                \
      <span class="keywordflow">case</span> FSAL_INIT_MAX_LIMIT :                              \
        <span class="comment">/* remove the flags not specified by user (AND) */</span>    \
        api_cfg._field &amp;= (p_init_info)-&gt;hpss_config._field;  \
        <span class="keywordflow">break</span>;                                                \
      <span class="keywordflow">case</span> FSAL_INIT_MIN_LIMIT :                              \
        <span class="comment">/* add the flags specified by user (OR) */</span>            \
        api_cfg._field |= (p_init_info)-&gt;hpss_config._field;  \
        <span class="keywordflow">break</span>;                                                \
    <span class="comment">/* In the other cases, we keep the default value. */</span>      \
    }                                                         \
</pre></div>
<p>Definition at line <a class="el" href="fsal__init_8c-source.html#l00083">83</a> of file <a class="el" href="fsal__init_8c-source.html">fsal_init.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="802153fcb81fd9f7b272dbf6eb477aec"></a><!-- doxytag: member="fsal_init.c::SET_INTEGER_PARAM" ref="802153fcb81fd9f7b272dbf6eb477aec" args="(api_cfg, p_init_info, _field)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_INTEGER_PARAM          </td>
          <td>(</td>
          <td class="paramtype">api_cfg,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">p_init_info,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_field&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">switch</span>( (p_init_info)-&gt;behaviors._field ){                    \
    <span class="keywordflow">case</span> FSAL_INIT_FORCE_VALUE :                                  \
        <span class="comment">/* force the value in any case */</span>                         \
        api_cfg._field = (p_init_info)-&gt;hpss_config._field;       \
        <span class="keywordflow">break</span>;                                                \
    <span class="keywordflow">case</span> FSAL_INIT_MAX_LIMIT :                                    \
      <span class="comment">/* check the higher limit */</span>                                \
      if ( api_cfg._field &gt; (p_init_info)-&gt;hpss_config._field )   \
        api_cfg._field = (p_init_info)-&gt;hpss_config._field ;      \
        <span class="keywordflow">break</span>;                                                \
    <span class="keywordflow">case</span> FSAL_INIT_MIN_LIMIT :                                    \
      <span class="comment">/* check the lower limit */</span>                                 \
      <span class="keywordflow">if</span> ( api_cfg._field &lt; (p_init_info)-&gt;hpss_config._field )   \
        api_cfg._field = (p_init_info)-&gt;hpss_config._field ;      \
        <span class="keywordflow">break</span>;                                                \
    <span class="comment">/* In the other cases, we keep the default value. */</span>          \
    }                                                             \
</pre></div>
<p>Definition at line <a class="el" href="fsal__init_8c-source.html#l00101">101</a> of file <a class="el" href="fsal__init_8c-source.html">fsal_init.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="7e81fe711a5c74c6137e9ee255672ff7"></a><!-- doxytag: member="fsal_init.c::SET_STRING_PARAM" ref="7e81fe711a5c74c6137e9ee255672ff7" args="(api_cfg, p_init_info, _field)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SET_STRING_PARAM          </td>
          <td>(</td>
          <td class="paramtype">api_cfg,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">p_init_info,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_field&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">switch</span>( (p_init_info)-&gt;behaviors._field ){                    \
    <span class="keywordflow">case</span> FSAL_INIT_FORCE_VALUE :                                  \
      <span class="comment">/* force the value in any case */</span>                           \
      strcpy(api_cfg._field,(p_init_info)-&gt;hpss_config._field);   \
      <span class="keywordflow">break</span>;                                                \
    <span class="comment">/* In the other cases, we keep the default value. */</span>          \
    }                                                             \
</pre></div>
<p>Definition at line <a class="el" href="fsal__init_8c-source.html#l00121">121</a> of file <a class="el" href="fsal__init_8c-source.html">fsal_init.c</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="0be44bf9d728985f8631b3aa8911b36f"></a><!-- doxytag: member="fsal_init.c::FSAL_Init" ref="0be44bf9d728985f8631b3aa8911b36f" args="(fsal_parameter_t *init_info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fsal_status_t FSAL_Init           </td>
          <td>(</td>
          <td class="paramtype">fsal_parameter_t *&nbsp;</td>
          <td class="paramname"> <em>init_info</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
FSAL_Init : Initializes the FileSystem Abstraction Layer.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>init_info</em>&nbsp;</td><td>(input, fsal_parameter_t *) : Pointer to a structure that contains all initialization parameters for the FSAL. Specifically, it contains settings about the filesystem on which the FSAL is based, security settings, logging policy and outputs, and other general FSAL options.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Major error codes : ERR_FSAL_NO_ERROR (initialisation OK) ERR_FSAL_FAULT (init_info pointer is null) ERR_FSAL_SERVERFAULT (misc FSAL error) ERR_FSAL_ALREADY_INIT (The FS is already initialized) ERR_FSAL_BAD_INIT (FS specific init error, minor error code gives the reason for this error.) ERR_FSAL_SEC_INIT (Security context init error). </dd></dl>

<p>Definition at line <a class="el" href="fsal__init_8c-source.html#l00254">254</a> of file <a class="el" href="fsal__init_8c-source.html">fsal_init.c</a>.</p>

<p>References <a class="el" href="fsal__internal_8c-source.html#l00243">fsal_internal_SetCredentialLifetime()</a>, and <a class="el" href="fsal__internal_8c-source.html#l00258">fsal_internal_SetReturnInconsistentDirent()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Mar 31 14:37:19 2009 for File System Abstraction Layer (HPSS) library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
