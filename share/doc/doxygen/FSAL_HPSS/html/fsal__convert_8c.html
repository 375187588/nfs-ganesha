<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>File System Abstraction Layer (HPSS) library: fsal_convert.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>fsal_convert.c File Reference</h1>HPSS-FSAL type translation functions. <a href="#_details">More...</a>
<p>
<code>#include "fsal_convert.h"</code><br>
<code>#include "fsal_internal.h"</code><br>
<code>#include &lt;sys/types.h&gt;</code><br>
<code>#include &lt;errno.h&gt;</code><br>

<p>
<a href="fsal__convert_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a0" doxytag="fsal_convert.c::MAX_2"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MAX_2</b>(x, y)&nbsp;&nbsp;&nbsp;( (x) &gt; (y) ? (x) : (y) )</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a1" doxytag="fsal_convert.c::MAX_3"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MAX_3</b>(x, y, z)&nbsp;&nbsp;&nbsp;( (x) &gt; (y) ? MAX_2((x),(z)) : MAX_2((y),(z)) )</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__convert_8c.html#a2">hpss2fsal_error</a> (int hpss_errorcode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__convert_8c.html#a3">fsal2hpss_testperm</a> (fsal_accessflags_t testperm)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__convert_8c.html#a4">fsal2hpss_openflags</a> (fsal_openflags_t fsal_flags, int *p_hpss_flags)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">mode_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__convert_8c.html#a5">fsal2unix_mode</a> (fsal_accessmode_t fsal_mode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">fsal_accessmode_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__convert_8c.html#a6">unix2fsal_mode</a> (mode_t unix_mode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">fsal_nodetype_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__convert_8c.html#a7">hpss2fsal_type</a> (unsigned32 hpss_type_in)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">fsal_time_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__convert_8c.html#a8">hpss2fsal_time</a> (timestamp_sec_t tsec)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">fsal_u64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__convert_8c.html#a9">hpss2fsal_64</a> (u_signed64 hpss_size_in)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">u_signed64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__convert_8c.html#a10">fsal2hpss_64</a> (fsal_u64_t fsal_size_in)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">fsal_fsid_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__convert_8c.html#a11">hpss2fsal_fsid</a> (u_signed64 hpss_fsid_in)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">fsal_accessmode_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__convert_8c.html#a12">hpss2fsal_mode</a> (unsigned32 uid_bit, unsigned32 gid_bit, unsigned32 sticky_bit, unsigned32 user_perms, unsigned32 group_perms, unsigned32 other_perms)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__convert_8c.html#a13">fsal2hpss_mode</a> (fsal_accessmode_t fsal_mode, unsigned32 *uid_bit, unsigned32 *gid_bit, unsigned32 *sticky_bit, unsigned32 *user_perms, unsigned32 *group_perms, unsigned32 *other_perms)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__convert_8c.html#a14">hpss2fsal_attributes</a> (ns_ObjHandle_t *p_hpss_handle_in, hpss_Attrs_t *p_hpss_attr_in, fsal_attrib_list_t *p_fsalattr_out)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__convert_8c.html#a15">hpssHandle2fsalAttributes</a> (ns_ObjHandle_t *p_hpsshandle_in, fsal_attrib_list_t *p_fsalattr_out)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__convert_8c.html#a16">fsal2hpss_attribset</a> (fsal_handle_t *p_fsal_handle, fsal_attrib_list_t *p_attrib_set, hpss_fileattrbits_t *p_hpss_attrmask, hpss_Attrs_t *p_hpss_attrs)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
HPSS-FSAL type translation functions. 
<p>
<dl compact><dt><b>Author:</b></dt><dd><dl compact><dt><b>Author</b></dt><dd>leibovic </dd></dl>
</dd></dl>
<dl compact><dt><b>Date:</b></dt><dd><dl compact><dt><b>Date</b></dt><dd>2006/02/08 12:46:59 </dd></dl>
</dd></dl>
<dl compact><dt><b>Version:</b></dt><dd><dl compact><dt><b>Revision</b></dt><dd>1.32 </dd></dl>
</dd></dl>

<p>
Definition in file <a class="el" href="fsal__convert_8c-source.html">fsal_convert.c</a>.<hr><h2>Function Documentation</h2>
<a class="anchor" name="a10" doxytag="fsal_convert.c::fsal2hpss_64"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">u_signed64 fsal2hpss_64           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">fsal_u64_t&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>fsal_size_in</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
fsal2hpss_64: Convert fsal_u64_t type to HPSS u_signed64 type.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsal_size_in</em>&nbsp;</td><td>(input): The FSAL 64 bits number.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>- The HPSS 64 bits number. </dd></dl>

<p>
Definition at line <a class="el" href="fsal__convert_8c-source.html#l00443">443</a> of file <a class="el" href="fsal__convert_8c-source.html">fsal_convert.c</a>.
<p>
Referenced by <a class="el" href="fsal__convert_8c-source.html#l00919">fsal2hpss_attribset()</a>, and <a class="el" href="fsal__truncate_8c-source.html#l00052">FSAL_truncate()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="fsal_convert.c::fsal2hpss_attribset"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">fsal_status_t fsal2hpss_attribset           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">fsal_handle_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>p_fsal_handle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fsal_attrib_list_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>p_attrib_set</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>hpss_fileattrbits_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>p_hpss_attrmask</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>hpss_Attrs_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>p_hpss_attrs</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
fsal2hpss_attribset: Converts an fsal attrib list to a hpss attrib list and values to be used in Setattr.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_fsal_handle</em>&nbsp;</td><td>(input): Pointer to the FSAL object handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_attrib_set</em>&nbsp;</td><td>(input): Pointer to the FSAL attributes to be set. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_hpss_attrmask</em>&nbsp;</td><td>(output): Pointer to the HPSS attribute list associated to the FSAL asked_attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_hpss_attrs</em>&nbsp;</td><td>(output): Pointer to the HPSS attribute values associated to input attributes.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR: no error.</li><li>ERR_FSAL_FAULT: NULL pointer passed as parameter.</li><li>ERR_FSAL_ATTRNOTSUPP: Some of the asked attributes are not supported.</li><li>ERR_FSAL_INVAL: Some of the asked attributes are read-only.</li><li>ERR_FSAL_SERVERFAULT: Unexpected error.</li></ul>
</dd></dl>
<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>: Define some constants for settable and supported attributes. <p>
ACL management</dd></dl>

<p>
Definition at line <a class="el" href="fsal__convert_8c-source.html#l00919">919</a> of file <a class="el" href="fsal__convert_8c-source.html">fsal_convert.c</a>.
<p>
References <a class="el" href="fsal__convert_8c-source.html#l00443">fsal2hpss_64()</a>, and <a class="el" href="fsal__convert_8c-source.html#l00556">fsal2hpss_mode()</a>.
<p>
Referenced by <a class="el" href="fsal__attrs_8c-source.html#l00138">FSAL_setattrs()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="fsal_convert.c::fsal2hpss_mode"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void fsal2hpss_mode           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">fsal_accessmode_t&nbsp;</td>
          <td class="mdname" nowrap> <em>fsal_mode</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned32 *&nbsp;</td>
          <td class="mdname" nowrap> <em>uid_bit</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned32 *&nbsp;</td>
          <td class="mdname" nowrap> <em>gid_bit</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned32 *&nbsp;</td>
          <td class="mdname" nowrap> <em>sticky_bit</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned32 *&nbsp;</td>
          <td class="mdname" nowrap> <em>user_perms</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned32 *&nbsp;</td>
          <td class="mdname" nowrap> <em>group_perms</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned32 *&nbsp;</td>
          <td class="mdname" nowrap> <em>other_perms</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
fsal2hpss_mode: converts FSAL mode to HPSS mode.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsal_mode</em>&nbsp;</td><td>(input): The fsal mode to be translated. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>uid_bit</em>&nbsp;</td><td>(output): The uid_bit field to be set in HPSS object attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gid_bit</em>&nbsp;</td><td>(output): The gid_bit field to be set in HPSS object attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sticky_bit</em>&nbsp;</td><td>(output): The sticky_bit field to be set in HPSS object attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_perms</em>&nbsp;</td><td>(output): The user_perms field to be set in HPSS object attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>group_perms</em>&nbsp;</td><td>(output): The group_perms field to be set in HPSS object attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>other_perms</em>&nbsp;</td><td>(output): The other_perms field to be set in HPSS object attributes.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Nothing. </dd></dl>

<p>
Definition at line <a class="el" href="fsal__convert_8c-source.html#l00556">556</a> of file <a class="el" href="fsal__convert_8c-source.html">fsal_convert.c</a>.
<p>
Referenced by <a class="el" href="fsal__convert_8c-source.html#l00919">fsal2hpss_attribset()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="fsal_convert.c::fsal2hpss_openflags"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int fsal2hpss_openflags           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">fsal_openflags_t&nbsp;</td>
          <td class="mdname" nowrap> <em>fsal_flags</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>p_hpss_flags</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
fsal2hpss_openflags: Convert FSAL open flags to (HPSS) Posix open flags.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsal_flags</em>&nbsp;</td><td>(input): The FSAL open flags to be translated. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_hpss_flags</em>&nbsp;</td><td>(output): Pointer to the HPSS open flags.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>- ERR_FSAL_NO_ERROR (no error).<ul>
<li>ERR_FSAL_FAULT (p_hpss_flags is a NULL pointer).</li><li>ERR_FSAL_INVAL (invalid or incompatible input flags). </li></ul>
</dd></dl>

<p>
Definition at line <a class="el" href="fsal__convert_8c-source.html#l00245">245</a> of file <a class="el" href="fsal__convert_8c-source.html">fsal_convert.c</a>.
<p>
Referenced by <a class="el" href="fsal__fileop_8c-source.html#l00122">FSAL_open()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="fsal_convert.c::fsal2hpss_testperm"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int fsal2hpss_testperm           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">fsal_accessflags_t&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>testperm</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
fsal2hpss_testperm: Convert FSAL permission flags to (HPSS) Posix permission flags.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>testperm</em>&nbsp;</td><td>(input): The FSAL permission flags to be tested.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The HPSS permission flags to be tested. </dd></dl>

<p>
Definition at line <a class="el" href="fsal__convert_8c-source.html#l00218">218</a> of file <a class="el" href="fsal__convert_8c-source.html">fsal_convert.c</a>.
<p>
Referenced by <a class="el" href="fsal__access_8c-source.html#l00057">FSAL_access()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="fsal_convert.c::fsal2unix_mode"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">mode_t fsal2unix_mode           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">fsal_accessmode_t&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>fsal_mode</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
fsal2unix_mode: Convert FSAL mode to posix mode.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fsal_mode</em>&nbsp;</td><td>(input): The FSAL mode to be translated.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The posix mode associated to fsal_mode. </dd></dl>

<p>
Definition at line <a class="el" href="fsal__convert_8c-source.html#l00304">304</a> of file <a class="el" href="fsal__convert_8c-source.html">fsal_convert.c</a>.
<p>
Referenced by <a class="el" href="fsal__create_8c-source.html#l00062">FSAL_create()</a>, and <a class="el" href="fsal__create_8c-source.html#l00232">FSAL_mkdir()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="fsal_convert.c::hpss2fsal_64"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">fsal_u64_t hpss2fsal_64           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_signed64&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>hpss_size_in</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
hpss2fsal_64: Convert HPSS u_signed64 type to fsal_u64_t type.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hpss_size_in</em>&nbsp;</td><td>(input): The HPSS 64 bits number.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>- The FSAL 64 bits number. </dd></dl>

<p>
Definition at line <a class="el" href="fsal__convert_8c-source.html#l00424">424</a> of file <a class="el" href="fsal__convert_8c-source.html">fsal_convert.c</a>.
<p>
Referenced by <a class="el" href="fsal__convert_8c-source.html#l00631">hpss2fsal_attributes()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="fsal_convert.c::hpss2fsal_attributes"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">fsal_status_t hpss2fsal_attributes           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ns_ObjHandle_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>p_hpss_handle_in</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>hpss_Attrs_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>p_hpss_attr_in</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fsal_attrib_list_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>p_fsalattr_out</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
hpss2fsal_attributes: Fills an FSAL attributes structure with the info provided by the hpss handle and the hpss attributes of an object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_hpss_handle_in</em>&nbsp;</td><td>(input): Pointer to the HPSS NS object handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_hpss_attr_in</em>&nbsp;</td><td>(input): Pointer to the HPSS attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_fsalattr_out</em>&nbsp;</td><td>(input/output): Pointer to the FSAL attributes. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_cred</em>&nbsp;</td><td>(input) HPSS Credential.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR: no error.</li><li>ERR_FSAL_FAULT: NULL pointer passed as input parameter.</li><li>ERR_FSAL_ATTRNOTSUPP: One of the asked attributes is not supported.</li><li>ERR_FSAL_SERVERFAULT: Unexpected error.</li></ul>
</dd></dl>
<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>: This doesn't convert ACLs for the moment.</dd></dl>

<p>
Definition at line <a class="el" href="fsal__convert_8c-source.html#l00631">631</a> of file <a class="el" href="fsal__convert_8c-source.html">fsal_convert.c</a>.
<p>
References <a class="el" href="fsal__convert_8c-source.html#l00424">hpss2fsal_64()</a>, <a class="el" href="fsal__convert_8c-source.html#l00463">hpss2fsal_fsid()</a>, <a class="el" href="fsal__convert_8c-source.html#l00496">hpss2fsal_mode()</a>, <a class="el" href="fsal__convert_8c-source.html#l00402">hpss2fsal_time()</a>, and <a class="el" href="fsal__convert_8c-source.html#l00370">hpss2fsal_type()</a>.
<p>
Referenced by <a class="el" href="fsal__create_8c-source.html#l00062">FSAL_create()</a>, <a class="el" href="fsal__attrs_8c-source.html#l00044">FSAL_getattrs()</a>, <a class="el" href="fsal__lookup_8c-source.html#l00059">FSAL_lookup()</a>, <a class="el" href="fsal__lookup_8c-source.html#l00232">FSAL_lookupJunction()</a>, <a class="el" href="fsal__create_8c-source.html#l00232">FSAL_mkdir()</a>, <a class="el" href="fsal__fileop_8c-source.html#l00122">FSAL_open()</a>, <a class="el" href="fsal__dirs_8c-source.html#l00117">FSAL_readdir()</a>, <a class="el" href="fsal__attrs_8c-source.html#l00138">FSAL_setattrs()</a>, and <a class="el" href="fsal__symlinks_8c-source.html#l00162">FSAL_symlink()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="fsal_convert.c::hpss2fsal_error"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int hpss2fsal_error           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>hpss_errorcode</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
hpss2fsal_error : Convert HPSS error codes to FSAL error codes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hpss_errorcode</em>&nbsp;</td><td>(input): The error code returned from HPSS.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The FSAL error code associated to hpss_errorcode.</dd></dl>
<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>: The EBADF error also happens when file is opened for reading, and we try writting in it. In this case, we return ERR_FSAL_NOT_OPENED, but it doesn't seems to be a correct error translation. </dd></dl>
<p>
<dl compact><dt><b>Warning:</b></dt><dd>AIX returns EEXIST where BSD uses ENOTEMPTY; We want ENOTEMPTY to be interpreted anyway on AIX plateforms. Thus, we explicitely write its value (87). </dd></dl>

<p>
Definition at line <a class="el" href="fsal__convert_8c-source.html#l00038">38</a> of file <a class="el" href="fsal__convert_8c-source.html">fsal_convert.c</a>.
<p>
Referenced by <a class="el" href="fsal__access_8c-source.html#l00057">FSAL_access()</a>, <a class="el" href="fsal__fileop_8c-source.html#l00530">FSAL_close()</a>, <a class="el" href="fsal__create_8c-source.html#l00062">FSAL_create()</a>, <a class="el" href="fsal__fsinfo_8c-source.html#l00085">FSAL_dynamic_fsinfo()</a>, <a class="el" href="fsal__attrs_8c-source.html#l00044">FSAL_getattrs()</a>, <a class="el" href="fsal__create_8c-source.html#l00363">FSAL_link()</a>, <a class="el" href="fsal__lookup_8c-source.html#l00059">FSAL_lookup()</a>, <a class="el" href="fsal__lookup_8c-source.html#l00232">FSAL_lookupJunction()</a>, <a class="el" href="fsal__create_8c-source.html#l00232">FSAL_mkdir()</a>, <a class="el" href="fsal__fileop_8c-source.html#l00122">FSAL_open()</a>, <a class="el" href="fsal__rcp_8c-source.html#l00058">FSAL_rcp()</a>, <a class="el" href="fsal__fileop_8c-source.html#l00249">FSAL_read()</a>, <a class="el" href="fsal__dirs_8c-source.html#l00117">FSAL_readdir()</a>, <a class="el" href="fsal__symlinks_8c-source.html#l00054">FSAL_readlink()</a>, <a class="el" href="fsal__rename_8c-source.html#l00066">FSAL_rename()</a>, <a class="el" href="fsal__attrs_8c-source.html#l00138">FSAL_setattrs()</a>, <a class="el" href="fsal__symlinks_8c-source.html#l00162">FSAL_symlink()</a>, <a class="el" href="fsal__truncate_8c-source.html#l00052">FSAL_truncate()</a>, <a class="el" href="fsal__unlink_8c-source.html#l00052">FSAL_unlink()</a>, and <a class="el" href="fsal__fileop_8c-source.html#l00397">FSAL_write()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="fsal_convert.c::hpss2fsal_fsid"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">fsal_fsid_t hpss2fsal_fsid           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_signed64&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>hpss_fsid_in</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
hpss2fsal_fsid: Convert HPSS fsid type to FSAL fsid type.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hpss_fsid_in</em>&nbsp;</td><td>(input): The HPSS fsid to be translated.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>- The FSAL fsid associated to hpss_fsid_in. </dd></dl>

<p>
Definition at line <a class="el" href="fsal__convert_8c-source.html#l00463">463</a> of file <a class="el" href="fsal__convert_8c-source.html">fsal_convert.c</a>.
<p>
Referenced by <a class="el" href="fsal__convert_8c-source.html#l00631">hpss2fsal_attributes()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="fsal_convert.c::hpss2fsal_mode"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">fsal_accessmode_t hpss2fsal_mode           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned32&nbsp;</td>
          <td class="mdname" nowrap> <em>uid_bit</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned32&nbsp;</td>
          <td class="mdname" nowrap> <em>gid_bit</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned32&nbsp;</td>
          <td class="mdname" nowrap> <em>sticky_bit</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned32&nbsp;</td>
          <td class="mdname" nowrap> <em>user_perms</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned32&nbsp;</td>
          <td class="mdname" nowrap> <em>group_perms</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned32&nbsp;</td>
          <td class="mdname" nowrap> <em>other_perms</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
hpss2fsal_mode: Convert HPSS mode to FSAL mode.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uid_bit</em>&nbsp;</td><td>(input): The uid_bit field from HPSS object attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gid_bit</em>&nbsp;</td><td>(input): The gid_bit field from HPSS object attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sticky_bit</em>&nbsp;</td><td>(input): The sticky_bit field from HPSS object attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_perms</em>&nbsp;</td><td>(input): The user_perms field from HPSS object attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>group_perms</em>&nbsp;</td><td>(input): The group_perms field from HPSS object attributes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>other_perms</em>&nbsp;</td><td>(input): The other_perms field from HPSS object attributes.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The FSAL mode associated to input parameters. </dd></dl>

<p>
Definition at line <a class="el" href="fsal__convert_8c-source.html#l00496">496</a> of file <a class="el" href="fsal__convert_8c-source.html">fsal_convert.c</a>.
<p>
Referenced by <a class="el" href="fsal__convert_8c-source.html#l00631">hpss2fsal_attributes()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="fsal_convert.c::hpss2fsal_time"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">fsal_time_t hpss2fsal_time           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">timestamp_sec_t&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>tsec</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
hpss2fsal_time: Convert HPSS time structure (timestamp_sec_t) to FSAL time type (fsal_time_t). 
<p>
Definition at line <a class="el" href="fsal__convert_8c-source.html#l00402">402</a> of file <a class="el" href="fsal__convert_8c-source.html">fsal_convert.c</a>.
<p>
Referenced by <a class="el" href="fsal__convert_8c-source.html#l00631">hpss2fsal_attributes()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="fsal_convert.c::hpss2fsal_type"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">fsal_nodetype_t hpss2fsal_type           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned32&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>hpss_type_in</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
hpss2fsal_type: Convert HPSS NS object type to FSAL node type.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hpss_type_in</em>&nbsp;</td><td>(input): The HPSS NS object type from NSObjHandle.Type.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>- The FSAL node type associated to hpss_type_in.<ul>
<li>-1 if the input type is unknown. </li></ul>
</dd></dl>

<p>
Definition at line <a class="el" href="fsal__convert_8c-source.html#l00370">370</a> of file <a class="el" href="fsal__convert_8c-source.html">fsal_convert.c</a>.
<p>
Referenced by <a class="el" href="fsal__tools_8c-source.html#l00449">FSAL_ExpandHandle()</a>, <a class="el" href="fsal__lookup_8c-source.html#l00059">FSAL_lookup()</a>, <a class="el" href="fsal__lookup_8c-source.html#l00232">FSAL_lookupJunction()</a>, <a class="el" href="fsal__dirs_8c-source.html#l00117">FSAL_readdir()</a>, <a class="el" href="fsal__convert_8c-source.html#l00631">hpss2fsal_attributes()</a>, and <a class="el" href="fsal__convert_8c-source.html#l00848">hpssHandle2fsalAttributes()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="fsal_convert.c::hpssHandle2fsalAttributes"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">fsal_status_t hpssHandle2fsalAttributes           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ns_ObjHandle_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>p_hpsshandle_in</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fsal_attrib_list_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>p_fsalattr_out</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
hpssHandle2fsalAttributes: Fills an FSAL attributes structure with the info provided (only) by the hpss handle of an object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_hpsshandle_in</em>&nbsp;</td><td>(input): Pointer to the HPSS NS object handle. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_fsalattr_out</em>&nbsp;</td><td>(input/output): Pointer to the FSAL attributes. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains).</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR: no error.</li><li>ERR_FSAL_FAULT: NULL pointer passed as input parameter.</li><li>ERR_FSAL_ATTRNOTSUPP: One of the asked attributes is not supported.</li><li>ERR_FSAL_SERVERFAULT: Unexpected error. </li></ul>
</dd></dl>

<p>
Definition at line <a class="el" href="fsal__convert_8c-source.html#l00848">848</a> of file <a class="el" href="fsal__convert_8c-source.html">fsal_convert.c</a>.
<p>
References <a class="el" href="fsal__convert_8c-source.html#l00370">hpss2fsal_type()</a>.
<p>
Referenced by <a class="el" href="fsal__dirs_8c-source.html#l00117">FSAL_readdir()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="fsal_convert.c::unix2fsal_mode"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">fsal_accessmode_t unix2fsal_mode           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">mode_t&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>unix_mode</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
unix2fsal_mode: Convert posix mode to FSAL mode.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>unix_mode</em>&nbsp;</td><td>(input): The posix mode to be translated.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The FSAL mode associated to unix_mode. </dd></dl>

<p>
Definition at line <a class="el" href="fsal__convert_8c-source.html#l00336">336</a> of file <a class="el" href="fsal__convert_8c-source.html">fsal_convert.c</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Wed Apr 9 08:24:43 2008 for File System Abstraction Layer (HPSS) library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
