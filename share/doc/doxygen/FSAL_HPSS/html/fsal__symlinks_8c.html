<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>File System Abstraction Layer (HPSS) library: fsal_symlinks.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>fsal_symlinks.c File Reference</h1>symlinks operations. <a href="#_details">More...</a>
<p>
<code>#include "fsal.h"</code><br>
<code>#include "fsal_internal.h"</code><br>
<code>#include "fsal_convert.h"</code><br>
<code>#include "fsal_common.h"</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include "HPSSclapiExt/hpssclapiext.h"</code><br>

<p>
<a href="fsal__symlinks_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__symlinks_8c.html#a0">FSAL_readlink</a> (fsal_handle_t *linkhandle, fsal_op_context_t *p_context, fsal_path_t *p_link_content, fsal_attrib_list_t *link_attributes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__symlinks_8c.html#a1">FSAL_symlink</a> (fsal_handle_t *parent_directory_handle, fsal_name_t *p_linkname, fsal_path_t *p_linkcontent, fsal_op_context_t *p_context, fsal_accessmode_t accessmode, fsal_handle_t *link_handle, fsal_attrib_list_t *link_attributes)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
symlinks operations. 
<p>
<dl compact><dt><b>Author:</b></dt><dd><dl compact><dt><b>Author</b></dt><dd>leibovic </dd></dl>
</dd></dl>
<dl compact><dt><b>Date:</b></dt><dd><dl compact><dt><b>Date</b></dt><dd>2005/07/29 09:39:04 </dd></dl>
</dd></dl>
<dl compact><dt><b>Version:</b></dt><dd><dl compact><dt><b>Revision</b></dt><dd>1.15 </dd></dl>
</dd></dl>

<p>
Definition in file <a class="el" href="fsal__symlinks_8c-source.html">fsal_symlinks.c</a>.<hr><h2>Function Documentation</h2>
<a class="anchor" name="a0" doxytag="fsal_symlinks.c::FSAL_readlink"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">fsal_status_t FSAL_readlink           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">fsal_handle_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>linkhandle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fsal_op_context_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fsal_path_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>p_link_content</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fsal_attrib_list_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>link_attributes</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
FSAL_readlink: Read the content of a symbolic link.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>linkhandle</em>&nbsp;</td><td>(input): Handle of the link to be read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cred</em>&nbsp;</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_link_content</em>&nbsp;</td><td>(output): Pointer to an fsal path structure where the link content is to be stored.. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>link_attributes</em>&nbsp;</td><td>(optionnal input/output): The post operation attributes of the symlink link. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li><li>ERR_FSAL_STALE (linkhandle does not address an existing object)</li><li>ERR_FSAL_INVAL (linkhandle does not address a symbolic link)</li><li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li><li>Other error codes can be returned : ERR_FSAL_ACCESS, ERR_FSAL_IO, ... </li></ul>
</dd></dl>

<p>
Definition at line <a class="el" href="fsal__symlinks_8c-source.html#l00054">54</a> of file <a class="el" href="fsal__symlinks_8c-source.html">fsal_symlinks.c</a>.
<p>
References <a class="el" href="fsal__attrs_8c-source.html#l00044">FSAL_getattrs()</a>, <a class="el" href="fsal__strings_8c-source.html#l00096">FSAL_str2path()</a>, <a class="el" href="fsal__convert_8c-source.html#l00038">hpss2fsal_error()</a>, and <a class="el" href="fsal__internal_8c-source.html#l00267">TakeTokenFSCall()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="fsal_symlinks.c::FSAL_symlink"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">fsal_status_t FSAL_symlink           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">fsal_handle_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>parent_directory_handle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fsal_name_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>p_linkname</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fsal_path_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>p_linkcontent</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fsal_op_context_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fsal_accessmode_t&nbsp;</td>
          <td class="mdname" nowrap> <em>accessmode</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fsal_handle_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>link_handle</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fsal_attrib_list_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>link_attributes</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
FSAL_symlink: Create a symbolic link.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>parent_directory_handle</em>&nbsp;</td><td>(input): Handle of the parent directory where the link is to be created. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_linkname</em>&nbsp;</td><td>(input): Name of the link to be created. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_linkcontent</em>&nbsp;</td><td>(input): Content of the link to be created. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cred</em>&nbsp;</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>accessmode</em>&nbsp;</td><td>(ignored input): Mode of the link to be created. It has no sense in HPSS nor UNIX filesystems. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>link_handle</em>&nbsp;</td><td>(output): Pointer to the handle of the created symlink. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>link_attributes</em>&nbsp;</td><td>(optionnal input/output): Attributes of the newly created symlink. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li><li>ERR_FSAL_STALE (parent_directory_handle does not address an existing object)</li><li>ERR_FSAL_NOTDIR (parent_directory_handle does not address a directory)</li><li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li><li>Other error codes can be returned : ERR_FSAL_ACCESS, ERR_FSAL_IO, ... </li></ul>
</dd></dl>

<p>
Definition at line <a class="el" href="fsal__symlinks_8c-source.html#l00162">162</a> of file <a class="el" href="fsal__symlinks_8c-source.html">fsal_symlinks.c</a>.
<p>
References <a class="el" href="fsal__convert_8c-source.html#l00631">hpss2fsal_attributes()</a>, <a class="el" href="fsal__convert_8c-source.html#l00038">hpss2fsal_error()</a>, and <a class="el" href="fsal__internal_8c-source.html#l00267">TakeTokenFSCall()</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Wed Apr 9 08:24:43 2008 for File System Abstraction Layer (HPSS) library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
