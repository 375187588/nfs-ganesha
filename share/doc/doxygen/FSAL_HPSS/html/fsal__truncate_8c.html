<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File System Abstraction Layer (HPSS) library: fsal_truncate.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>fsal_truncate.c File Reference</h1>
<p>Truncate function.  
<a href="#_details">More...</a></p>
<code>#include &quot;fsal.h&quot;</code><br/>
<code>#include &quot;fsal_internal.h&quot;</code><br/>
<code>#include &quot;fsal_convert.h&quot;</code><br/>
<code>#include &lt;hpss_errno.h&gt;</code><br/>

<p><a href="fsal__truncate_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__truncate_8c.html#aef0c66ea970ac68153cdc96a0ef39706">HPSSFSAL_truncate</a> (hpssfsal_handle_t *filehandle, hpssfsal_op_context_t *p_context, fsal_size_t length, hpssfsal_file_t *file_descriptor, fsal_attrib_list_t *object_attributes)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Truncate function. </p>
<dl class="author"><dt><b>Author:</b></dt><dd></dd></dl>
<dl class="rcs"><dt><b>Author</b></dt><dd>leibovic </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd></dd></dl>
<dl class="rcs"><dt><b>Date</b></dt><dd>2005/07/29 09:39:05 </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd></dd></dl>
<dl class="rcs"><dt><b>Revision</b></dt><dd>1.4 </dd></dl>

<p>Definition in file <a class="el" href="fsal__truncate_8c_source.html">fsal_truncate.c</a>.</p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aef0c66ea970ac68153cdc96a0ef39706"></a><!-- doxytag: member="fsal_truncate.c::HPSSFSAL_truncate" ref="aef0c66ea970ac68153cdc96a0ef39706" args="(hpssfsal_handle_t *filehandle, hpssfsal_op_context_t *p_context, fsal_size_t length, hpssfsal_file_t *file_descriptor, fsal_attrib_list_t *object_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fsal_status_t HPSSFSAL_truncate </td>
          <td>(</td>
          <td class="paramtype">hpssfsal_handle_t *&nbsp;</td>
          <td class="paramname"> <em>filehandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hpssfsal_op_context_t *&nbsp;</td>
          <td class="paramname"> <em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_size_t&nbsp;</td>
          <td class="paramname"> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hpssfsal_file_t *&nbsp;</td>
          <td class="paramname"> <em>file_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_attrib_list_t *&nbsp;</td>
          <td class="paramname"> <em>object_attributes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_truncate: Modify the data length of a regular file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>filehandle</em>&nbsp;</td><td>(input): Handle of the file is to be truncated. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cred</em>&nbsp;</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>(input): The new data length for the file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>object_attributes</em>&nbsp;</td><td>(optionnal input/output): The post operation attributes of the file. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains). May be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes :<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_STALE (filehandle does not address an existing object)</li>
<li>ERR_FSAL_INVAL (filehandle does not address a regular file)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_ACCESS, ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="fsal__truncate_8c_source.html#l00051">51</a> of file <a class="el" href="fsal__truncate_8c_source.html">fsal_truncate.c</a>.</p>

<p>References <a class="el" href="fsal__convert_8c_source.html#l00389">fsal2hpss_64()</a>, <a class="el" href="fsal__convert_8c_source.html#l00038">hpss2fsal_error()</a>, <a class="el" href="fsal__attrs_8c_source.html#l00046">HPSSFSAL_getattrs()</a>, and <a class="el" href="fsal__internal_8c_source.html#l00252">TakeTokenFSCall()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 15 Sep 2010 for File System Abstraction Layer (HPSS) library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
