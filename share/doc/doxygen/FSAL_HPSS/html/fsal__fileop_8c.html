<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>File System Abstraction Layer (HPSS) library: fsal_fileop.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>fsal_fileop.c File Reference</h1>
<p>Files operations.  
<a href="#_details">More...</a></p>
<code>#include &quot;fsal.h&quot;</code><br/>
<code>#include &quot;fsal_internal.h&quot;</code><br/>
<code>#include &quot;fsal_convert.h&quot;</code><br/>
<code>#include &quot;HPSSclapiExt/hpssclapiext.h&quot;</code><br/>
<code>#include &lt;hpss_errno.h&gt;</code><br/>

<p><a href="fsal__fileop_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__fileop_8c.html#a1a1990800b104ebe221bf2590f51df65">HPSSFSAL_open_by_name</a> (hpssfsal_handle_t *dirhandle, fsal_name_t *filename, hpssfsal_op_context_t *p_context, fsal_openflags_t openflags, hpssfsal_file_t *file_descriptor, fsal_attrib_list_t *file_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__fileop_8c.html#a0aafe8a952efc9f73a290f7dc94a2129">HPSSFSAL_open</a> (hpssfsal_handle_t *filehandle, hpssfsal_op_context_t *p_context, fsal_openflags_t openflags, hpssfsal_file_t *file_descriptor, fsal_attrib_list_t *file_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__fileop_8c.html#a4ff7c8c0e6069aa1cde76037aa1212e2">HPSSFSAL_read</a> (hpssfsal_file_t *file_descriptor, fsal_seek_t *seek_descriptor, fsal_size_t buffer_size, caddr_t buffer, fsal_size_t *read_amount, fsal_boolean_t *end_of_file)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__fileop_8c.html#ad0b0eec536d1e6369d319300ee21c4b7">HPSSFSAL_write</a> (hpssfsal_file_t *file_descriptor, fsal_seek_t *seek_descriptor, fsal_size_t buffer_size, caddr_t buffer, fsal_size_t *write_amount)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsal__fileop_8c.html#ad1c5e042a4a4f42637da46c858997520">HPSSFSAL_close</a> (hpssfsal_file_t *file_descriptor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="addd5d1a680c2759014312e1916367f27"></a><!-- doxytag: member="fsal_fileop.c::HPSSFSAL_open_by_fileid" ref="addd5d1a680c2759014312e1916367f27" args="(hpssfsal_handle_t *filehandle, fsal_u64_t fileid, hpssfsal_op_context_t *p_context, fsal_openflags_t openflags, hpssfsal_file_t *file_descriptor, fsal_attrib_list_t *file_attributes)" -->
fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>HPSSFSAL_open_by_fileid</b> (hpssfsal_handle_t *filehandle, fsal_u64_t fileid, hpssfsal_op_context_t *p_context, fsal_openflags_t openflags, hpssfsal_file_t *file_descriptor, fsal_attrib_list_t *file_attributes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4baef2450cc87815be5aa5bb23612029"></a><!-- doxytag: member="fsal_fileop.c::HPSSFSAL_close_by_fileid" ref="a4baef2450cc87815be5aa5bb23612029" args="(hpssfsal_file_t *file_descriptor, fsal_u64_t fileid)" -->
fsal_status_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>HPSSFSAL_close_by_fileid</b> (hpssfsal_file_t *file_descriptor, fsal_u64_t fileid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a57430fe4bc04b42a1da199fbba7bfb48"></a><!-- doxytag: member="fsal_fileop.c::HPSSFSAL_GetFileno" ref="a57430fe4bc04b42a1da199fbba7bfb48" args="(hpssfsal_file_t *pfile)" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><b>HPSSFSAL_GetFileno</b> (hpssfsal_file_t *pfile)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Files operations. </p>
<dl class="author"><dt><b>Author:</b></dt><dd></dd></dl>
<dl class="rcs"><dt><b>Author</b></dt><dd>leibovic </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd></dd></dl>
<dl class="rcs"><dt><b>Date</b></dt><dd>2006/02/15 14:26:10 </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd></dd></dl>
<dl class="rcs"><dt><b>Revision</b></dt><dd>1.11 </dd></dl>

<p>Definition in file <a class="el" href="fsal__fileop_8c_source.html">fsal_fileop.c</a>.</p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ad1c5e042a4a4f42637da46c858997520"></a><!-- doxytag: member="fsal_fileop.c::HPSSFSAL_close" ref="ad1c5e042a4a4f42637da46c858997520" args="(hpssfsal_file_t *file_descriptor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fsal_status_t HPSSFSAL_close </td>
          <td>(</td>
          <td class="paramtype">hpssfsal_file_t *&nbsp;</td>
          <td class="paramname"> <em>file_descriptor</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_close: Free the resources allocated by the FSAL_open call.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file_descriptor</em>&nbsp;</td><td>(input): The file descriptor returned by FSAL_open.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="fsal__fileop_8c_source.html#l00495">495</a> of file <a class="el" href="fsal__fileop_8c_source.html">fsal_fileop.c</a>.</p>

<p>References <a class="el" href="fsal__convert_8c_source.html#l00038">hpss2fsal_error()</a>, and <a class="el" href="fsal__internal_8c_source.html#l00252">TakeTokenFSCall()</a>.</p>

<p>Referenced by <a class="el" href="fsal__rcp_8c_source.html#l00057">HPSSFSAL_rcp()</a>.</p>

</div>
</div>
<a class="anchor" id="a0aafe8a952efc9f73a290f7dc94a2129"></a><!-- doxytag: member="fsal_fileop.c::HPSSFSAL_open" ref="a0aafe8a952efc9f73a290f7dc94a2129" args="(hpssfsal_handle_t *filehandle, hpssfsal_op_context_t *p_context, fsal_openflags_t openflags, hpssfsal_file_t *file_descriptor, fsal_attrib_list_t *file_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fsal_status_t HPSSFSAL_open </td>
          <td>(</td>
          <td class="paramtype">hpssfsal_handle_t *&nbsp;</td>
          <td class="paramname"> <em>filehandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hpssfsal_op_context_t *&nbsp;</td>
          <td class="paramname"> <em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_openflags_t&nbsp;</td>
          <td class="paramname"> <em>openflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hpssfsal_file_t *&nbsp;</td>
          <td class="paramname"> <em>file_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_attrib_list_t *&nbsp;</td>
          <td class="paramname"> <em>file_attributes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_open: Open a regular file for reading/writing its data content.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>filehandle</em>&nbsp;</td><td>(input): Handle of the file to be read/modified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cred</em>&nbsp;</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>openflags</em>&nbsp;</td><td>(input): Flags that indicates behavior for file opening and access. This is an inclusive OR of the following values ( such of them are not compatible) :</p>
<ul>
<li>FSAL_O_RDONLY: opening file for reading only.</li>
<li>FSAL_O_RDWR: opening file for reading and writing.</li>
<li>FSAL_O_WRONLY: opening file for writting only.</li>
<li>FSAL_O_APPEND: always write at the end of the file.</li>
<li>FSAL_O_TRUNC: truncate the file to 0 on opening. </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>file_descriptor</em>&nbsp;</td><td>(output): The file descriptor to be used for FSAL_read/write operations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>file_attributes</em>&nbsp;</td><td>(optionnal input/output): Post operation attributes. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_ACCESS (user doesn't have the permissions for opening the file)</li>
<li>ERR_FSAL_STALE (filehandle does not address an existing object)</li>
<li>ERR_FSAL_INVAL (filehandle does not address a regular file, or open flags are conflicting)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="fsal__fileop_8c_source.html#l00121">121</a> of file <a class="el" href="fsal__fileop_8c_source.html">fsal_fileop.c</a>.</p>

<p>References <a class="el" href="fsal__convert_8c_source.html#l00252">fsal2hpss_openflags()</a>, <a class="el" href="fsal__convert_8c_source.html#l00602">hpss2fsal_attributes()</a>, <a class="el" href="fsal__convert_8c_source.html#l00038">hpss2fsal_error()</a>, and <a class="el" href="fsal__internal_8c_source.html#l00252">TakeTokenFSCall()</a>.</p>

<p>Referenced by <a class="el" href="fsal__fileop_8c_source.html#l00062">HPSSFSAL_open_by_name()</a>, and <a class="el" href="fsal__rcp_8c_source.html#l00057">HPSSFSAL_rcp()</a>.</p>

</div>
</div>
<a class="anchor" id="a1a1990800b104ebe221bf2590f51df65"></a><!-- doxytag: member="fsal_fileop.c::HPSSFSAL_open_by_name" ref="a1a1990800b104ebe221bf2590f51df65" args="(hpssfsal_handle_t *dirhandle, fsal_name_t *filename, hpssfsal_op_context_t *p_context, fsal_openflags_t openflags, hpssfsal_file_t *file_descriptor, fsal_attrib_list_t *file_attributes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fsal_status_t HPSSFSAL_open_by_name </td>
          <td>(</td>
          <td class="paramtype">hpssfsal_handle_t *&nbsp;</td>
          <td class="paramname"> <em>dirhandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_name_t *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hpssfsal_op_context_t *&nbsp;</td>
          <td class="paramname"> <em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_openflags_t&nbsp;</td>
          <td class="paramname"> <em>openflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hpssfsal_file_t *&nbsp;</td>
          <td class="paramname"> <em>file_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_attrib_list_t *&nbsp;</td>
          <td class="paramname"> <em>file_attributes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_open_byname: Open a regular file for reading/writing its data content.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dirhandle</em>&nbsp;</td><td>(input): Handle of the directory that contain the file to be read/modified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>(input): Name of the file to be read/modified </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cred</em>&nbsp;</td><td>(input): Authentication context for the operation (user,...). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>openflags</em>&nbsp;</td><td>(input): Flags that indicates behavior for file opening and access. This is an inclusive OR of the following values ( such of them are not compatible) :</p>
<ul>
<li>FSAL_O_RDONLY: opening file for reading only.</li>
<li>FSAL_O_RDWR: opening file for reading and writing.</li>
<li>FSAL_O_WRONLY: opening file for writting only.</li>
<li>FSAL_O_APPEND: always write at the end of the file.</li>
<li>FSAL_O_TRUNC: truncate the file to 0 on opening. </li>
</ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>file_descriptor</em>&nbsp;</td><td>(output): The file descriptor to be used for FSAL_read/write operations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>file_attributes</em>&nbsp;</td><td>(optionnal input/output): Post operation attributes. As input, it defines the attributes that the caller wants to retrieve (by positioning flags into this structure) and the output is built considering this input (it fills the structure according to the flags it contains).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_ACCESS (user doesn't have the permissions for opening the file)</li>
<li>ERR_FSAL_STALE (filehandle does not address an existing object)</li>
<li>ERR_FSAL_INVAL (filehandle does not address a regular file, or open flags are conflicting)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="fsal__fileop_8c_source.html#l00062">62</a> of file <a class="el" href="fsal__fileop_8c_source.html">fsal_fileop.c</a>.</p>

<p>References <a class="el" href="fsal__lookup_8c_source.html#l00060">HPSSFSAL_lookup()</a>, and <a class="el" href="fsal__fileop_8c_source.html#l00121">HPSSFSAL_open()</a>.</p>

</div>
</div>
<a class="anchor" id="a4ff7c8c0e6069aa1cde76037aa1212e2"></a><!-- doxytag: member="fsal_fileop.c::HPSSFSAL_read" ref="a4ff7c8c0e6069aa1cde76037aa1212e2" args="(hpssfsal_file_t *file_descriptor, fsal_seek_t *seek_descriptor, fsal_size_t buffer_size, caddr_t buffer, fsal_size_t *read_amount, fsal_boolean_t *end_of_file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fsal_status_t HPSSFSAL_read </td>
          <td>(</td>
          <td class="paramtype">hpssfsal_file_t *&nbsp;</td>
          <td class="paramname"> <em>file_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_seek_t *&nbsp;</td>
          <td class="paramname"> <em>seek_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_size_t&nbsp;</td>
          <td class="paramname"> <em>buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">caddr_t&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_size_t *&nbsp;</td>
          <td class="paramname"> <em>read_amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_boolean_t *&nbsp;</td>
          <td class="paramname"> <em>end_of_file</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_read: Perform a read operation on an opened file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file_descriptor</em>&nbsp;</td><td>(input): The file descriptor returned by FSAL_open. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seek_descriptor</em>&nbsp;</td><td>(optional input): Specifies the position where data is to be read. If not specified, data will be read at the current position. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer_size</em>&nbsp;</td><td>(input): Amount (in bytes) of data to be read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>(output): Address where the read data is to be stored in memory. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>read_amount</em>&nbsp;</td><td>(output): Pointer to the amount of data (in bytes) that have been read during this call. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>end_of_file</em>&nbsp;</td><td>(output): Pointer to a boolean that indicates whether the end of file has been reached during this call.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_INVAL (invalid parameter)</li>
<li>ERR_FSAL_NOT_OPENED (tried to read in a non-opened hpssfsal_file_t)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ... </li>
</ul>
</dd></dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd>: manage fsal_size_t to size_t convertion </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000011">Todo:</a></b></dt><dd>: manage ssize_t to fsal_size_t convertion </dd></dl>
</p>

<p>Definition at line <a class="el" href="fsal__fileop_8c_source.html#l00240">240</a> of file <a class="el" href="fsal__fileop_8c_source.html">fsal_fileop.c</a>.</p>

<p>References <a class="el" href="fsal__convert_8c_source.html#l00038">hpss2fsal_error()</a>, and <a class="el" href="fsal__internal_8c_source.html#l00252">TakeTokenFSCall()</a>.</p>

<p>Referenced by <a class="el" href="fsal__rcp_8c_source.html#l00057">HPSSFSAL_rcp()</a>.</p>

</div>
</div>
<a class="anchor" id="ad0b0eec536d1e6369d319300ee21c4b7"></a><!-- doxytag: member="fsal_fileop.c::HPSSFSAL_write" ref="ad0b0eec536d1e6369d319300ee21c4b7" args="(hpssfsal_file_t *file_descriptor, fsal_seek_t *seek_descriptor, fsal_size_t buffer_size, caddr_t buffer, fsal_size_t *write_amount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fsal_status_t HPSSFSAL_write </td>
          <td>(</td>
          <td class="paramtype">hpssfsal_file_t *&nbsp;</td>
          <td class="paramname"> <em>file_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_seek_t *&nbsp;</td>
          <td class="paramname"> <em>seek_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_size_t&nbsp;</td>
          <td class="paramname"> <em>buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">caddr_t&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fsal_size_t *&nbsp;</td>
          <td class="paramname"> <em>write_amount</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FSAL_write: Perform a write operation on an opened file.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file_descriptor</em>&nbsp;</td><td>(input): The file descriptor returned by FSAL_open. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seek_descriptor</em>&nbsp;</td><td>(optional input): Specifies the position where data is to be written. If not specified, data will be written at the current position. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer_size</em>&nbsp;</td><td>(input): Amount (in bytes) of data to be written. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>(input): Address in memory of the data to write to file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>write_amount</em>&nbsp;</td><td>(output): Pointer to the amount of data (in bytes) that have been written during this call.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Major error codes:<ul>
<li>ERR_FSAL_NO_ERROR (no error)</li>
<li>ERR_FSAL_INVAL (invalid parameter)</li>
<li>ERR_FSAL_NOT_OPENED (tried to write in a non-opened hpssfsal_file_t)</li>
<li>ERR_FSAL_FAULT (a NULL pointer was passed as mandatory argument)</li>
<li>Other error codes can be returned : ERR_FSAL_IO, ERR_FSAL_NOSPC, ERR_FSAL_DQUOT... </li>
</ul>
</dd></dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000012">Todo:</a></b></dt><dd>: manage fsal_size_t to size_t convertion </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000013">Todo:</a></b></dt><dd>: manage ssize_t to fsal_size_t convertion </dd></dl>
</p>

<p>Definition at line <a class="el" href="fsal__fileop_8c_source.html#l00374">374</a> of file <a class="el" href="fsal__fileop_8c_source.html">fsal_fileop.c</a>.</p>

<p>References <a class="el" href="fsal__convert_8c_source.html#l00038">hpss2fsal_error()</a>, and <a class="el" href="fsal__internal_8c_source.html#l00252">TakeTokenFSCall()</a>.</p>

<p>Referenced by <a class="el" href="fsal__rcp_8c_source.html#l00057">HPSSFSAL_rcp()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 15 Sep 2010 for File System Abstraction Layer (HPSS) library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
