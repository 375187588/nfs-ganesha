\section{onc\_\-rpc\_\-server.c File Reference}
\label{onc__rpc__server_8c}\index{onc_rpc_server.c@{onc\_\-rpc\_\-server.c}}
{\tt \#include $<$stdio.h$>$}\par
{\tt \#include $<$unistd.h$>$}\par
{\tt \#include $<$stdlib.h$>$}\par
{\tt \#include $<$string.h$>$}\par
{\tt \#include $<$sys/errno.h$>$}\par
{\tt \#include $<$sys/param.h$>$}\par
{\tt \#include $<$sys/types.h$>$}\par
{\tt \#include $<$sys/socket.h$>$}\par
{\tt \#include $<$netdb.h$>$}\par
{\tt \#include $<$netinet/in.h$>$}\par
{\tt \#include $<$netinet/tcp.h$>$}\par
{\tt \#include \char`\"{}Rpc.h\char`\"{}}\par
{\tt \#include \char`\"{}Pmap\_\-clnt.h\char`\"{}}\par
{\tt \#include \char`\"{}gssapi/gssapi.h\char`\"{}}\par
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define {\bf LOGFILE\_\-DEFAUT}\ \char`\"{}./toto-{\bf server}.log\char`\"{}
\item 
\#define {\bf Traduire\-Adresse}(adresse, dest)
\item 
\#define {\bf TIMEOUT\_\-SEC}\ 25
\item 
\#define {\bf DEFAULT\_\-RPC\_\-SERVICE}\ 300400
\item 
\#define {\bf RECV\_\-SIZE}\ 2048
\item 
\#define {\bf SEND\_\-SIZE}\ 2048
\item 
\#define {\bf V1}\ 1
\item 
\#define {\bf PROC\_\-NULL}\ 0
\item 
\#define {\bf PROC\_\-PLUS1}\ 1
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
void {\bf dispatch} (struct Svc\_\-req $\ast$ptr\_\-req, SVCXPRT $\ast$ptr\_\-svc)
\item 
{\bf main} (int argc, char $\ast$argv[$\,$])
\end{CompactItemize}
\subsection*{Variables}
\begin{CompactItemize}
\item 
char {\bf options} [$\,$] = \char`\"{}h\-L:N:s:\char`\"{}
\item 
char {\bf utilisation} [$\,$]
\item 
unsigned int {\bf rpc\_\-service\_\-num} = DEFAULT\_\-RPC\_\-SERVICE
\end{CompactItemize}


\subsection{Define Documentation}
\index{onc_rpc_server.c@{onc\_\-rpc\_\-server.c}!DEFAULT_RPC_SERVICE@{DEFAULT\_\-RPC\_\-SERVICE}}
\index{DEFAULT_RPC_SERVICE@{DEFAULT\_\-RPC\_\-SERVICE}!onc_rpc_server.c@{onc\_\-rpc\_\-server.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DEFAULT\_\-RPC\_\-SERVICE\ 300400}\label{onc__rpc__server_8c_a3}




Definition at line 39 of file onc\_\-rpc\_\-server.c.\index{onc_rpc_server.c@{onc\_\-rpc\_\-server.c}!LOGFILE_DEFAUT@{LOGFILE\_\-DEFAUT}}
\index{LOGFILE_DEFAUT@{LOGFILE\_\-DEFAUT}!onc_rpc_server.c@{onc\_\-rpc\_\-server.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define LOGFILE\_\-DEFAUT\ \char`\"{}./toto-{\bf server}.log\char`\"{}}\label{onc__rpc__server_8c_a0}




Definition at line 31 of file onc\_\-rpc\_\-server.c.

Referenced by main().\index{onc_rpc_server.c@{onc\_\-rpc\_\-server.c}!PROC_NULL@{PROC\_\-NULL}}
\index{PROC_NULL@{PROC\_\-NULL}!onc_rpc_server.c@{onc\_\-rpc\_\-server.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define PROC\_\-NULL\ 0}\label{onc__rpc__server_8c_a7}




Definition at line 43 of file onc\_\-rpc\_\-server.c.\index{onc_rpc_server.c@{onc\_\-rpc\_\-server.c}!PROC_PLUS1@{PROC\_\-PLUS1}}
\index{PROC_PLUS1@{PROC\_\-PLUS1}!onc_rpc_server.c@{onc\_\-rpc\_\-server.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define PROC\_\-PLUS1\ 1}\label{onc__rpc__server_8c_a8}




Definition at line 44 of file onc\_\-rpc\_\-server.c.\index{onc_rpc_server.c@{onc\_\-rpc\_\-server.c}!RECV_SIZE@{RECV\_\-SIZE}}
\index{RECV_SIZE@{RECV\_\-SIZE}!onc_rpc_server.c@{onc\_\-rpc\_\-server.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define RECV\_\-SIZE\ 2048}\label{onc__rpc__server_8c_a4}




Definition at line 40 of file onc\_\-rpc\_\-server.c.\index{onc_rpc_server.c@{onc\_\-rpc\_\-server.c}!SEND_SIZE@{SEND\_\-SIZE}}
\index{SEND_SIZE@{SEND\_\-SIZE}!onc_rpc_server.c@{onc\_\-rpc\_\-server.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define SEND\_\-SIZE\ 2048}\label{onc__rpc__server_8c_a5}




Definition at line 41 of file onc\_\-rpc\_\-server.c.\index{onc_rpc_server.c@{onc\_\-rpc\_\-server.c}!TIMEOUT_SEC@{TIMEOUT\_\-SEC}}
\index{TIMEOUT_SEC@{TIMEOUT\_\-SEC}!onc_rpc_server.c@{onc\_\-rpc\_\-server.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define TIMEOUT\_\-SEC\ 25}\label{onc__rpc__server_8c_a2}




Definition at line 38 of file onc\_\-rpc\_\-server.c.\index{onc_rpc_server.c@{onc\_\-rpc\_\-server.c}!TraduireAdresse@{TraduireAdresse}}
\index{TraduireAdresse@{TraduireAdresse}!onc_rpc_server.c@{onc\_\-rpc\_\-server.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define Traduire\-Adresse(adresse, dest)}\label{onc__rpc__server_8c_a1}


{\bf Value:}

\footnotesize\begin{verbatim}sprintf( dest, "%d.%d.%d.%d",                   \
                  ( ntohl( adresse ) & 0xFF000000 ) >> 24, \
                  ( ntohl( adresse ) & 0x00FF0000 ) >> 16, \
                  ( ntohl( adresse ) & 0x0000FF00 ) >> 8,  \
                  ( ntohl( adresse ) & 0x000000FF ) )
\end{verbatim}\normalsize 


Definition at line 32 of file onc\_\-rpc\_\-server.c.\index{onc_rpc_server.c@{onc\_\-rpc\_\-server.c}!V1@{V1}}
\index{V1@{V1}!onc_rpc_server.c@{onc\_\-rpc\_\-server.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define V1\ 1}\label{onc__rpc__server_8c_a6}




Definition at line 42 of file onc\_\-rpc\_\-server.c.

\subsection{Function Documentation}
\index{onc_rpc_server.c@{onc\_\-rpc\_\-server.c}!dispatch@{dispatch}}
\index{dispatch@{dispatch}!onc_rpc_server.c@{onc\_\-rpc\_\-server.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void dispatch (struct Svc\_\-req $\ast$ {\em ptr\_\-req}, SVCXPRT $\ast$ {\em ptr\_\-svc})}\label{onc__rpc__server_8c_a13}




Definition at line 63 of file onc\_\-rpc\_\-server.c.

References PROC\_\-NULL, PROC\_\-PLUS1, Svc\_\-sendreply(), Svcerr\_\-decode(), Xdr\_\-int(), and Xdr\_\-void().

Referenced by main().\index{onc_rpc_server.c@{onc\_\-rpc\_\-server.c}!main@{main}}
\index{main@{main}!onc_rpc_server.c@{onc\_\-rpc\_\-server.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}main (int {\em argc}, char $\ast$ {\em argv}[$\,$])}\label{onc__rpc__server_8c_a14}




Definition at line 105 of file onc\_\-rpc\_\-server.c.

References dispatch(), LOGFILE\_\-DEFAUT, options, Pmap\_\-unset(), RECV\_\-SIZE, rpc\_\-service\_\-num, SEND\_\-SIZE, Svc\_\-register(), Svc\_\-run(), Svcauth\_\-gss\_\-tab\_\-creds\_\-alloc(), Svctcp\_\-create(), utilisation, and V1.

\subsection{Variable Documentation}
\index{onc_rpc_server.c@{onc\_\-rpc\_\-server.c}!options@{options}}
\index{options@{options}!onc_rpc_server.c@{onc\_\-rpc\_\-server.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}char {\bf options}[$\,$] = \char`\"{}h\-L:N:s:\char`\"{}}\label{onc__rpc__server_8c_a9}




Definition at line 48 of file onc\_\-rpc\_\-server.c.\index{onc_rpc_server.c@{onc\_\-rpc\_\-server.c}!rpc_service_num@{rpc\_\-service\_\-num}}
\index{rpc_service_num@{rpc\_\-service\_\-num}!onc_rpc_server.c@{onc\_\-rpc\_\-server.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}unsigned int {\bf rpc\_\-service\_\-num} = DEFAULT\_\-RPC\_\-SERVICE}\label{onc__rpc__server_8c_a12}




Definition at line 60 of file onc\_\-rpc\_\-server.c.

Referenced by main().\index{onc_rpc_server.c@{onc\_\-rpc\_\-server.c}!utilisation@{utilisation}}
\index{utilisation@{utilisation}!onc_rpc_server.c@{onc\_\-rpc\_\-server.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}char {\bf utilisation}[$\,$]}\label{onc__rpc__server_8c_a10}


{\bf Initial value:}

\footnotesize\begin{verbatim} 
"Utilisation: %s [-hLs] \n"
"\t[-h]                   affiche cet aide en ligne\n"
"\t[-L <logfile>]         indique le fichier de log\n"
"\t[-N <NivDebug>]        indique le niveau de debug pour les journaux\n" 
"\t[-s <service RPC>]     indique le port ou le service a utiliser\n"
\end{verbatim}\normalsize 


Definition at line 51 of file onc\_\-rpc\_\-server.c.